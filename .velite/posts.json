[
  {
    "title": "AI 串接指南 - 以 Perplexity 為例",
    "date": "2025-02-06T00:00:00.000Z",
    "description": "最近 AI 工具越來越火，我也想在專案裡串接看看。試了幾個 API 後發現 Perplexity 挺不錯的，不只回答準確，還會自動引用來源。分享一下我的串接經驗和踩過的坑。",
    "category": "Code",
    "tags": [
      "AI",
      "Perplexity",
      "API Integration",
      "NLP",
      "ChatBot"
    ],
    "image": "/blog/posts/2025/02/perplexity.jpeg",
    "slug": "ai-integration-guide-perplexity-api",
    "code": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(r){const s={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(l,{children:[n(s.h2,{children:\"為什麼我選擇 Perplexity？\"}),\"\\n\",n(s.p,{children:\"最近 AI 工具真的很火，ChatGPT、Claude、Gemini 各種選擇。我原本想用 OpenAI API，但發現 Perplexity 有個很棒的特點：它會自動引用網路來源，回答比較有憑據。\"}),\"\\n\",n(s.p,{children:\"特別是做資訊查詢功能的時候，用戶能看到資料來源會更有信任感。而且 Perplexity 的搜尋能力真的很強，常常能找到最新的資訊。\"}),\"\\n\",n(s.h2,{children:\"什麼是 Perplexity？\"}),\"\\n\",n(s.p,{children:\"簡單說，Perplexity 就是一個會搜尋網路的 AI 助手。它於 2022 年推出，主要特色是：\"}),\"\\n\",e(s.ul,{children:[\"\\n\",e(s.li,{children:[n(s.strong,{children:\"即時搜尋\"}),\"：會從網路上找最新資訊\"]}),\"\\n\",e(s.li,{children:[n(s.strong,{children:\"自動引用\"}),\"：回答會附上來源連結\"]}),\"\\n\",e(s.li,{children:[n(s.strong,{children:\"對話式\"}),\"：可以連續對話，有上下文理解\"]}),\"\\n\",e(s.li,{children:[n(s.strong,{children:\"多語言\"}),\"：支援中文等多種語言\"]}),\"\\n\"]}),\"\\n\",n(s.p,{children:\"對開發者來說，最吸引我的是它的 API 很好用，而且回應品質穩定。\"}),\"\\n\",n(s.h2,{children:\"開始前的準備工作\"}),\"\\n\",n(s.h3,{children:\"1. 註冊帳號\"}),\"\\n\",e(s.p,{children:[\"去 \",n(s.a,{href:\"https://www.perplexity.ai\",children:\"Perplexity\"}),\" 註冊一個帳號。\"]}),\"\\n\",n(s.h3,{children:\"2. 綁定信用卡\"}),\"\\n\",n(s.p,{children:\"這步驟不會馬上扣款，只是為了之後使用 API。我用了幾個月，花費其實不多。\"}),\"\\n\",n(s.h3,{children:\"3. 生成 API Key\"}),\"\\n\",n(s.p,{children:\"在設定頁面生成 API Key，這個 Key 可以長期使用，記得好好保存。\"}),\"\\n\",n(s.h2,{children:\"API 基本使用\"}),\"\\n\",n(s.h3,{children:\"基本呼叫方式\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const response = await fetch('https://api.perplexity.ai/chat/completions', {\\n    method: 'POST',\\n    headers: {\\n        Authorization: `Bearer ${API_KEY}`,\\n        'Content-Type': 'application/json',\\n    },\\n    body: JSON.stringify({\\n        model: 'sonar',\\n        messages: [\\n            { role: 'system', content: '請用繁體中文回答，並保持簡潔' },\\n            { role: 'user', content: '最新的 JavaScript 框架趨勢是什麼？' },\\n        ],\\n        temperature: 0.2,\\n        max_tokens: 500,\\n    }),\\n});\\n\\nconst data = await response.json();\\nconsole.log(data.choices[0].message.content);\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'https://api.perplexity.ai/chat/completions'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"    method\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'POST'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"    headers\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        Authorization\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`Bearer \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"API_KEY\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"        'Content-Type'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'application/json'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"    body\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"stringify\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        model\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'sonar'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        messages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"role\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'system'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'請用繁體中文回答，並保持簡潔'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"role\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'user'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'最新的 JavaScript 框架趨勢是什麼？'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        ],\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        temperature\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.2\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        max_tokens\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"500\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }),\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"console\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"log\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"choices\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"].\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"message\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})}),\"\\n\",n(s.h2,{children:\"實際整合到專案\"}),\"\\n\",n(s.h3,{children:\"React 組件範例\"}),\"\\n\",n(s.p,{children:\"我做了一個簡單的搜尋組件：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useState } from 'react';\\n\\nconst PerplexitySearch = () => {\\n    const [query, setQuery] = useState('');\\n    const [result, setResult] = useState('');\\n    const [loading, setLoading] = useState(false);\\n\\n    const searchWithPerplexity = async () => {\\n        if (!query.trim()) return;\\n\\n        setLoading(true);\\n        try {\\n            const response = await fetch('/api/perplexity', {\\n                method: 'POST',\\n                headers: { 'Content-Type': 'application/json' },\\n                body: JSON.stringify({ question: query }),\\n            });\\n\\n            const data = await response.json();\\n            setResult(data.answer);\\n        } catch (error) {\\n            console.error('搜尋失敗:', error);\\n        } finally {\\n            setLoading(false);\\n        }\\n    };\\n\\n    return (\\n        <div>\\n            <input\\n                type=\\\"text\\\"\\n                value={query}\\n                onChange={(e) => setQuery(e.target.value)}\\n                placeholder=\\\"問我任何問題...\\\"\\n                onKeyPress={(e) => e.key === 'Enter' && searchWithPerplexity()}\\n            />\\n            <button onClick={searchWithPerplexity} disabled={loading}>\\n                {loading ? '搜尋中...' : '搜尋'}\\n            </button>\\n            {result && (\\n                <div style={{ marginTop: '20px', padding: '15px', border: '1px solid #ccc' }}>\\n                    <div dangerouslySetInnerHTML={{ __html: result }} />\\n                </div>\\n            )}\\n        </div>\\n    );\\n};\",\"data-language\":\"jsx\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"jsx\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"useState\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" PerplexitySearch\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"query\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"setQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"''\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"result\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"setResult\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"''\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"loading\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"setLoading\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"false\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" searchWithPerplexity\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"!\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"query\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"trim\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"()) \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"        setLoading\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"true\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        try\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"            const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/api/perplexity'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                method\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'POST'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                headers\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Content-Type'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'application/json'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                body\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"stringify\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"query\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" }),\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            });\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"            const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"            setResult\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"answer\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"catch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"            console\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'搜尋失敗:'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"finally\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"            setLoading\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"false\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"input\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                type\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#98C379\"},children:'\"text\"'})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                value\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"query\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                onChange\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"e\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" setQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"e\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"target\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"value\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\")\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                placeholder\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#98C379\"},children:'\"問我任何問題...\"'})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                onKeyPress\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"e\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" e\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"key\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'Enter'\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" &&\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" searchWithPerplexity\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"()\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            />\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" onClick\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"searchWithPerplexity\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" disabled\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"loading\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"                {\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"loading\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" ?\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '搜尋中...'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" :\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '搜尋'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            </\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"            {\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"result\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" &&\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"                <\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"marginTop\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'20px'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"padding\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'15px'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"border\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'1px solid #ccc'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"                    <\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(s.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" dangerouslySetInnerHTML\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"__html\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"result\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"                </\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"            )\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"        </\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",n(s.h3,{children:\"Next.js API Route\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// pages/api/perplexity.js (或 app/api/perplexity/route.js)\\nexport default async function handler(req, res) {\\n    if (req.method !== 'POST') {\\n        return res.status(405).json({ error: 'Method not allowed' });\\n    }\\n\\n    const { question } = req.body;\\n\\n    try {\\n        const response = await fetch('https://api.perplexity.ai/chat/completions', {\\n            method: 'POST',\\n            headers: {\\n                Authorization: `Bearer ${process.env.PERPLEXITY_API_KEY}`,\\n                'Content-Type': 'application/json',\\n            },\\n            body: JSON.stringify({\\n                model: 'sonar',\\n                messages: [\\n                    {\\n                        role: 'system',\\n                        content: '請用繁體中文回答，並在回答中包含相關的來源連結',\\n                    },\\n                    { role: 'user', content: question },\\n                ],\\n                temperature: 0.3,\\n                max_tokens: 1000,\\n            }),\\n        });\\n\\n        const data = await response.json();\\n        const answer = data.choices[0].message.content;\\n\\n        res.status(200).json({ answer });\\n    } catch (error) {\\n        console.error('Perplexity API 錯誤:', error);\\n        res.status(500).json({ error: '搜尋服務暫時無法使用' });\\n    }\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// pages/api/perplexity.js (或 app/api/perplexity/route.js)\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" handler\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"req\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"res\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"req\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"method\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" !==\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'POST'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        return\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" res\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"status\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"405\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\").\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Method not allowed'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" req\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"body\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    try\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'https://api.perplexity.ai/chat/completions'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            method\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'POST'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            headers\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                Authorization\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`Bearer \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"process\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"env\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"PERPLEXITY_API_KEY\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"                'Content-Type'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'application/json'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            body\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"stringify\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                model\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'sonar'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                messages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"                    {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                        role\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'system'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                        content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'請用繁體中文回答，並在回答中包含相關的來源連結'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"                    },\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"                    { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"role\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'user'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"                ],\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                temperature\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.3\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                max_tokens\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"1000\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            }),\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        });\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" answer\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"choices\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"].\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"message\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        res\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"status\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"200\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\").\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"answer\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"    } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"catch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        console\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Perplexity API 錯誤:'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        res\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"status\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"500\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\").\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'搜尋服務暫時無法使用'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(s.h2,{children:\"參數調整技巧\"}),\"\\n\",n(s.p,{children:\"我花了不少時間調整這些參數，分享一下心得：\"}),\"\\n\",n(s.h3,{children:\"temperature (創造性)\"}),\"\\n\",e(s.ul,{children:[\"\\n\",e(s.li,{children:[n(s.code,{children:\"0.1-0.3\"}),\": 回答比較精準，適合資訊查詢\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"0.5-0.7\"}),\": 回答比較有創意，適合創作類任務\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"0.8+\"}),\": 回答很有創意但可能不太準確\"]}),\"\\n\"]}),\"\\n\",n(s.h3,{children:\"max_tokens (回應長度)\"}),\"\\n\",e(s.ul,{children:[\"\\n\",e(s.li,{children:[n(s.code,{children:\"100-300\"}),\": 簡短回答\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"500-1000\"}),\": 一般詳細度\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"1000+\"}),\": 很詳細的回答\"]}),\"\\n\"]}),\"\\n\",n(s.h3,{children:\"search_recency_filter (時效性)\"}),\"\\n\",e(s.ul,{children:[\"\\n\",e(s.li,{children:[n(s.code,{children:\"hour\"}),\": 只搜尋一小時內的資訊\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"day\"}),\": 一天內\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"week\"}),\": 一週內\"]}),\"\\n\",e(s.li,{children:[n(s.code,{children:\"month\"}),\": 一個月內\"]}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"我踩過的坑\"}),\"\\n\",n(s.h3,{children:\"1. API Key 洩漏\"}),\"\\n\",n(s.p,{children:\"一開始我把 API Key 寫在前端，結果很快就被濫用了。記住一定要放在後端！\"}),\"\\n\",n(s.h3,{children:\"2. 回應格式不穩定\"}),\"\\n\",n(s.p,{children:\"Perplexity 的回答格式有時會變，要做好錯誤處理：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"try {\\n    const data = await response.json();\\n    const answer = data.choices?.[0]?.message?.content || '無法取得回應';\\n    return answer;\\n} catch (error) {\\n    return '服務暫時無法使用，請稍後再試';\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"try\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" answer\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" data\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"choices\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"?.[\"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"]?.\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"message\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"?.\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"content\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" ||\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '無法取得回應'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" answer\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"} \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"catch\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '服務暫時無法使用，請稍後再試'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(s.h3,{children:\"3. 中文回應品質\"}),\"\\n\",n(s.p,{children:\"一開始回答都是英文，後來在 system message 裡明確要求用繁體中文，效果好很多。\"}),\"\\n\",n(s.h3,{children:\"4. 費用控制\"}),\"\\n\",n(s.p,{children:\"沒注意到 token 消耗，一個月下來花了不少錢。建議設定使用上限。\"}),\"\\n\",n(s.h2,{children:\"實用技巧分享\"}),\"\\n\",n(s.h3,{children:\"1. 快取常見問題\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const cache = new Map();\\n\\nconst searchWithCache = async (question) => {\\n    // 檢查快取\\n    if (cache.has(question)) {\\n        return cache.get(question);\\n    }\\n\\n    // 呼叫 API\\n    const result = await callPerplexityAPI(question);\\n\\n    // 存入快取（限制快取大小）\\n    if (cache.size >= 100) {\\n        const firstKey = cache.keys().next().value;\\n        cache.delete(firstKey);\\n    }\\n    cache.set(question, result);\\n\\n    return result;\\n};\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" cache\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Map\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" searchWithCache\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 檢查快取\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"has\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        return\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"get\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 呼叫 API\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" result\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" callPerplexityAPI\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 存入快取（限制快取大小）\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"size\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" >=\"}),n(s.span,{style:{color:\"#D19A66\"},children:\" 100\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" firstKey\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"keys\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"next\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"value\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"delete\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"firstKey\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"    cache\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"set\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"question\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"result\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" result\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",n(s.h3,{children:\"2. 結合搜尋關鍵字優化\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const optimizeQuery = (userQuery) => {\\n    // 加上時間限定詞\\n    if (userQuery.includes('最新') || userQuery.includes('現在')) {\\n        return `${userQuery} 2024 2025`;\\n    }\\n\\n    // 加上地區限定詞\\n    if (userQuery.includes('台灣') || userQuery.includes('臺灣')) {\\n        return `${userQuery} Taiwan 繁體中文`;\\n    }\\n\\n    return userQuery;\\n};\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" optimizeQuery\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 加上時間限定詞\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'最新'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"||\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'現在'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        return\"}),n(s.span,{style:{color:\"#98C379\"},children:\" `\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"userQuery\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 2024 2025`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 加上地區限定詞\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'台灣'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"||\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'臺灣'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"        return\"}),n(s.span,{style:{color:\"#98C379\"},children:\" `\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"userQuery\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\" Taiwan 繁體中文`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" userQuery\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",n(s.h3,{children:\"3. 多語言支援\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const getSystemPrompt = (language) => {\\n    const prompts = {\\n        'zh-TW': '請用繁體中文回答，並提供相關來源',\\n        'zh-CN': '請用简体中文回答，并提供相关来源',\\n        en: 'Please answer in English and provide relevant sources',\\n        ja: '日本語で回答し、関連する情報源を提供してください',\\n    };\\n\\n    return prompts[language] || prompts['en'];\\n};\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" getSystemPrompt\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"language\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" prompts\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"        'zh-TW'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'請用繁體中文回答，並提供相關來源'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"        'zh-CN'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'請用简体中文回答，并提供相关来源'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        en\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Please answer in English and provide relevant sources'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        ja\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'日本語で回答し、関連する情報源を提供してください'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" prompts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"language\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"||\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" prompts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'en'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",n(s.h2,{children:\"成本估算\"}),\"\\n\",n(s.p,{children:\"我用了幾個月的經驗：\"}),\"\\n\",e(s.ul,{children:[\"\\n\",e(s.li,{children:[n(s.strong,{children:\"輕度使用\"}),\" (每天 10-20 次查詢): 約 $5-10/月\"]}),\"\\n\",e(s.li,{children:[n(s.strong,{children:\"中度使用\"}),\" (每天 50-100 次查詢): 約 $20-30/月\"]}),\"\\n\",e(s.li,{children:[n(s.strong,{children:\"重度使用\"}),\" (每天 200+ 次查詢): $50+/月\"]}),\"\\n\"]}),\"\\n\",n(s.p,{children:\"比 OpenAI 稍微便宜一點，而且搜尋功能很實用。\"}),\"\\n\",n(s.h2,{children:\"我做的測試工具\"}),\"\\n\",e(s.p,{children:[\"為了方便測試不同參數，我做了一個簡單的測試工具：\\r\\n\",n(s.a,{href:\"https://garylin0969-perplexity-concat.vercel.app/\",children:\"Perplexity API 參數測試工具\"})]}),\"\\n\",n(s.p,{children:\"可以即時調整參數看效果，對新手很有幫助。\"}),\"\\n\",n(s.h2,{children:\"總結\"}),\"\\n\",n(s.p,{children:\"Perplexity API 真的很適合需要即時資訊的應用。雖然一開始會踩一些坑，但整體使用體驗很不錯。特別是它的搜尋能力和來源引用功能，讓 AI 回答更有可信度。\"}),\"\\n\",n(s.p,{children:\"如果你也在考慮串接 AI 服務，Perplexity 是個不錯的選擇。記得做好錯誤處理和成本控制就好！\"}),\"\\n\",n(s.p,{children:\"有任何問題歡迎討論！\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};"
  },
  {
    "title": "多國語言支持指南 - 使用 next-intl 在 Next.js 中實現國際化",
    "date": "2025-02-12T00:00:00.000Z",
    "description": "做了一個台灣的產品，結果用戶要求要有英文版。我第一次做國際化真的很頭痛，試了幾個方案後發現 next-intl 最好用。分享一下我從零開始實現多語言支援的完整過程。",
    "category": "Code",
    "tags": [
      "Next.js",
      "Internationalization",
      "i18n",
      "next-intl",
      "Frontend"
    ],
    "image": "/blog/posts/2025/02/next-intl.png",
    "slug": "nextjs-internationalization-guide-next-intl",
    "code": "const{Fragment:n,jsx:l,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(n,{children:[l(c.h2,{children:\"為什麼我需要做國際化？\"}),\"\\n\",l(c.p,{children:\"原本我的專案只有中文版，結果產品上線後有用戶問能不能提供英文版。我心想：「多語言不就是翻譯一下文字嗎？」\"}),\"\\n\",l(c.p,{children:\"結果一研究才發現，國際化(i18n)要考慮的東西超多：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"文字翻譯當然是基本的\"}),\"\\n\",l(c.li,{children:\"URL 路由要支援語言切換\"}),\"\\n\",l(c.li,{children:\"日期時間格式不同國家不一樣\"}),\"\\n\",l(c.li,{children:\"數字顯示格式也有差異\"}),\"\\n\",l(c.li,{children:\"甚至連文字方向都可能不同\"}),\"\\n\"]}),\"\\n\",e(c.p,{children:[\"試了幾個方案後，發現 \",l(c.strong,{children:\"next-intl\"}),\" 最適合 Next.js 的 App Router，設定簡單又功能完整。\"]}),\"\\n\",l(c.h2,{children:\"什麼是 next-intl？\"}),\"\\n\",e(c.p,{children:[l(c.strong,{children:\"next-intl\"}),\" 是專門為 Next.js 設計的國際化解決方案，跟 Next.js 13+ 的 App Router 整合得很好。\"]}),\"\\n\",l(c.p,{children:l(c.strong,{children:\"為什麼選擇它？\"})}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[l(c.strong,{children:\"無縫整合\"}),\"：跟 Next.js 配合得天衣無縫\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"效能優秀\"}),\"：支援 SSG 和 SSR，不影響載入速度\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"路由靈活\"}),\"：可以用 /en/about 或 en.example.com 這種方式\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"功能豐富\"}),\"：不只翻譯，連日期、數字格式化都內建\"]}),\"\\n\"]}),\"\\n\",l(c.p,{children:\"最重要的是文件清楚，新手也很容易上手！\"}),\"\\n\",l(c.h2,{children:\"開始設定 next-intl\"}),\"\\n\",l(c.h3,{children:\"1. 安裝套件\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install next-intl\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),l(c.span,{style:{color:\"#98C379\"},children:\" install\"}),l(c.span,{style:{color:\"#98C379\"},children:\" next-intl\"})]})})})}),\"\\n\",l(c.h3,{children:\"2. 建立檔案結構\"}),\"\\n\",l(c.p,{children:\"我建議按照這個結構來組織：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"├── messages/          # 翻譯文件\\n│   ├── en.json\\n│   └── zh-TW.json\\n├── src/\\n│   ├── i18n/\\n│   │   ├── routing.ts    # 路由設定\\n│   │   └── request.ts    # 請求設定\\n│   ├── middleware.ts     # 中間件\\n│   └── app/\\n│       └── [locale]/     # 動態語言路由\",\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"plaintext\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"├── messages/          # 翻譯文件\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   ├── en.json\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   └── zh-TW.json\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"├── src/\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   ├── i18n/\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   │   ├── routing.ts    # 路由設定\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   │   └── request.ts    # 請求設定\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   ├── middleware.ts     # 中間件\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│   └── app/\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{children:\"│       └── [locale]/     # 動態語言路由\"})})]})})}),\"\\n\",l(c.h3,{children:\"3. 建立翻譯檔案\"}),\"\\n\",l(c.p,{children:\"先建立最基本的翻譯文件：\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:\"messages/en.json\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"HomePage\": {\\n        \"title\": \"Welcome to my website\",\\n        \"description\": \"This is a multilingual website\",\\n        \"nav\": {\\n            \"home\": \"Home\",\\n            \"about\": \"About\",\\n            \"contact\": \"Contact\"\\n        }\\n    }\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"HomePage\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"title\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"Welcome to my website\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"description\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"This is a multilingual website\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"nav\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"home\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"Home\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"about\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"About\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"contact\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"Contact\"'})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:\"messages/zh-TW.json\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"HomePage\": {\\n        \"title\": \"歡迎來到我的網站\",\\n        \"description\": \"這是一個多語言網站\",\\n        \"nav\": {\\n            \"home\": \"首頁\",\\n            \"about\": \"關於我們\",\\n            \"contact\": \"聯絡我們\"\\n        }\\n    }\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"HomePage\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"title\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"歡迎來到我的網站\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"description\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"這是一個多語言網站\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"nav\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"home\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"首頁\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"about\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"關於我們\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"contact\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"聯絡我們\"'})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.h3,{children:\"4. 設定路由配置\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/i18n/routing.ts\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { createNavigation } from 'next-intl/navigation';\\nimport { defineRouting } from 'next-intl/routing';\\n\\nexport const routing = defineRouting({\\n    locales: ['en', 'zh-TW'],\\n    defaultLocale: 'zh-TW', // 我的網站主要面向台灣用戶\\n});\\n\\nexport const { Link, redirect, usePathname, useRouter, getPathname } = createNavigation(routing);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"createNavigation\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/navigation'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"defineRouting\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" routing\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" defineRouting\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    locales\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'en'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'zh-TW'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    defaultLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'zh-TW'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 我的網站主要面向台灣用戶\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" const\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"Link\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"redirect\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"usePathname\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"useRouter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"getPathname\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" createNavigation\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})]}),\"\\n\",l(c.h3,{children:\"5. 設定中間件\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/middleware.ts\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import createMiddleware from 'next-intl/middleware';\\nimport { routing } from './i18n/routing';\\n\\nexport default createMiddleware(routing);\\n\\nexport const config = {\\n    matcher: ['/((?!api|_next/static|favicon.ico).*)'],\\n};\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" createMiddleware\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/middleware'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" './i18n/routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" createMiddleware\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" config\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    matcher\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'/((?!api|_next/static|favicon.ico).*)'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})]}),\"\\n\",l(c.h3,{children:\"6. 設定請求配置\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/i18n/request.ts\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { getRequestConfig } from 'next-intl/server';\\nimport { routing } from './routing';\\n\\nexport default getRequestConfig(async ({ requestLocale }) => {\\n    let locale = await requestLocale;\\n\\n    // 確保語言是支援的\\n    if (!locale || !routing.locales.includes(locale as any)) {\\n        locale = routing.defaultLocale;\\n    }\\n\\n    return {\\n        locale,\\n        messages: (await import(`../../messages/${locale}.json`)).default,\\n    };\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"getRequestConfig\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/server'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" './routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getRequestConfig\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"async\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"requestLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }) \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" locale\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" requestLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 確保語言是支援的\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"!\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" ||\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" !\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"locales\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" as\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" any\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        locale\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"defaultLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        messages\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"await\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"`../../messages/\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"${\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),l(c.span,{style:{color:\"#98C379\"},children:\".json`\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")).\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"default\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})]}),\"\\n\",l(c.h2,{children:\"修改 Next.js 設定\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"next.config.ts\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import createNextIntlPlugin from 'next-intl/plugin';\\n\\nconst withNextIntl = createNextIntlPlugin();\\n\\n/** @type {import('next').NextConfig} */\\nconst nextConfig = {\\n    // 你原本的設定\\n};\\n\\nexport default withNextIntl(nextConfig);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" createNextIntlPlugin\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/plugin'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" withNextIntl\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" createNextIntlPlugin\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/** \"}),l(c.span,{style:{color:\"#C678DD\",fontStyle:\"italic\"},children:\"@type\"}),l(c.span,{style:{color:\"#E5C07B\",fontStyle:\"italic\"},children:\" {import('next').NextConfig}\"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" */\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" nextConfig\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 你原本的設定\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" withNextIntl\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"nextConfig\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})]}),\"\\n\",l(c.h2,{children:\"建立多語言頁面\"}),\"\\n\",l(c.h3,{children:\"Layout 設定\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/[locale]/layout.tsx\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { NextIntlClientProvider } from 'next-intl';\\nimport { getMessages } from 'next-intl/server';\\nimport { notFound } from 'next/navigation';\\nimport { routing } from '@/i18n/routing';\\n\\nexport function generateStaticParams() {\\n    return routing.locales.map((locale) => ({ locale }));\\n}\\n\\nexport default async function LocaleLayout({\\n    children,\\n    params: { locale }\\n}: {\\n    children: React.ReactNode;\\n    params: { locale: string };\\n}) {\\n    // 檢查語言是否支援\\n    if (!routing.locales.includes(locale as any)) {\\n        notFound();\\n    }\\n\\n    const messages = await getMessages();\\n\\n    return (\\n        <html lang={locale}>\\n            <body>\\n                <NextIntlClientProvider messages={messages}>\\n                    {children}\\n                </NextIntlClientProvider>\\n            </body>\\n        </html>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"NextIntlClientProvider\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"getMessages\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/server'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"notFound\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next/navigation'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" '@/i18n/routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" generateStaticParams\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"locales\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"map\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }));\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" async\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" LocaleLayout\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"    children\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    params\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}: {\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    children\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"React\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"ReactNode\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    params\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" };\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}) {\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 檢查語言是否支援\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"!\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"routing\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"locales\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" as\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" any\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"        notFound\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" messages\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getMessages\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"html\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" lang\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"body\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"NextIntlClientProvider\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" messages\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"messages\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"                    {\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"children\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"NextIntlClientProvider\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"body\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"html\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.h3,{children:\"主頁面\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/[locale]/page.tsx\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useTranslations } from 'next-intl';\\nimport { Link } from '@/i18n/routing';\\n\\nexport default function HomePage() {\\n    const t = useTranslations('HomePage');\\n\\n    return (\\n        <div>\\n            <nav>\\n                <Link href=\\\"/\\\">{t('nav.home')}</Link>\\n                <Link href=\\\"/about\\\">{t('nav.about')}</Link>\\n                <Link href=\\\"/contact\\\">{t('nav.contact')}</Link>\\n            </nav>\\n\\n            <main>\\n                <h1>{t('title')}</h1>\\n                <p>{t('description')}</p>\\n            </main>\\n        </div>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"useTranslations\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" '@/i18n/routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" HomePage\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" t\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useTranslations\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'HomePage'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"nav\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" href\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#98C379\"},children:'\"/\"'}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'nav.home'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" href\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#98C379\"},children:'\"/about\"'}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'nav.about'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" href\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#98C379\"},children:'\"/contact\"'}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'nav.contact'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"Link\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"nav\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"main\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"                <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"h1\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'title'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"h1\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"                <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'description'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"p\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"main\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.h2,{children:\"建立語言切換器\"}),\"\\n\",l(c.p,{children:\"這是用戶最關心的功能：\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/components/LanguageSwitcher.tsx\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"'use client';\\n\\nimport { useLocale } from 'next-intl';\\nimport { useRouter, usePathname } from '@/i18n/routing';\\n\\nexport default function LanguageSwitcher() {\\n    const locale = useLocale();\\n    const router = useRouter();\\n    const pathname = usePathname();\\n\\n    const languages = [\\n        { code: 'zh-TW', name: '繁體中文' },\\n        { code: 'en', name: 'English' }\\n    ];\\n\\n    const handleLanguageChange = (newLocale: string) => {\\n        router.replace(pathname, { locale: newLocale });\\n    };\\n\\n    return (\\n        <select\\n            value={locale}\\n            onChange={(e) => handleLanguageChange(e.target.value)}\\n            className=\\\"border rounded px-3 py-1\\\"\\n        >\\n            {languages.map((lang) => (\\n                <option key={lang.code} value={lang.code}>\\n                    {lang.name}\\n                </option>\\n            ))}\\n        </select>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#98C379\"},children:\"'use client'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"useLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"useRouter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"usePathname\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" '@/i18n/routing'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" LanguageSwitcher\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" locale\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" router\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useRouter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" pathname\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" usePathname\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" languages\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"        { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"code\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'zh-TW'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'繁體中文'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"        { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"code\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'en'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'English'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    ];\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" handleLanguageChange\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"newLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"        router\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"replace\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"pathname\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"newLocale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"select\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            value\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            onChange\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{(e) => \"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"handleLanguageChange\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(e.target.value)}\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            className\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#98C379\"},children:'\"border rounded px-3 py-1\"'})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#56B6C2\"},children:\"        >\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            {\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"languages\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"map\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"lang\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"option\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" key\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{lang.\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"code\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"} \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"value\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{lang.\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"code\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"                    {\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"lang\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"                </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"option\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"            ))}\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"select\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.h2,{children:\"進階功能\"}),\"\\n\",l(c.h3,{children:\"日期時間格式化\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useFormatter } from 'next-intl';\\n\\nexport default function DateExample() {\\n    const format = useFormatter();\\n    const now = new Date();\\n\\n    return (\\n        <div>\\n            <p>日期: {format.dateTime(now, {\\n                year: 'numeric',\\n                month: 'long',\\n                day: 'numeric'\\n            })}</p>\\n        </div>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"useFormatter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" DateExample\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" format\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useFormatter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" now\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" new\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"日期\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"format\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"dateTime\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"now\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"                year\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'numeric'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"                month\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'long'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"                day\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'numeric'\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            })}</\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"數字格式化\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useFormatter } from 'next-intl';\\n\\nexport default function NumberExample() {\\n    const format = useFormatter();\\n    const price = 1234.56;\\n\\n    return (\\n        <div>\\n            <p>價格: {format.number(price, {\\n                style: 'currency',\\n                currency: 'TWD'\\n            })}</p>\\n        </div>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"useFormatter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" NumberExample\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" format\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useFormatter\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" price\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 1234.56\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"價格\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"format\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"price\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"                style\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'currency'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"                currency\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'TWD'\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            })}</\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"帶變數的翻譯\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:\"messages/zh-TW.json\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"UserProfile\": {\\n        \"welcome\": \"歡迎回來，{name}！\",\\n        \"itemCount\": \"您有 {count} 個商品\"\\n    }\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"UserProfile\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"welcome\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"歡迎回來，{name}！\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"itemCount\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"您有 {count} 個商品\"'})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const t = useTranslations('UserProfile');\\n\\n// 使用方式\\n<p>{t('welcome', { name: '小明' })}</p>\\n<p>{t('itemCount', { count: 5 })}</p>\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" t\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useTranslations\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'UserProfile'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 使用方式\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'welcome'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'小明'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" })}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"p\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"p\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">{\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'itemCount'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"5\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" })}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"p\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]})]})})}),\"\\n\",l(c.h2,{children:\"我踩過的坑\"}),\"\\n\",l(c.h3,{children:\"1. 靜態生成設定錯誤\"}),\"\\n\",e(c.p,{children:[\"一開始我忘記加 \",l(c.code,{children:\"generateStaticParams\"}),\"，結果 build 的時候出錯。記得要加這個函數。\"]}),\"\\n\",l(c.h3,{children:\"2. 翻譯文件結構混亂\"}),\"\\n\",l(c.p,{children:\"剛開始翻譯文件都放在同一層，後來內容多了很難管理。建議一開始就用巢狀結構。\"}),\"\\n\",l(c.h3,{children:\"3. 路由跳轉用錯 Link\"}),\"\\n\",l(c.p,{children:\"要用 next-intl 提供的 Link，不是 Next.js 原生的，不然會丟失語言資訊。\"}),\"\\n\",l(c.h3,{children:\"4. 環境變數沒設定\"}),\"\\n\",e(c.p,{children:[\"在伺服器端使用某些功能時需要設定 \",l(c.code,{children:\"NEXT_LOCALE\"}),\"，我忘記了結果在 production 出問題。\"]}),\"\\n\",l(c.h2,{children:\"部署注意事項\"}),\"\\n\",l(c.h3,{children:\"Vercel 部署\"}),\"\\n\",e(c.p,{children:[\"在 \",l(c.code,{children:\"vercel.json\"}),\" 中加入：\"]}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"functions\": {\\n        \"app/[locale]/route.ts\": {\\n            \"maxDuration\": 10\\n        }\\n    }\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"functions\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"app/[locale]/route.ts\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"maxDuration\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"10\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"環境變數\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# .env.local\\nNEXT_PUBLIC_DEFAULT_LOCALE=zh-TW\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# .env.local\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"NEXT_PUBLIC_DEFAULT_LOCALE\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#98C379\"},children:\"zh-TW\"})]})]})})}),\"\\n\",l(c.h2,{children:\"SEO 優化\"}),\"\\n\",l(c.p,{children:\"別忘記設定每個語言的 metadata：\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/[locale]/page.tsx\"}),l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { getTranslations } from 'next-intl/server';\\n\\nexport async function generateMetadata({ params: { locale } }: { params: { locale: string } }) {\\n    const t = await getTranslations({ locale, namespace: 'HomePage' });\\n\\n    return {\\n        title: t('title'),\\n        description: t('description'),\\n    };\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"getTranslations\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next-intl/server'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" async\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" generateMetadata\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"params\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } }: { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"params\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } }) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" t\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getTranslations\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"locale\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"namespace\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'HomePage'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        title\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'title'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        description\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"t\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'description'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(c.h2,{children:\"維護建議\"}),\"\\n\",l(c.h3,{children:\"翻譯文件管理\"}),\"\\n\",l(c.p,{children:\"我建議用這種方式組織翻譯：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"common\": {\\n        \"buttons\": {\\n            \"save\": \"儲存\",\\n            \"cancel\": \"取消\"\\n        }\\n    },\\n    \"pages\": {\\n        \"home\": { ... },\\n        \"about\": { ... }\\n    }\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"common\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"buttons\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"save\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"儲存\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'            \"cancel\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:'\"取消\"'})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'    \"pages\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"home\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#FFFFFF\"},children:\"...\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:'        \"about\"'}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#FFFFFF\"},children:\"...\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"翻譯工作流程\"}),\"\\n\",e(c.ol,{children:[\"\\n\",l(c.li,{children:\"開發時先用英文佔位符\"}),\"\\n\",l(c.li,{children:\"功能完成後再找人翻譯\"}),\"\\n\",l(c.li,{children:\"用 TypeScript 確保翻譯 key 的正確性\"}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"總結\"}),\"\\n\",l(c.p,{children:\"next-intl 真的讓 Next.js 的國際化變得簡單很多。雖然一開始設定會花一些時間，但是一旦設定好，後續加語言或修改翻譯都很方便。\"}),\"\\n\",l(c.p,{children:\"特別推薦給需要做多語言網站的朋友，比起其他解決方案，next-intl 的開發體驗真的好很多！\"}),\"\\n\",l(c.p,{children:\"有任何問題歡迎討論，我也還在學習更多進階功能中！\"})]})}return{default:function(n={}){const{wrapper:e}=n.components||{};return e?l(e,{...n,children:l(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "事件循環 (Event Loop) 的介紹",
    "date": "2025-02-16T00:00:00.000Z",
    "description": "記得第一次面試時被問到「JavaScript 是如何處理異步操作的」，我整個人愣住了。後來深入研究 Event Loop 才發現，原來這個看似簡單的概念背後藏著這麼多學問。",
    "category": "Code",
    "tags": [
      "JavaScript",
      "Event Loop",
      "Async Programming",
      "Web",
      "Performance"
    ],
    "image": "/blog/posts/2025/02/event-loop.png",
    "slug": "javascript-event-loop-introduction",
    "code": "const{Fragment:n,jsx:l,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(n,{children:[l(c.h2,{children:\"那個讓我面試差點翻車的問題\"}),\"\\n\",l(c.p,{children:\"記得第一次面試前端工程師的時候，面試官問了一個我覺得很簡單的問題：「JavaScript 是單線程的，那它是怎麼處理異步操作的？」\"}),\"\\n\",l(c.p,{children:\"我當時心想：「這還不簡單，用 Promise、async/await 就好了啊！」結果面試官接著問：「那你知道這些異步操作內部是怎麼運作的嗎？」\"}),\"\\n\",l(c.p,{children:\"我整個人愣住了。從那之後，我才認真研究事件循環這個概念。現在回頭看，真的覺得這是每個前端工程師都應該理解的基礎知識。\"}),\"\\n\",l(c.h2,{children:\"事件循環到底是什麼？\"}),\"\\n\",l(c.p,{children:\"簡單來說，事件循環就是 JavaScript 處理異步操作的機制。想像一下，JavaScript 就像一個很忙的服務員，一次只能做一件事（單線程），但他有一套聰明的系統來管理所有的任務。\"}),\"\\n\",l(c.p,{children:\"這套系統讓 JavaScript 能夠：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"執行當前的程式碼\"}),\"\\n\",l(c.li,{children:\"處理用戶點擊、網路請求等異步事件\"}),\"\\n\",l(c.li,{children:\"不會因為等待某個操作而整個卡住\"}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"事件循環怎麼運作？\"}),\"\\n\",l(c.p,{children:\"我用餐廳的例子來解釋，比較容易理解：\"}),\"\\n\",l(c.h3,{children:\"1. 執行堆疊 (Call Stack) - 服務員的待辦清單\"}),\"\\n\",l(c.p,{children:\"就像服務員有一個待辦清單，最新的任務放在最上面，完成一個就劃掉一個。這就是「後進先出」（LIFO）的概念。\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"function 點餐() {\\n    console.log('客人要點餐');\\n    做餐();\\n}\\n\\nfunction 做餐() {\\n    console.log('廚師開始做餐');\\n}\\n\\n點餐(); // 先執行點餐，再執行做餐\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" 點餐\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'客人要點餐'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"    做餐\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" 做餐\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'廚師開始做餐'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"點餐\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 先執行點餐，再執行做餐\"})]})]})})}),\"\\n\",l(c.h3,{children:\"2. 任務隊列 (Task Queue) - 等待處理的訂單\"}),\"\\n\",l(c.p,{children:\"當有異步操作完成時（比如外送到了、廚房出餐了），這些「事件」會排隊等待處理，遵循「先來先服務」（FIFO）的原則。\"}),\"\\n\",l(c.h3,{children:\"3. 事件循環 (Event Loop) - 超級服務員\"}),\"\\n\",l(c.p,{children:\"事件循環就像一個超級服務員，他會不停地檢查：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"當前待辦清單是否空了？\"}),\"\\n\",l(c.li,{children:\"有沒有新的訂單需要處理？\"}),\"\\n\"]}),\"\\n\",l(c.p,{children:\"如果待辦清單空了，他就會從隊列中取出下一個任務來處理。\"}),\"\\n\",l(c.h2,{children:\"宏任務 vs 微任務 - 插隊的藝術\"}),\"\\n\",l(c.p,{children:\"這是我最常搞混的部分！原來任務還有分等級：\"}),\"\\n\",l(c.h3,{children:\"宏任務 (Macro Task) - 一般訂單\"}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[l(c.code,{children:\"setTimeout\"}),\"、\",l(c.code,{children:\"setInterval\"})]}),\"\\n\",l(c.li,{children:\"用戶互動事件（點擊、滾動）\"}),\"\\n\",l(c.li,{children:\"網路請求回應\"}),\"\\n\"]}),\"\\n\",l(c.h3,{children:\"微任務 (Micro Task) - VIP 訂單\"}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[l(c.code,{children:\"Promise\"}),\" 的 \",l(c.code,{children:\".then\"}),\"、\",l(c.code,{children:\".catch\"}),\"、\",l(c.code,{children:\".finally\"})]}),\"\\n\",l(c.li,{children:l(c.code,{children:\"queueMicrotask()\"})}),\"\\n\"]}),\"\\n\",e(c.p,{children:[l(c.strong,{children:\"重點來了\"}),\"：微任務永遠比宏任務優先！就像 VIP 客戶總是優先服務一樣。\"]}),\"\\n\",l(c.h2,{children:\"實際範例 - 揭開執行順序的秘密\"}),\"\\n\",l(c.p,{children:\"這個例子我一開始也猜錯了順序：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"console.log('開始'); // 1\\n\\nsetTimeout(() => {\\n    console.log('宏任務 1'); // 5\\n}, 0);\\n\\nPromise.resolve().then(() => {\\n    console.log('微任務 1'); // 3\\n});\\n\\nsetTimeout(() => {\\n    console.log('宏任務 2'); // 6\\n}, 0);\\n\\nPromise.resolve().then(() => {\\n    console.log('微任務 2'); // 4\\n});\\n\\nconsole.log('結束'); // 2\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'開始'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 1\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"setTimeout\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'宏任務 1'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 5\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"}, \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"resolve\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"then\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'微任務 1'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 3\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"setTimeout\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'宏任務 2'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 6\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"}, \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"resolve\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"then\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'微任務 2'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 4\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'結束'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 2\"})]})]})})}),\"\\n\",l(c.h3,{children:\"執行結果：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"開始\\n結束\\n微任務 1\\n微任務 2\\n宏任務 1\\n宏任務 2\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#61AFEF\"},children:\"開始\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#61AFEF\"},children:\"結束\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"微任務\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 1\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"微任務\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 2\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"宏任務\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 1\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"宏任務\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 2\"})]})]})})}),\"\\n\",l(c.h3,{children:\"執行過程解析：\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[l(c.strong,{children:\"同步程式碼先執行\"}),\"：\",l(c.code,{children:\"開始\"}),\" → \",l(c.code,{children:\"結束\"})]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"檢查微任務隊列\"}),\"：執行所有微任務 → \",l(c.code,{children:\"微任務 1\"}),\" → \",l(c.code,{children:\"微任務 2\"})]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"檢查宏任務隊列\"}),\"：執行一個宏任務 → \",l(c.code,{children:\"宏任務 1\"})]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"再次檢查微任務隊列\"}),\"：沒有新的微任務\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"繼續執行下一個宏任務\"}),\" → \",l(c.code,{children:\"宏任務 2\"})]}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"我在實際開發中的應用\"}),\"\\n\",l(c.h3,{children:\"避免阻塞主線程\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// ❌ 這樣會讓頁面卡住\\nfunction heavyTask() {\\n    for (let i = 0; i < 1000000; i++) {\\n        // 大量計算\\n    }\\n}\\n\\n// ✅ 分批處理，不會卡住頁面\\nfunction heavyTaskAsync(data, index = 0) {\\n    const batchSize = 1000;\\n    const end = Math.min(index + batchSize, data.length);\\n\\n    for (let i = index; i < end; i++) {\\n        // 處理部分資料\\n    }\\n\\n    if (end < data.length) {\\n        setTimeout(() => heavyTaskAsync(data, end), 0);\\n    }\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ❌ 這樣會讓頁面卡住\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" heavyTask\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 1000000\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 大量計算\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ✅ 分批處理，不會卡住頁面\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" heavyTaskAsync\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"index\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" batchSize\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" end\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Math\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"min\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"index\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" batchSize\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" index\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" end\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 處理部分資料\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"end\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"        setTimeout\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" heavyTaskAsync\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"end\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"), \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"確保 DOM 更新完成\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 更新 DOM\\nelement.innerHTML = 'Hello World';\\n\\n// 確保 DOM 更新後再執行\\nPromise.resolve().then(() => {\\n    console.log('DOM 已經更新完成');\\n    // 現在可以安全地獲取元素尺寸\\n    console.log(element.offsetHeight);\\n});\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 更新 DOM\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"element\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"innerHTML\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'Hello World'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 確保 DOM 更新後再執行\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"resolve\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"then\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'DOM 已經更新完成'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 現在可以安全地獲取元素尺寸\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"element\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"offsetHeight\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",l(c.h2,{children:\"我踩過的坑\"}),\"\\n\",l(c.h3,{children:\"以為 setTimeout(fn, 0) 會立即執行\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"console.log('1');\\nsetTimeout(() => console.log('2'), 0);\\nconsole.log('3');\\n\\n// 結果：1 → 3 → 2\\n// setTimeout 即使設定 0ms，也會在同步程式碼執行完才執行\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'1'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"setTimeout\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'2'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"), \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'3'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 結果：1 → 3 → 2\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// setTimeout 即使設定 0ms，也會在同步程式碼執行完才執行\"})})]})})}),\"\\n\",l(c.h3,{children:\"Promise 的錯誤處理時機\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"Promise.resolve()\\n    .then(() => {\\n        throw new Error('出錯了');\\n    })\\n    .catch((err) => {\\n        console.log('微任務中處理錯誤');\\n    });\\n\\nconsole.log('同步程式碼');\\n\\n// 結果：同步程式碼 → 微任務中處理錯誤\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"resolve\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"()\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"    .\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"then\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"        throw\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" new\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" Error\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'出錯了'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    })\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"    .\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"catch\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"err\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"        console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'微任務中處理錯誤'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'同步程式碼'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 結果：同步程式碼 → 微任務中處理錯誤\"})})]})})}),\"\\n\",l(c.h2,{children:\"為什麼要理解事件循環？\"}),\"\\n\",l(c.h3,{children:\"1. 寫出更好的異步程式碼\"}),\"\\n\",l(c.p,{children:\"理解執行順序，就能避免時序相關的 bug。\"}),\"\\n\",l(c.h3,{children:\"2. 效能優化\"}),\"\\n\",l(c.p,{children:\"知道什麼時候會阻塞主線程，就能寫出更流暢的程式。\"}),\"\\n\",l(c.h3,{children:\"3. 面試加分\"}),\"\\n\",l(c.p,{children:\"這是前端面試的常見題目，理解原理比背答案更重要。\"}),\"\\n\",l(c.h3,{children:\"4. 除錯更容易\"}),\"\\n\",l(c.p,{children:\"當異步程式碼行為異常時，你能快速定位問題。\"}),\"\\n\",l(c.h2,{children:\"學習建議\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[l(c.strong,{children:\"動手實作\"}),\"：用 console.log 追蹤執行順序\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"畫圖理解\"}),\"：把 Call Stack、Task Queue 畫出來\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"實際應用\"}),\"：在專案中注意異步操作的時機\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"持續練習\"}),\"：多做相關的面試題\"]}),\"\\n\"]}),\"\\n\",l(c.p,{children:\"記住，事件循環不是為了考試，而是為了讓我們寫出更好的 JavaScript 程式碼。理解了這個概念，你會發現很多之前搞不懂的問題突然就清楚了！\"}),\"\\n\",l(c.p,{children:\"有任何疑問都歡迎討論，我也是在不斷學習中！\"})]})}return{default:function(n={}){const{wrapper:e}=n.components||{};return e?l(e,{...n,children:l(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "Next.js 專案使用 GitLab CI/CD 到 GCP (GKE) 教學",
    "date": "2025-02-21T00:00:00.000Z",
    "description": "第一次搞 CI/CD 的時候真的很崩潰，什麼 Docker、Kubernetes、Pipeline 一堆名詞。花了好幾天才搞懂怎麼把 Next.js 專案自動部署到 GCP。分享我從零開始的完整踩坑過程。",
    "category": "Code",
    "tags": [
      "Next.js",
      "GitLab",
      "CI/CD",
      "GCP",
      "Docker",
      "Kubernetes",
      "DevOps"
    ],
    "image": "/blog/posts/2025/02/gitlab-cicd.jpg",
    "slug": "nextjs-gitlab-cicd-gcp-gke-deployment",
    "code": "const{Fragment:n,jsx:e,jsxs:l}=arguments[0];function _createMdxContent(a){const r={a:\"a\",code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return l(n,{children:[e(r.h2,{children:\"我為什麼要學 CI/CD？\"}),\"\\n\",e(r.p,{children:\"以前我都是手動部署，每次要上線都要：\"}),\"\\n\",l(r.ol,{children:[\"\\n\",e(r.li,{children:\"在本地 build 專案\"}),\"\\n\",e(r.li,{children:\"上傳檔案到伺服器\"}),\"\\n\",e(r.li,{children:\"手動重啟服務\"}),\"\\n\",e(r.li,{children:\"祈禱不要出問題\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"結果有一次忘記 build，直接把開發版本推上去，網站整個掛掉。那時候我就決定要學 CI/CD，讓機器來做這些重複的工作。\"}),\"\\n\",e(r.p,{children:\"雖然一開始設定很複雜，但一旦建立好，真的很爽！每次 push 程式碼，就自動測試、建置、部署，再也不用手動搞這些事情。\"}),\"\\n\",e(r.h2,{children:\"什麼是 CI/CD？用人話來說\"}),\"\\n\",l(r.p,{children:[e(r.strong,{children:\"CI (Continuous Integration)\"}),\"：每次有人提交程式碼，自動執行測試，確保程式碼品質。\"]}),\"\\n\",l(r.p,{children:[e(r.strong,{children:\"CD (Continuous Deployment)\"}),\"：測試通過後，自動部署到正式環境。\"]}),\"\\n\",l(r.p,{children:[\"簡單說就是：\",e(r.strong,{children:\"寫程式碼 → 自動測試 → 自動上線\"}),\"，全程不用人工介入。\"]}),\"\\n\",e(r.h2,{children:\"前置準備：你需要有這些東西\"}),\"\\n\",e(r.p,{children:\"在開始之前，確保你有：\"}),\"\\n\",e(r.h3,{children:\"開發環境\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"Node.js 18+ (我建議用最新的 LTS 版本)\"}),\"\\n\",e(r.li,{children:\"Docker Desktop (這個一定要裝，後面會用到)\"}),\"\\n\",e(r.li,{children:\"Git (廢話，但還是要確認一下)\"}),\"\\n\"]}),\"\\n\",e(r.h3,{children:\"帳號設定\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"GitLab 帳號 (免費版就夠用了)\"}),\"\\n\",e(r.li,{children:\"Google Cloud Platform 帳號 (新用戶有 $300 免費額度)\"}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"我第一次設定的時候光是搞清楚這些帳號和權限就花了半天，不過一次設定好就受用無窮。\"}),\"\\n\",e(r.h2,{children:\"步驟一：準備 Next.js 專案\"}),\"\\n\",e(r.p,{children:\"如果你已經有專案了可以跳過，沒有的話建立一個：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npx create-next-app@latest my-app --typescript --tailwind --app\\ncd my-app\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"npx\"}),e(r.span,{style:{color:\"#98C379\"},children:\" create-next-app@latest\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-app\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" --typescript\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" --tailwind\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" --app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#56B6C2\"},children:\"cd\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-app\"})]})]})})}),\"\\n\",e(r.p,{children:\"確認專案可以正常執行：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm run dev\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#98C379\"},children:\" dev\"})]})})})}),\"\\n\",l(r.p,{children:[\"打開 \",e(r.a,{href:\"http://localhost:3000\",children:\"http://localhost:3000\"}),\" 看到 Next.js 的預設頁面就 OK 了。\"]}),\"\\n\",e(r.h2,{children:\"步驟二：Docker 容器化\"}),\"\\n\",e(r.p,{children:\"這是我一開始最頭痛的部分。Docker 到底是什麼？為什麼要用？\"}),\"\\n\",e(r.p,{children:\"簡單說，Docker 就是把你的應用程式和執行環境打包成一個「便當盒」，到哪都能執行。\"}),\"\\n\",e(r.h3,{children:\"建立 Dockerfile\"}),\"\\n\",l(r.p,{children:[\"在專案根目錄建立 \",e(r.code,{children:\"Dockerfile\"}),\"：\"]}),\"\\n\",l(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",children:\"Dockerfile\"}),e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 第一階段：建置\\nFROM node:18-alpine AS builder\\nWORKDIR /app\\n\\n# 先複製 package 檔案，利用 Docker layer 快取\\nCOPY package*.json ./\\nRUN npm ci --only=production\\n\\n# 複製原始碼並建置\\nCOPY . .\\nRUN npm run build\\n\\n# 第二階段：執行\\nFROM node:18-alpine AS runner\\nWORKDIR /app\\n\\nENV NODE_ENV production\\n\\n# 建立非 root 用戶（安全考量）\\nRUN addgroup --system --gid 1001 nodejs\\nRUN adduser --system --uid 1001 nextjs\\n\\n# 複製建置結果\\nCOPY --from=builder /app/public ./public\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\\n\\nUSER nextjs\\n\\nEXPOSE 3000\\nENV PORT 3000\\nENV HOSTNAME \"0.0.0.0\"\\n\\nCMD [\"node\", \"server.js\"]',\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 第一階段：建置\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"FROM\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" node:18-alpine \"}),e(r.span,{style:{color:\"#61AFEF\"},children:\"AS\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" builder\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"WORKDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" /app\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 先複製 package 檔案，利用 Docker layer 快取\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" package*.json ./\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm ci --only=production\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 複製原始碼並建置\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" . .\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm run build\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 第二階段：執行\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"FROM\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" node:18-alpine \"}),e(r.span,{style:{color:\"#61AFEF\"},children:\"AS\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" runner\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"WORKDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" /app\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"ENV\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" NODE_ENV production\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立非 root 用戶（安全考量）\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" addgroup --system --gid 1001 nodejs\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" adduser --system --uid 1001 nextjs\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 複製建置結果\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder /app/public ./public\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"USER\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" nextjs\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"EXPOSE\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" 3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"ENV\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" PORT 3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"ENV\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" HOSTNAME \"}),e(r.span,{style:{color:\"#98C379\"},children:'\"0.0.0.0\"'})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"CMD\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),e(r.span,{style:{color:\"#98C379\"},children:'\"node\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(r.span,{style:{color:\"#98C379\"},children:'\"server.js\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\"]\"})]})]})})]}),\"\\n\",e(r.h3,{children:\"修改 next.config.ts\"}),\"\\n\",l(r.p,{children:[\"為了讓 Docker 可以正常運作，需要加入 \",e(r.code,{children:\"output: 'standalone'\"}),\"：\"]}),\"\\n\",l(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"next.config.ts\"}),e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import type { NextConfig } from 'next';\\n\\nconst nextConfig: NextConfig = {\\n    output: 'standalone', // 這行很重要！\\n};\\n\\nexport default nextConfig;\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#C678DD\"},children:\"import\"}),e(r.span,{style:{color:\"#C678DD\"},children:\" type\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),e(r.span,{style:{color:\"#E06C75\"},children:\"NextConfig\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),e(r.span,{style:{color:\"#C678DD\"},children:\"from\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#C678DD\"},children:\"const\"}),e(r.span,{style:{color:\"#E5C07B\"},children:\" nextConfig\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#E5C07B\"},children:\"NextConfig\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" =\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    output\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'standalone'\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這行很重要！\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#C678DD\"},children:\"export\"}),e(r.span,{style:{color:\"#C678DD\"},children:\" default\"}),e(r.span,{style:{color:\"#E06C75\"},children:\" nextConfig\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})]}),\"\\n\",e(r.h3,{children:\"本地測試 Docker\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 建立 image\\ndocker build -t my-nextjs-app .\\n\\n# 執行容器\\ndocker run -p 3000:3000 my-nextjs-app\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立 image\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" build\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -t\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"}),e(r.span,{style:{color:\"#98C379\"},children:\" .\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 執行容器\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -p\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 3000:3000\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"})]})]})})}),\"\\n\",e(r.p,{children:\"如果可以正常訪問，就代表 Docker 設定成功了！\"}),\"\\n\",e(r.h2,{children:\"步驟三：設定 GCP 和 GKE\"}),\"\\n\",e(r.h3,{children:\"建立 GCP 專案\"}),\"\\n\",l(r.ol,{children:[\"\\n\",l(r.li,{children:[\"到 \",e(r.a,{href:\"https://console.cloud.google.com\",children:\"Google Cloud Console\"})]}),\"\\n\",e(r.li,{children:\"建立新專案，記住專案 ID\"}),\"\\n\",l(r.li,{children:[\"啟用需要的 API：\",\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"Kubernetes Engine API\"}),\"\\n\",e(r.li,{children:\"Container Registry API\"}),\"\\n\",e(r.li,{children:\"Artifact Registry API (推薦用這個，比較新)\"}),\"\\n\"]}),\"\\n\"]}),\"\\n\"]}),\"\\n\",e(r.h3,{children:\"安裝 Google Cloud SDK\"}),\"\\n\",e(r.p,{children:\"我建議直接下載安裝程式，比較不會出問題：\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:e(r.a,{href:\"https://cloud.google.com/sdk/docs/install#windows\",children:\"Windows\"})}),\"\\n\",e(r.li,{children:e(r.a,{href:\"https://cloud.google.com/sdk/docs/install#mac\",children:\"macOS\"})}),\"\\n\",e(r.li,{children:e(r.a,{href:\"https://cloud.google.com/sdk/docs/install#linux\",children:\"Linux\"})}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"安裝完成後登入：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"gcloud auth login\\ngcloud config set project YOUR_PROJECT_ID\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" auth\"}),e(r.span,{style:{color:\"#98C379\"},children:\" login\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" config\"}),e(r.span,{style:{color:\"#98C379\"},children:\" set\"}),e(r.span,{style:{color:\"#98C379\"},children:\" project\"}),e(r.span,{style:{color:\"#98C379\"},children:\" YOUR_PROJECT_ID\"})]})]})})}),\"\\n\",e(r.h3,{children:\"建立 GKE 叢集\"}),\"\\n\",e(r.p,{children:\"這裡我踩了很多坑，一開始選了太小的機器，結果 Pod 跑不起來。\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 設定預設區域\\ngcloud config set compute/zone asia-east1-a\\n\\n# 建立叢集（我的建議配置）\\ngcloud container clusters create my-cluster \\\\\\n    --zone=asia-east1-a \\\\\\n    --num-nodes=2 \\\\\\n    --machine-type=e2-standard-2 \\\\\\n    --disk-size=20GB \\\\\\n    --enable-autoscaling \\\\\\n    --min-nodes=1 \\\\\\n    --max-nodes=3\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 設定預設區域\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" config\"}),e(r.span,{style:{color:\"#98C379\"},children:\" set\"}),e(r.span,{style:{color:\"#98C379\"},children:\" compute/zone\"}),e(r.span,{style:{color:\"#98C379\"},children:\" asia-east1-a\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立叢集（我的建議配置）\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container\"}),e(r.span,{style:{color:\"#98C379\"},children:\" clusters\"}),e(r.span,{style:{color:\"#98C379\"},children:\" create\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-cluster\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --zone=asia-east1-a\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --num-nodes=2\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --machine-type=e2-standard-2\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --disk-size=20GB\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --enable-autoscaling\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --min-nodes=1\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#D19A66\"},children:\"    --max-nodes=3\"})})]})})}),\"\\n\",e(r.p,{children:\"這個配置每個月大約 $60-80，但對一般專案來說夠用了。\"}),\"\\n\",e(r.h2,{children:\"步驟四：設定 GitLab CI/CD\"}),\"\\n\",e(r.p,{children:\"這是整個流程的核心，也是我覺得最複雜的部分。\"}),\"\\n\",e(r.h3,{children:\"建立 .gitlab-ci.yml\"}),\"\\n\",l(r.p,{children:[\"在專案根目錄建立 \",e(r.code,{children:\".gitlab-ci.yml\"}),\"：\"]}),\"\\n\",l(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:\".gitlab-ci.yml\"}),e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 使用 Docker-in-Docker\\nimage: docker:24.0.5\\nservices:\\n    - docker:24.0.5-dind\\n\\nvariables:\\n    # Docker 設定\\n    DOCKER_TLS_CERTDIR: /certs\\n    DOCKER_HOST: tcp://docker:2376\\n    DOCKER_TLS_VERIFY: 1\\n    DOCKER_CERT_PATH: /certs/client\\n\\n    # 專案設定\\n    GCP_PROJECT_ID: 'your-project-id'\\n    GCP_ZONE: 'asia-east1-a'\\n    CLUSTER_NAME: 'my-cluster'\\n    SERVICE_NAME: 'nextjs-app'\\n\\nstages:\\n    - build\\n    - test\\n    - deploy\\n\\nbefore_script:\\n    # 安裝必要工具\\n    - apk add --no-cache curl python3 py3-pip\\n    - pip3 install --upgrade pip\\n\\n    # 安裝 gcloud\\n    - curl https://sdk.cloud.google.com | bash > /dev/null\\n    - export PATH=\\\"$HOME/google-cloud-sdk/bin:$PATH\\\"\\n    - source $HOME/google-cloud-sdk/path.bash.inc\\n\\n    # 設定 gcloud\\n    - echo $GCP_SERVICE_ACCOUNT_KEY | base64 -d > gcloud-service-key.json\\n    - gcloud auth activate-service-account --key-file gcloud-service-key.json\\n    - gcloud config set project $GCP_PROJECT_ID\\n    - gcloud config set compute/zone $GCP_ZONE\\n\\n    # 設定 kubectl\\n    - gcloud container clusters get-credentials $CLUSTER_NAME\\n\\n    # Docker registry 認證\\n    - gcloud auth configure-docker\\n\\nbuild:\\n    stage: build\\n    script:\\n        # 建立 Docker image\\n        - docker build -t gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA .\\n        - docker tag gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:latest\\n\\n        # 推送到 Google Container Registry\\n        - docker push gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA\\n        - docker push gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:latest\\n    only:\\n        - main\\n\\ntest:\\n    stage: test\\n    image: node:18-alpine\\n    script:\\n        - npm ci\\n        - npm run lint # 如果你有設定 linting\\n        - npm run test # 如果你有寫測試\\n    only:\\n        - main\\n\\ndeploy:\\n    stage: deploy\\n    script:\\n        # 更新 Kubernetes deployment\\n        - kubectl set image deployment/$SERVICE_NAME $SERVICE_NAME=gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA\\n\\n        # 等待 rollout 完成\\n        - kubectl rollout status deployment/$SERVICE_NAME\\n\\n        # 檢查 service 狀態\\n        - kubectl get services\\n    only:\\n        - main\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 使用 Docker-in-Docker\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"image\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker:24.0.5\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"services\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker:24.0.5-dind\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"variables\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # Docker 設定\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    DOCKER_TLS_CERTDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"/certs\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    DOCKER_HOST\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"tcp://docker:2376\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    DOCKER_TLS_VERIFY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"1\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    DOCKER_CERT_PATH\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"/certs/client\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # 專案設定\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'your-project-id'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    GCP_ZONE\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'asia-east1-a'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    CLUSTER_NAME\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'my-cluster'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    SERVICE_NAME\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'nextjs-app'\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"stages\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"build\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"test\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"deploy\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"before_script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # 安裝必要工具\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"apk add --no-cache curl python3 py3-pip\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"pip3 install --upgrade pip\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # 安裝 gcloud\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"curl https://sdk.cloud.google.com | bash > /dev/null\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:'export PATH=\"$HOME/google-cloud-sdk/bin:$PATH\"'})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"source $HOME/google-cloud-sdk/path.bash.inc\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # 設定 gcloud\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"echo $GCP_SERVICE_ACCOUNT_KEY | base64 -d > gcloud-service-key.json\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcloud auth activate-service-account --key-file gcloud-service-key.json\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcloud config set project $GCP_PROJECT_ID\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcloud config set compute/zone $GCP_ZONE\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # 設定 kubectl\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcloud container clusters get-credentials $CLUSTER_NAME\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    # Docker registry 認證\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"    - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcloud auth configure-docker\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"build\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    stage\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"build\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        # 建立 Docker image\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker build -t gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA .\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker tag gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:latest\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        # 推送到 Google Container Registry\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker push gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"docker push gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:latest\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    only\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"main\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"test\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    stage\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"test\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    image\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"node:18-alpine\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"npm ci\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"npm run lint\"}),e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" # 如果你有設定 linting\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"npm run test\"}),e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" # 如果你有寫測試\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    only\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"main\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"deploy\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    stage\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"deploy\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        # 更新 Kubernetes deployment\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"kubectl set image deployment/$SERVICE_NAME $SERVICE_NAME=gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$CI_COMMIT_SHA\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        # 等待 rollout 完成\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"kubectl rollout status deployment/$SERVICE_NAME\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        # 檢查 service 狀態\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"kubectl get services\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    only\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"main\"})]})]})})]}),\"\\n\",e(r.h2,{children:\"步驟五：設定環境變數\"}),\"\\n\",e(r.p,{children:\"在 GitLab 專案設定中加入這些環境變數：\"}),\"\\n\",l(r.ol,{children:[\"\\n\",e(r.li,{children:\"到專案的 Settings → CI/CD → Variables\"}),\"\\n\",e(r.li,{children:\"加入以下變數：\"}),\"\\n\"]}),\"\\n\",l(r.table,{children:[e(r.thead,{children:l(r.tr,{children:[e(r.th,{children:\"變數名稱\"}),e(r.th,{children:\"值\"}),e(r.th,{children:\"說明\"})]})}),l(r.tbody,{children:[l(r.tr,{children:[e(r.td,{children:e(r.code,{children:\"GCP_SERVICE_ACCOUNT_KEY\"})}),e(r.td,{children:\"(base64 編碼的 JSON)\"}),e(r.td,{children:\"服務帳號金鑰\"})]}),l(r.tr,{children:[e(r.td,{children:e(r.code,{children:\"GCP_PROJECT_ID\"})}),e(r.td,{children:\"your-project-id\"}),e(r.td,{children:\"GCP 專案 ID\"})]})]})]}),\"\\n\",e(r.h3,{children:\"取得 GCP 服務帳號金鑰\"}),\"\\n\",e(r.p,{children:\"這步驟我也搞了很久才弄懂：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 建立服務帳號\\ngcloud iam service-accounts create gitlab-ci \\\\\\n    --display-name \"GitLab CI Service Account\"\\n\\n# 給予權限\\ngcloud projects add-iam-policy-binding $GCP_PROJECT_ID \\\\\\n    --member \"serviceAccount:gitlab-ci@$GCP_PROJECT_ID.iam.gserviceaccount.com\" \\\\\\n    --role \"roles/container.developer\"\\n\\ngcloud projects add-iam-policy-binding $GCP_PROJECT_ID \\\\\\n    --member \"serviceAccount:gitlab-ci@$GCP_PROJECT_ID.iam.gserviceaccount.com\" \\\\\\n    --role \"roles/storage.admin\"\\n\\n# 建立金鑰\\ngcloud iam service-accounts keys create key.json \\\\\\n    --iam-account gitlab-ci@$GCP_PROJECT_ID.iam.gserviceaccount.com\\n\\n# 轉為 base64 (Linux/macOS)\\nbase64 -i key.json\\n\\n# Windows 用這個\\ncertutil -encode key.json base64-key.txt',\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立服務帳號\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" iam\"}),e(r.span,{style:{color:\"#98C379\"},children:\" service-accounts\"}),e(r.span,{style:{color:\"#98C379\"},children:\" create\"}),e(r.span,{style:{color:\"#98C379\"},children:\" gitlab-ci\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --display-name\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"GitLab CI Service Account\"'})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 給予權限\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" projects\"}),e(r.span,{style:{color:\"#98C379\"},children:\" add-iam-policy-binding\"}),e(r.span,{style:{color:\"#E06C75\"},children:\" $GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --member\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"serviceAccount:gitlab-ci@'}),e(r.span,{style:{color:\"#E06C75\"},children:\"$GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#98C379\"},children:'.iam.gserviceaccount.com\"'}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --role\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"roles/container.developer\"'})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" projects\"}),e(r.span,{style:{color:\"#98C379\"},children:\" add-iam-policy-binding\"}),e(r.span,{style:{color:\"#E06C75\"},children:\" $GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --member\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"serviceAccount:gitlab-ci@'}),e(r.span,{style:{color:\"#E06C75\"},children:\"$GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#98C379\"},children:'.iam.gserviceaccount.com\"'}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --role\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"roles/storage.admin\"'})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立金鑰\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" iam\"}),e(r.span,{style:{color:\"#98C379\"},children:\" service-accounts\"}),e(r.span,{style:{color:\"#98C379\"},children:\" keys\"}),e(r.span,{style:{color:\"#98C379\"},children:\" create\"}),e(r.span,{style:{color:\"#98C379\"},children:\" key.json\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\" \\\\\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#D19A66\"},children:\"    --iam-account\"}),e(r.span,{style:{color:\"#98C379\"},children:\" gitlab-ci@\"}),e(r.span,{style:{color:\"#E06C75\"},children:\"$GCP_PROJECT_ID\"}),e(r.span,{style:{color:\"#98C379\"},children:\".iam.gserviceaccount.com\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 轉為 base64 (Linux/macOS)\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"base64\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -i\"}),e(r.span,{style:{color:\"#98C379\"},children:\" key.json\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# Windows 用這個\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"certutil\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -encode\"}),e(r.span,{style:{color:\"#98C379\"},children:\" key.json\"}),e(r.span,{style:{color:\"#98C379\"},children:\" base64-key.txt\"})]})]})})}),\"\\n\",e(r.h2,{children:\"步驟六：建立 Kubernetes 設定\"}),\"\\n\",l(r.p,{children:[\"建立 \",e(r.code,{children:\"k8s/\"}),\" 資料夾，然後加入這些檔案：\"]}),\"\\n\",e(r.h3,{children:\"deployment.yaml\"}),\"\\n\",l(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:\"k8s/deployment.yaml\"}),e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"apiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n    name: nextjs-app\\n    labels:\\n        app: nextjs-app\\nspec:\\n    replicas: 2\\n    selector:\\n        matchLabels:\\n            app: nextjs-app\\n    template:\\n        metadata:\\n            labels:\\n                app: nextjs-app\\n        spec:\\n            containers:\\n                - name: nextjs-app\\n                  image: gcr.io/YOUR_PROJECT_ID/nextjs-app:latest\\n                  ports:\\n                      - containerPort: 3000\\n                  env:\\n                      - name: NODE_ENV\\n                        value: 'production'\\n                  resources:\\n                      requests:\\n                          memory: '256Mi'\\n                          cpu: '250m'\\n                      limits:\\n                          memory: '512Mi'\\n                          cpu: '500m'\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"apiVersion\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"apps/v1\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"kind\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"Deployment\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"metadata\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    name\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    labels\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"spec\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    replicas\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"2\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    selector\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        matchLabels\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"            app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    template\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        metadata\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"            labels\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        spec\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"            containers\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"                - \"}),e(r.span,{style:{color:\"#E06C75\"},children:\"name\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                  image\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"gcr.io/YOUR_PROJECT_ID/nextjs-app:latest\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                  ports\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"                      - \"}),e(r.span,{style:{color:\"#E06C75\"},children:\"containerPort\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                  env\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"                      - \"}),e(r.span,{style:{color:\"#E06C75\"},children:\"name\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"NODE_ENV\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                        value\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'production'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                  resources\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                      requests\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                          memory\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'256Mi'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                          cpu\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'250m'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                      limits\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                          memory\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'512Mi'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"                          cpu\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'500m'\"})]})]})})]}),\"\\n\",e(r.h3,{children:\"service.yaml\"}),\"\\n\",l(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(r.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:\"k8s/service.yaml\"}),e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"apiVersion: v1\\nkind: Service\\nmetadata:\\n    name: nextjs-app-service\\nspec:\\n    selector:\\n        app: nextjs-app\\n    ports:\\n        - port: 80\\n          targetPort: 3000\\n    type: LoadBalancer\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"apiVersion\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"v1\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"kind\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"Service\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"metadata\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    name\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app-service\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"spec\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    selector\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"nextjs-app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    ports\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#E06C75\"},children:\"port\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"80\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"          targetPort\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    type\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"LoadBalancer\"})]})]})})]}),\"\\n\",e(r.h3,{children:\"部署到 GKE\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 套用設定\\nkubectl apply -f k8s/deployment.yaml\\nkubectl apply -f k8s/service.yaml\\n\\n# 檢查狀態\\nkubectl get deployments\\nkubectl get services\\n\\n# 取得外部 IP\\nkubectl get service nextjs-app-service\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 套用設定\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" apply\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -f\"}),e(r.span,{style:{color:\"#98C379\"},children:\" k8s/deployment.yaml\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" apply\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -f\"}),e(r.span,{style:{color:\"#98C379\"},children:\" k8s/service.yaml\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 檢查狀態\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" get\"}),e(r.span,{style:{color:\"#98C379\"},children:\" deployments\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" get\"}),e(r.span,{style:{color:\"#98C379\"},children:\" services\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 取得外部 IP\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" get\"}),e(r.span,{style:{color:\"#98C379\"},children:\" service\"}),e(r.span,{style:{color:\"#98C379\"},children:\" nextjs-app-service\"})]})]})})}),\"\\n\",e(r.h2,{children:\"我踩過的大坑\"}),\"\\n\",e(r.h3,{children:\"1. Docker 權限問題\"}),\"\\n\",e(r.p,{children:\"一開始我的 Dockerfile 沒有設定正確的用戶權限，結果在 Kubernetes 中跑不起來。\"}),\"\\n\",e(r.h3,{children:\"2. GCP 權限設定錯誤\"}),\"\\n\",e(r.p,{children:\"服務帳號的權限設定花了我很多時間，要確保有足夠的權限操作 GCR 和 GKE。\"}),\"\\n\",e(r.h3,{children:\"3. 環境變數忘記設定\"}),\"\\n\",e(r.p,{children:\"忘記在 GitLab 設定環境變數，Pipeline 一直失敗。\"}),\"\\n\",e(r.h3,{children:\"4. Node.js 版本不一致\"}),\"\\n\",e(r.p,{children:\"本地用 Node 16，Docker 用 Node 18，結果建置出來的東西不一樣。\"}),\"\\n\",e(r.h3,{children:\"5. 機器規格太小\"}),\"\\n\",e(r.p,{children:\"一開始選了最小的機器類型，結果記憶體不夠，Pod 一直重啟。\"}),\"\\n\",e(r.h2,{children:\"測試部署流程\"}),\"\\n\",e(r.p,{children:\"設定完成後，試著推送一個小改動：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 修改一些檔案\\necho \"console.log(\\'Hello CI/CD!\\');\" >> pages/index.tsx\\n\\n# 提交並推送\\ngit add .\\ngit commit -m \"test: 測試 CI/CD 流程\"\\ngit push origin main',\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 修改一些檔案\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#56B6C2\"},children:\"echo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" \\\"console.log('Hello CI/CD!');\\\"\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" >> \"}),e(r.span,{style:{color:\"#98C379\"},children:\"pages/index.tsx\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 提交並推送\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"git\"}),e(r.span,{style:{color:\"#98C379\"},children:\" add\"}),e(r.span,{style:{color:\"#98C379\"},children:\" .\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"git\"}),e(r.span,{style:{color:\"#98C379\"},children:\" commit\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -m\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"test: 測試 CI/CD 流程\"'})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"git\"}),e(r.span,{style:{color:\"#98C379\"},children:\" push\"}),e(r.span,{style:{color:\"#98C379\"},children:\" origin\"}),e(r.span,{style:{color:\"#98C379\"},children:\" main\"})]})]})})}),\"\\n\",e(r.p,{children:\"然後到 GitLab 的 CI/CD → Pipelines 看部署狀況。如果全部都是綠色的勾勾，就代表成功了！\"}),\"\\n\",e(r.h2,{children:\"費用控制建議\"}),\"\\n\",e(r.p,{children:\"GCP 的費用可能會失控，我的建議：\"}),\"\\n\",e(r.h3,{children:\"1. 設定預算警告\"}),\"\\n\",e(r.p,{children:\"在 GCP Console 設定預算警告，超過一定金額就會通知你。\"}),\"\\n\",e(r.h3,{children:\"2. 定期清理資源\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 列出所有 images\\ngcloud container images list\\n\\n# 刪除舊的 images\\ngcloud container images delete gcr.io/PROJECT_ID/IMAGE_NAME:TAG\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 列出所有 images\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container\"}),e(r.span,{style:{color:\"#98C379\"},children:\" images\"}),e(r.span,{style:{color:\"#98C379\"},children:\" list\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 刪除舊的 images\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"gcloud\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container\"}),e(r.span,{style:{color:\"#98C379\"},children:\" images\"}),e(r.span,{style:{color:\"#98C379\"},children:\" delete\"}),e(r.span,{style:{color:\"#98C379\"},children:\" gcr.io/PROJECT_ID/IMAGE_NAME:TAG\"})]})]})})}),\"\\n\",e(r.h3,{children:\"3. 使用 Preemptible instances\"}),\"\\n\",e(r.p,{children:\"在測試環境可以使用便宜的 Preemptible instances，能省不少錢。\"}),\"\\n\",e(r.h2,{children:\"監控和維護\"}),\"\\n\",e(r.h3,{children:\"查看 Pod 狀態\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 查看 Pod 狀態\\nkubectl get pods\\n\\n# 查看 Pod 詳細資訊\\nkubectl describe pod POD_NAME\\n\\n# 查看 Pod 日誌\\nkubectl logs POD_NAME\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看 Pod 狀態\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" get\"}),e(r.span,{style:{color:\"#98C379\"},children:\" pods\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看 Pod 詳細資訊\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" describe\"}),e(r.span,{style:{color:\"#98C379\"},children:\" pod\"}),e(r.span,{style:{color:\"#98C379\"},children:\" POD_NAME\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看 Pod 日誌\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" logs\"}),e(r.span,{style:{color:\"#98C379\"},children:\" POD_NAME\"})]})]})})}),\"\\n\",e(r.h3,{children:\"回滾部署\"}),\"\\n\",e(r.p,{children:\"如果新版本有問題，可以快速回滾：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 查看部署歷史\\nkubectl rollout history deployment/nextjs-app\\n\\n# 回滾到上一個版本\\nkubectl rollout undo deployment/nextjs-app\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看部署歷史\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" rollout\"}),e(r.span,{style:{color:\"#98C379\"},children:\" history\"}),e(r.span,{style:{color:\"#98C379\"},children:\" deployment/nextjs-app\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 回滾到上一個版本\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"kubectl\"}),e(r.span,{style:{color:\"#98C379\"},children:\" rollout\"}),e(r.span,{style:{color:\"#98C379\"},children:\" undo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" deployment/nextjs-app\"})]})]})})}),\"\\n\",e(r.h2,{children:\"進階技巧\"}),\"\\n\",e(r.h3,{children:\"1. Multi-stage Pipeline\"}),\"\\n\",e(r.p,{children:\"可以設定不同環境的部署：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"deploy_staging:\\n    stage: deploy\\n    script:\\n        - kubectl set image deployment/nextjs-app-staging nextjs-app=gcr.io/$GCP_PROJECT_ID/nextjs-app:$CI_COMMIT_SHA\\n    only:\\n        - develop\\n\\ndeploy_production:\\n    stage: deploy\\n    script:\\n        - kubectl set image deployment/nextjs-app nextjs-app=gcr.io/$GCP_PROJECT_ID/nextjs-app:$CI_COMMIT_SHA\\n    only:\\n        - main\\n    when: manual # 需要手動觸發\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"deploy_staging\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    stage\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"deploy\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"kubectl set image deployment/nextjs-app-staging nextjs-app=gcr.io/$GCP_PROJECT_ID/nextjs-app:$CI_COMMIT_SHA\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    only\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"develop\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"deploy_production\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    stage\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"deploy\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    script\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"kubectl set image deployment/nextjs-app nextjs-app=gcr.io/$GCP_PROJECT_ID/nextjs-app:$CI_COMMIT_SHA\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    only\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"        - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"main\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    when\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"manual\"}),e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" # 需要手動觸發\"})]})]})})}),\"\\n\",e(r.h3,{children:\"2. 使用 Helm\"}),\"\\n\",e(r.p,{children:\"對於複雜的應用，建議使用 Helm 來管理 Kubernetes 設定。\"}),\"\\n\",e(r.h3,{children:\"3. 設定健康檢查\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 在 deployment.yaml 中加入\\nlivenessProbe:\\n    httpGet:\\n        path: /api/health\\n        port: 3000\\n    initialDelaySeconds: 30\\n    periodSeconds: 10\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 在 deployment.yaml 中加入\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"livenessProbe\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    httpGet\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        path\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"/api/health\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        port\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    initialDelaySeconds\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"30\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    periodSeconds\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\"10\"})]})]})})}),\"\\n\",e(r.h2,{children:\"總結\"}),\"\\n\",e(r.p,{children:\"設定 GitLab CI/CD 到 GCP 真的不容易，我第一次搞定花了整整一個禮拜。但一旦建立好這套流程，開發效率真的提升很多：\"}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[e(r.strong,{children:\"自動化測試\"}),\"：每次 commit 都會自動測試，bug 更少\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"自動部署\"}),\"：push 到 main 就自動上線，不用手動操作\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"版本控制\"}),\"：可以輕易回滾到任何版本\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"團隊協作\"}),\"：多人開發時不會互相干擾\"]}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"雖然一開始的學習成本很高，但對於認真的專案來說絕對值得投資。\"}),\"\\n\",e(r.p,{children:\"現在每次看到 Pipeline 全綠的時候，真的有種莫名的成就感！\"}),\"\\n\",e(r.p,{children:\"有任何問題歡迎討論，CI/CD 的坑真的很多，但一起填坑比較不孤單 😄\"})]})}return{default:function(n={}){const{wrapper:l}=n.components||{};return l?e(l,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "Next.js 中的 robots 和 sitemap 使用指南",
    "date": "2025-02-22T00:00:00.000Z",
    "description": "做好網站後想說提交給 Google 收錄，結果發現需要 robots.txt 和 sitemap.xml。研究了一下發現 Next.js 13+ 可以用程式碼自動生成，超方便！分享我的設定心得。",
    "category": "Code",
    "tags": [
      "Next.js",
      "SEO",
      "Robots.txt",
      "Sitemap",
      "Web Development"
    ],
    "image": "/blog/posts/2025/02/nextjs-robots.png",
    "slug": "nextjs-robots-sitemap-guide",
    "code": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(r){const s={a:\"a\",code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(l,{children:[n(s.h2,{children:\"為什麼需要 robots.txt 和 sitemap.xml？\"}),\"\\n\",n(s.p,{children:\"剛開始做網站的時候我都不知道這兩個檔案是幹嘛的。後來想要提交網站給 Google 搜尋，才發現它們超重要：\"}),\"\\n\",e(s.p,{children:[n(s.strong,{children:\"robots.txt\"}),\"：告訴搜尋引擎爬蟲哪些頁面可以爬、哪些不行。就像是網站的「門禁管理」。\"]}),\"\\n\",e(s.p,{children:[n(s.strong,{children:\"sitemap.xml\"}),\"：提供網站的完整地圖，讓搜尋引擎知道有哪些頁面。就像是「導覽手冊」。\"]}),\"\\n\",n(s.p,{children:\"沒有這兩個文件，搜尋引擎可能會:\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"爬取不該被索引的頁面（比如管理後台）\"}),\"\\n\",n(s.li,{children:\"遺漏一些重要的頁面\"}),\"\\n\",n(s.li,{children:\"花更多時間才能完整收錄網站內容\"}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"Next.js 的強大功能\"}),\"\\n\",n(s.p,{children:\"以前我都要手動建立這些檔案，每次加新頁面都要記得更新 sitemap。Next.js 13+ 的 App Router 提供了一個超棒的功能：可以用程式碼動態生成這些檔案！\"}),\"\\n\",n(s.p,{children:\"這樣的好處是：\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"自動包含所有頁面\"}),\"\\n\",n(s.li,{children:\"新增頁面會自動更新\"}),\"\\n\",n(s.li,{children:\"可以根據資料庫內容動態生成\"}),\"\\n\",n(s.li,{children:\"不會忘記更新\"}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"設定 robots.txt\"}),\"\\n\",e(s.p,{children:[\"在 \",n(s.code,{children:\"src/app\"}),\" 目錄下建立 \",n(s.code,{children:\"robots.ts\"}),\" 檔案：\"]}),\"\\n\",e(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/robots.ts\"}),n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\n\\nexport default function robots(): MetadataRoute.Robots {\\n    return {\\n        rules: {\\n            userAgent: '*', // 對所有搜尋引擎有效\\n            allow: '/', // 允許爬取根目錄下的所有內容\\n            disallow: [\\n                '/admin/', // 不要爬取管理介面\\n                '/api/', // API 路由通常不需要被索引\\n                '/private/', // 私人頁面\\n            ],\\n        },\\n        sitemap: 'https://www.garylin.dev/sitemap.xml', // 告訴爬蟲 sitemap 在哪裡\\n    };\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" robots\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Robots\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        rules\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            userAgent\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'*'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 對所有搜尋引擎有效\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            allow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 允許爬取根目錄下的所有內容\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            disallow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"                '/admin/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 不要爬取管理介面\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"                '/api/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// API 路由通常不需要被索引\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#98C379\"},children:\"                '/private/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 私人頁面\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            ],\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'https://www.garylin.dev/sitemap.xml'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 告訴爬蟲 sitemap 在哪裡\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",n(s.h3,{children:\"進階設定範例\"}),\"\\n\",n(s.p,{children:\"如果需要更細緻的控制：\"}),\"\\n\",e(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/robots.ts\"}),n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\n\\nexport default function robots(): MetadataRoute.Robots {\\n    const baseUrl = 'https://www.garylin.dev';\\n\\n    return {\\n        rules: [\\n            {\\n                userAgent: '*',\\n                allow: '/',\\n                disallow: ['/admin/', '/private/'],\\n            },\\n            {\\n                userAgent: 'Googlebot', // 專門針對 Google\\n                allow: '/',\\n                disallow: ['/admin/', '/private/', '/test/'],\\n            },\\n        ],\\n        sitemap: `${baseUrl}/sitemap.xml`,\\n        host: baseUrl, // 主要網域\\n    };\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" robots\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Robots\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" baseUrl\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'https://www.garylin.dev'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        rules\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                userAgent\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'*'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                allow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                disallow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/admin/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/private/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                userAgent\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Googlebot'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 專門針對 Google\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                allow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"                disallow\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/admin/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/private/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'/test/'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        ],\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/sitemap.xml`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        host\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 主要網域\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",n(s.h2,{children:\"設定 sitemap.xml\"}),\"\\n\",e(s.p,{children:[\"在 \",n(s.code,{children:\"src/app\"}),\" 目錄下建立 \",n(s.code,{children:\"sitemap.ts\"}),\" 檔案：\"]}),\"\\n\",e(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/sitemap.ts\"}),n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\n\\nexport default function sitemap(): MetadataRoute.Sitemap {\\n    const baseUrl = 'https://www.garylin.dev';\\n\\n    // 靜態頁面\\n    const staticRoutes = [\\n        {\\n            url: baseUrl,\\n            lastModified: new Date(),\\n            changeFrequency: 'monthly' as const,\\n            priority: 1.0, // 首頁最重要\\n        },\\n        {\\n            url: `${baseUrl}/about`,\\n            lastModified: new Date(),\\n            changeFrequency: 'weekly' as const,\\n            priority: 0.8,\\n        },\\n        {\\n            url: `${baseUrl}/blog`,\\n            lastModified: new Date(),\\n            changeFrequency: 'daily' as const,\\n            priority: 0.9, // 部落格很重要\\n        },\\n    ];\\n\\n    return staticRoutes;\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" baseUrl\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'https://www.garylin.dev'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 靜態頁面\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" staticRoutes\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'monthly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"1.0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 首頁最重要\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/about`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'weekly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.8\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'daily'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.9\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 部落格很重要\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    ];\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" staticRoutes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",n(s.h2,{children:\"動態生成 sitemap（重點！）\"}),\"\\n\",n(s.p,{children:\"這是最實用的部分，可以根據資料庫或檔案系統動態生成：\"}),\"\\n\",e(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/sitemap.ts\"}),n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\nimport { getAllPosts } from '@/utils/posts';\\n\\n// 假設你有這個函數\\n\\nexport default async function sitemap(): Promise<MetadataRoute.Sitemap> {\\n    const baseUrl = 'https://www.garylin.dev';\\n\\n    // 靜態頁面\\n    const staticRoutes = [\\n        {\\n            url: baseUrl,\\n            lastModified: new Date(),\\n            changeFrequency: 'monthly' as const,\\n            priority: 1.0,\\n        },\\n        {\\n            url: `${baseUrl}/blog`,\\n            lastModified: new Date(),\\n            changeFrequency: 'daily' as const,\\n            priority: 0.9,\\n        },\\n    ];\\n\\n    // 動態獲取所有文章\\n    const posts = await getAllPosts();\\n    const postRoutes = posts.map((post) => ({\\n        url: `${baseUrl}/blog/${post.slug}`,\\n        lastModified: new Date(post.date),\\n        changeFrequency: 'weekly' as const,\\n        priority: 0.7,\\n    }));\\n\\n    return [...staticRoutes, ...postRoutes];\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"getAllPosts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '@/utils/posts'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 假設你有這個函數\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"> {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" baseUrl\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'https://www.garylin.dev'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 靜態頁面\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" staticRoutes\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'monthly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"1.0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'daily'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.9\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    ];\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 動態獲取所有文章\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" posts\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" getAllPosts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" postRoutes\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" posts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"map\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog/\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"slug\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'weekly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.7\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }));\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [...\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"staticRoutes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", ...\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"postRoutes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",n(s.h2,{children:\"實際案例：我的部落格設定\"}),\"\\n\",n(s.p,{children:\"這是我目前部落格用的設定，給大家參考：\"}),\"\\n\",e(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/sitemap.ts\"}),n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\nimport { getAllPosts } from '@/utils/posts';\\n\\nexport default async function sitemap(): Promise<MetadataRoute.Sitemap> {\\n    const baseUrl = 'https://www.garylin.dev';\\n\\n    // 主要頁面\\n    const mainPages = [\\n        {\\n            url: baseUrl,\\n            lastModified: new Date(),\\n            changeFrequency: 'monthly' as const,\\n            priority: 1.0,\\n        },\\n        {\\n            url: `${baseUrl}/blog`,\\n            lastModified: new Date(),\\n            changeFrequency: 'daily' as const,\\n            priority: 0.9,\\n        },\\n        {\\n            url: `${baseUrl}/about`,\\n            lastModified: new Date(),\\n            changeFrequency: 'monthly' as const,\\n            priority: 0.8,\\n        },\\n    ];\\n\\n    // 取得所有文章\\n    const posts = getAllPosts();\\n    const postPages =\\n        posts?.map((post) => ({\\n            url: `${baseUrl}/blog/posts${post?.url}`,\\n            lastModified: new Date(post.date),\\n            changeFrequency: 'weekly' as const,\\n            priority: 0.7,\\n        })) || [];\\n\\n    // 分類頁面\\n    const categories = ['Code', 'Others'];\\n    const categoryPages = categories.map((category) => ({\\n        url: `${baseUrl}/blog/${category.toLowerCase()}`,\\n        lastModified: new Date(),\\n        changeFrequency: 'weekly' as const,\\n        priority: 0.6,\\n    }));\\n\\n    return [...mainPages, ...postPages, ...categoryPages];\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"getAllPosts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(s.span,{style:{color:\"#98C379\"},children:\" '@/utils/posts'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"> {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" baseUrl\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'https://www.garylin.dev'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 主要頁面\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" mainPages\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'monthly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"1.0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'daily'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.9\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/about`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'monthly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.8\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    ];\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 取得所有文章\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" posts\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" getAllPosts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" postPages\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        posts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"?.\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"map\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog/posts\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"?.\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"url\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'weekly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.7\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#ABB2BF\"},children:\"        })) \"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"||\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 分類頁面\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" categories\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Code'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'Others'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" categoryPages\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" categories\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"map\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"category\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog/\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"category\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"toLowerCase\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"()\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'weekly'\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" as\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" const\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.6\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    }));\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [...\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"mainPages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", ...\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"postPages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", ...\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"categoryPages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",n(s.h2,{children:\"驗證設定是否正確\"}),\"\\n\",n(s.p,{children:\"設定完成後，你可以透過這些方式檢查：\"}),\"\\n\",n(s.h3,{children:\"1. 本地測試\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 啟動開發伺服器\\nnpm run dev\\n\\n# 檢查檔案\\ncurl http://localhost:3000/robots.txt\\ncurl http://localhost:3000/sitemap.xml\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 啟動開發伺服器\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),n(s.span,{style:{color:\"#98C379\"},children:\" run\"}),n(s.span,{style:{color:\"#98C379\"},children:\" dev\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 檢查檔案\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"curl\"}),n(s.span,{style:{color:\"#98C379\"},children:\" http://localhost:3000/robots.txt\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#61AFEF\"},children:\"curl\"}),n(s.span,{style:{color:\"#98C379\"},children:\" http://localhost:3000/sitemap.xml\"})]})]})})}),\"\\n\",n(s.h3,{children:\"2. 使用 Google Search Console\"}),\"\\n\",e(s.p,{children:[\"部署後到 \",n(s.a,{href:\"https://search.google.com/search-console\",children:\"Google Search Console\"}),\" 提交你的 sitemap。\"]}),\"\\n\",n(s.h3,{children:\"3. 線上驗證工具\"}),\"\\n\",n(s.p,{children:\"可以用一些線上工具檢查格式是否正確：\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"XML Sitemap Validator\"}),\"\\n\",n(s.li,{children:\"Google Rich Results Test\"}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"我踩過的坑\"}),\"\\n\",n(s.h3,{children:\"1. 忘記設定 baseUrl\"}),\"\\n\",n(s.p,{children:\"一開始我的 sitemap 都是相對路徑，結果 Google 讀不到。一定要用完整的 URL！\"}),\"\\n\",n(s.h3,{children:\"2. lastModified 格式錯誤\"}),\"\\n\",n(s.p,{children:\"我曾經傳入字串而不是 Date 物件，結果生成的時間格式不正確。\"}),\"\\n\",n(s.h3,{children:\"3. 太多頁面導致 sitemap 過大\"}),\"\\n\",n(s.p,{children:\"Google 建議單一 sitemap 不要超過 50,000 個 URL。如果頁面太多，需要拆分成多個檔案。\"}),\"\\n\",n(s.h3,{children:\"4. 動態路由沒有包含\"}),\"\\n\",e(s.p,{children:[\"我忘記把動態路由（如 \",n(s.code,{children:\"/blog/[slug]\"}),\"）的所有可能值都包含進 sitemap。\"]}),\"\\n\",n(s.h2,{children:\"進階技巧\"}),\"\\n\",n(s.h3,{children:\"1. 多語言網站\"}),\"\\n\",n(s.p,{children:\"如果有多語言網站，可以這樣設定：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"export default function sitemap(): MetadataRoute.Sitemap {\\n    const baseUrl = 'https://www.garylin.dev';\\n    const locales = ['en', 'zh-TW'];\\n\\n    const routes: MetadataRoute.Sitemap = [];\\n\\n    locales.forEach((locale) => {\\n        routes.push({\\n            url: `${baseUrl}/${locale}`,\\n            lastModified: new Date(),\\n            changeFrequency: 'monthly',\\n            priority: 1.0,\\n        });\\n    });\\n\\n    return routes;\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Sitemap\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" baseUrl\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#98C379\"},children:\" 'https://www.garylin.dev'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" locales\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(s.span,{style:{color:\"#98C379\"},children:\"'en'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'zh-TW'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" routes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\"Sitemap\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" [];\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"    locales\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"forEach\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"locale\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"        routes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"push\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"locale\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'monthly'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"            priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"1.0\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"        });\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" routes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(s.h3,{children:\"2. 條件性包含頁面\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 只包含已發布的文章\\nconst publishedPosts = posts.filter((post) => post.published);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只包含已發布的文章\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" publishedPosts\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" posts\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"filter\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" post\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"published\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})}),\"\\n\",n(s.h3,{children:\"3. 分頁處理\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 如果有分頁功能\\nconst totalPages = Math.ceil(totalPosts / postsPerPage);\\nfor (let i = 1; i <= totalPages; i++) {\\n    routes.push({\\n        url: `${baseUrl}/blog/page/${i}`,\\n        lastModified: new Date(),\\n        changeFrequency: 'weekly',\\n        priority: 0.5,\\n    });\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 如果有分頁功能\"})}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" totalPages\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#E5C07B\"},children:\" Math\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"ceil\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"totalPosts\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" /\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" postsPerPage\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#C678DD\"},children:\"for\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(s.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\" <=\"}),n(s.span,{style:{color:\"#E06C75\"},children:\" totalPages\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(s.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(s.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E5C07B\"},children:\"    routes\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\"push\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        url\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"baseUrl\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"/blog/page/\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"${\"}),n(s.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(s.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(s.span,{style:{color:\"#98C379\"},children:\"`\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        lastModified\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#C678DD\"},children:\"new\"}),n(s.span,{style:{color:\"#61AFEF\"},children:\" Date\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\"(),\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        changeFrequency\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#98C379\"},children:\"'weekly'\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(s.span,{\"data-line\":\"\",children:[n(s.span,{style:{color:\"#E06C75\"},children:\"        priority\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(s.span,{style:{color:\"#D19A66\"},children:\"0.5\"}),n(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:n(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(s.h2,{children:\"SEO 優化建議\"}),\"\\n\",n(s.h3,{children:\"priority 設定準則\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"首頁：1.0（最高）\"}),\"\\n\",n(s.li,{children:\"主要分類頁：0.8-0.9\"}),\"\\n\",n(s.li,{children:\"文章內容：0.6-0.7\"}),\"\\n\",n(s.li,{children:\"一般頁面：0.5\"}),\"\\n\"]}),\"\\n\",n(s.h3,{children:\"changeFrequency 設定\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"首頁、文章列表：daily\"}),\"\\n\",n(s.li,{children:\"文章內容：weekly\"}),\"\\n\",n(s.li,{children:\"關於我們：monthly\"}),\"\\n\",n(s.li,{children:\"很少更新的頁面：yearly\"}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"部署後記得做這些事\"}),\"\\n\",e(s.ol,{children:[\"\\n\",n(s.li,{children:n(s.strong,{children:\"提交到 Google Search Console\"})}),\"\\n\",n(s.li,{children:n(s.strong,{children:\"提交到 Bing Webmaster Tools\"})}),\"\\n\",n(s.li,{children:n(s.strong,{children:\"定期檢查是否有錯誤\"})}),\"\\n\",n(s.li,{children:n(s.strong,{children:\"監控收錄狀況\"})}),\"\\n\"]}),\"\\n\",n(s.h2,{children:\"總結\"}),\"\\n\",n(s.p,{children:\"Next.js 的動態 robots.txt 和 sitemap.xml 功能真的很方便，特別是對於內容經常更新的網站。雖然一開始設定會花一點時間，但後續的維護成本幾乎是零。\"}),\"\\n\",n(s.p,{children:\"最重要的是記得：\"}),\"\\n\",e(s.ul,{children:[\"\\n\",n(s.li,{children:\"使用完整 URL\"}),\"\\n\",n(s.li,{children:\"定期檢查設定是否正確\"}),\"\\n\",n(s.li,{children:\"關注 Google Search Console 的反饋\"}),\"\\n\"]}),\"\\n\",n(s.p,{children:\"SEO 是長期戰，這些基本設定做好了，搜尋引擎就能更好地理解和收錄你的網站！\"}),\"\\n\",n(s.p,{children:\"有任何問題歡迎討論！\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};"
  },
  {
    "title": "TypeScript 基礎與進階使用指南",
    "date": "2025-02-25T00:00:00.000Z",
    "description": "從 JavaScript 轉到 TypeScript 的時候，我真的很抗拒寫那些型別。但用了一年後，我再也回不去了！這篇分享我從零開始學 TypeScript 的心得，以及那些真正實用的技巧。",
    "category": "Code",
    "tags": [
      "TypeScript",
      "JavaScript",
      "Programming",
      "Static Typing",
      "Type System"
    ],
    "image": "/blog/posts/2025/02/typescript-guide.png",
    "slug": "typescript-fundamentals-advanced-guide",
    "code": "const{Fragment:n,jsx:l,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(n,{children:[l(c.h2,{children:\"我為什麼從 JavaScript 轉向 TypeScript？\"}),\"\\n\",e(c.p,{children:[\"說實話，剛開始接觸 TypeScript 的時候我真的很抗拒。什麼 \",l(c.code,{children:\"string\"}),\"、\",l(c.code,{children:\"number\"}),\"、\",l(c.code,{children:\"interface\"}),\"... 明明 JavaScript 寫得好好的，為什麼要搞這麼複雜？\"]}),\"\\n\",l(c.p,{children:\"但是當我的專案越來越大，bug 也越來越多的時候，我開始懷疑人生。特別是那種「Cannot read property 'xxx' of undefined」的錯誤，總是要在瀏覽器跑起來才發現。\"}),\"\\n\",l(c.p,{children:\"後來被迫接手一個 TypeScript 專案，用了一個月後我就徹底被征服了。現在我的新專案幾乎都用 TypeScript，因為它真的能幫我在寫程式的時候就發現問題。\"}),\"\\n\",l(c.h2,{children:\"TypeScript 到底是什麼？\"}),\"\\n\",l(c.p,{children:\"簡單說，TypeScript 就是加了型別檢查的 JavaScript。你原本的 JS 程式碼幾乎都能直接用，但加上型別註解後，編輯器就能幫你抓出很多潛在的問題。\"}),\"\\n\",l(c.p,{children:l(c.strong,{children:\"主要好處：\"})}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[l(c.strong,{children:\"提前發現錯誤\"}),\"：不用等到執行時才知道有問題\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"更好的開發體驗\"}),\"：自動完成、重構更精準\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"程式碼更清晰\"}),\"：看型別定義就知道函數要什麼參數\"]}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"基礎型別 - 先從簡單的開始\"}),\"\\n\",l(c.p,{children:\"剛開始我建議先搞懂這些基本型別就夠了：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 基本型別\\nlet isFinished: boolean = false;\\nlet age: number = 25;\\nlet name: string = 'Gary';\\nlet hobbies: string[] = ['coding', 'gaming'];\\n\\n// 這個我最常用，可以是多種型別之一\\nlet id: string | number = 123;\\nid = 'abc123'; // 也可以\\n\\n// 物件型別\\nlet user: { name: string; age: number } = {\\n    name: 'Gary',\\n    age: 25,\\n};\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 基本型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" isFinished\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"boolean\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" false\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" age\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 25\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'Gary'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" hobbies\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[] \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'coding'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'gaming'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這個我最常用，可以是多種型別之一\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" id\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" 123\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'abc123'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 也可以\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 物件型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" user\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"age\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'Gary'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    age\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"25\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",l(c.p,{children:\"其實最開始你不需要記住所有型別，編輯器會提示你，慢慢就熟了。\"}),\"\\n\",l(c.h2,{children:\"any 和 unknown - 一個是地獄，一個是天堂\"}),\"\\n\",l(c.h3,{children:\"any - 我的黑歷史\"}),\"\\n\",e(c.p,{children:[\"剛開始用 TS 的時候，遇到報錯我就加 \",l(c.code,{children:\"any\"}),\"，想說這樣最快：\"]}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"let data: any = fetchFromAPI();\\ndata.user.profile.name; // 這樣寫不會報錯，但運行時可能炸掉\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"any\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" fetchFromAPI\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"user\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"profile\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這樣寫不會報錯，但運行時可能炸掉\"})]})]})})}),\"\\n\",e(c.p,{children:[\"結果後來發現，用太多 \",l(c.code,{children:\"any\"}),\" 就失去了 TypeScript 的意義。\"]}),\"\\n\",l(c.h3,{children:\"unknown - 更安全的選擇\"}),\"\\n\",e(c.p,{children:[\"後來學會用 \",l(c.code,{children:\"unknown\"}),\"，強迫我處理型別問題：\"]}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"let response: unknown = await fetch('/api/user').then((r) => r.json());\\n\\n// 必須先檢查型別才能使用\\nif (typeof response === 'object' && response !== null && 'name' in response) {\\n    console.log((response as { name: string }).name);\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" response\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"unknown\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'/api/user'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\").\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"then\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"r\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" r\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"json\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"());\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 必須先檢查型別才能使用\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"if\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"typeof\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" response\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'object'\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" &&\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" response\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" !==\"}),l(c.span,{style:{color:\"#D19A66\"},children:\" null\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" &&\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'name'\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" in\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" response\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E5C07B\"},children:\"    console\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"response\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" as\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }).\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.p,{children:\"雖然麻煩一點，但安全多了。\"}),\"\\n\",l(c.h2,{children:\"Interface vs Type - 什麼時候用哪個？\"}),\"\\n\",l(c.p,{children:\"這是我被問最多的問題。我的經驗法則：\"}),\"\\n\",l(c.h3,{children:\"用 Interface 當你要定義物件結構\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"interface User {\\n    id: number;\\n    name: string;\\n    email?: string; // 可選屬性\\n    readonly createdAt: Date; // 唯讀\\n}\\n\\n// 可以擴展\\ninterface Employee extends User {\\n    department: string;\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    id\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    email\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"?\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 可選屬性\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    readonly\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" createdAt\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"Date\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 唯讀\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 可以擴展\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Employee\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" extends\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    department\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(c.h3,{children:\"用 Type 當你要做複雜的型別操作\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 聯合型別\\ntype Status = 'pending' | 'success' | 'error';\\n\\n// 函數型別\\ntype EventHandler = (event: MouseEvent) => void;\\n\\n// 條件型別\\ntype ApiResponse<T> = T extends string ? string : number;\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 聯合型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Status\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'pending'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'success'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'error'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 函數型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" EventHandler\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"event\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"MouseEvent\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" void\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 條件型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" ApiResponse\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"T\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"> \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" T\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" extends\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" string\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" ?\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" string\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" :\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",l(c.p,{children:l(c.strong,{children:\"我的建議：\"})}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"定義物件結構 → 用 Interface\"}),\"\\n\",l(c.li,{children:\"其他複雜型別 → 用 Type\"}),\"\\n\",l(c.li,{children:\"不確定就用 Interface，大部分情況都適用\"}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"泛型 - 讓程式碼更靈活\"}),\"\\n\",l(c.p,{children:\"泛型是我覺得最強大但也最難理解的功能。簡單說就是「型別變數」：\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 不用泛型的話，每種型別都要寫一次\\nfunction getFirstString(items: string[]): string | undefined {\\n    return items[0];\\n}\\nfunction getFirstNumber(items: number[]): number | undefined {\\n    return items[0];\\n}\\n\\n// 用泛型，一次搞定所有型別\\nfunction getFirst<T>(items: T[]): T | undefined {\\n    return items[0];\\n}\\n\\nconst firstUser = getFirst(['Alice', 'Bob']); // 型別自動推斷為 string\\nconst firstNumber = getFirst([1, 2, 3]); // 型別自動推斷為 number\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 不用泛型的話，每種型別都要寫一次\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getFirstString\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[]): \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"undefined\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getFirstNumber\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[]): \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"undefined\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 用泛型，一次搞定所有型別\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getFirst\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"T\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"T\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[]): \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"T\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"undefined\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" items\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" firstUser\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getFirst\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"([\"}),l(c.span,{style:{color:\"#98C379\"},children:\"'Alice'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'Bob'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"]); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 型別自動推斷為 string\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" firstNumber\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" getFirst\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"([\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"2\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#D19A66\"},children:\"3\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"]); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 型別自動推斷為 number\"})]})]})})}),\"\\n\",l(c.h2,{children:\"實用工具型別 - 我的日常救星\"}),\"\\n\",l(c.p,{children:\"這些工具型別我幾乎每個專案都會用到：\"}),\"\\n\",l(c.h3,{children:\"Partial<T> - 更新資料時超好用\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"interface User {\\n    id: number;\\n    name: string;\\n    email: string;\\n}\\n\\n// 更新用戶時，不是每個欄位都要傳\\nfunction updateUser(id: number, updates: Partial<User>) {\\n    // 只需要傳想更新的欄位\\n}\\n\\nupdateUser(1, { name: 'New Name' }); // 只更新名字\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    id\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    email\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 更新用戶時，不是每個欄位都要傳\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" updateUser\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"id\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"updates\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"Partial\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">) {\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 只需要傳想更新的欄位\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"updateUser\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'New Name'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }); \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只更新名字\"})]})]})})}),\"\\n\",l(c.h3,{children:\"Pick<T, K> - 只要部分屬性\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 只選擇需要的屬性\\ntype UserProfile = Pick<User, 'name' | 'email'>;\\n// 等於：{ name: string; email: string }\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只選擇需要的屬性\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" UserProfile\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Pick\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'name'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'email'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">;\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 等於：{ name: string; email: string }\"})})]})})}),\"\\n\",l(c.h3,{children:\"Record<K, T> - 做設定物件很棒\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"type Theme = 'light' | 'dark';\\ntype ThemeConfig = Record<Theme, { background: string; text: string }>;\\n\\nconst themes: ThemeConfig = {\\n    light: { background: '#fff', text: '#000' },\\n    dark: { background: '#000', text: '#fff' },\\n};\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Theme\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'light'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'dark'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"type\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" ThemeConfig\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" Record\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"Theme\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"background\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }>;\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" themes\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"ThemeConfig\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    light\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"background\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'#fff'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'#000'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    dark\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"background\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'#000'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'#fff'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",l(c.h2,{children:\"在 React 中使用 TypeScript\"}),\"\\n\",l(c.h3,{children:\"函數組件 Props\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"interface ButtonProps {\\n    text: string;\\n    onClick: () => void;\\n    variant?: 'primary' | 'secondary';\\n}\\n\\nconst Button: React.FC<ButtonProps> = ({ text, onClick, variant = 'primary' }) => {\\n    return (\\n        <button className={`btn btn-${variant}`} onClick={onClick}>\\n            {text}\\n        </button>\\n    );\\n};\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" ButtonProps\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"    onClick\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\" void\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"    variant\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"?\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'primary'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'secondary'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" Button\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"React\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"FC\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"ButtonProps\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"> \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"onClick\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"variant\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'primary'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" }) \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),l(c.span,{style:{color:\"#E06C75\"},children:\" className\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#98C379\"},children:\"`btn btn-\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"${\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"variant\"}),l(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),l(c.span,{style:{color:\"#98C379\"},children:\"`\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"} \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"onClick\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"onClick\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#ABB2BF\"},children:\"            {\"}),l(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"text\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),l(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})})]})})}),\"\\n\",l(c.h3,{children:\"useState 的型別\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 簡單型別，通常會自動推斷\\nconst [count, setCount] = useState(0);\\n\\n// 複雜型別需要明確指定\\nconst [user, setUser] = useState<User | null>(null);\\nconst [users, setUsers] = useState<User[]>([]);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 簡單型別，通常會自動推斷\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"count\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"setCount\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 複雜型別需要明確指定\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"user\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"setUser\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"null\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\">(\"}),l(c.span,{style:{color:\"#D19A66\"},children:\"null\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"users\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"setUsers\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"[]>([]);\"})]})]})})}),\"\\n\",l(c.h2,{children:\"我踩過的坑\"}),\"\\n\",l(c.h3,{children:\"過度使用 any\"}),\"\\n\",e(c.p,{children:[\"剛開始遇到型別錯誤就用 \",l(c.code,{children:\"any\"}),\" 解決，結果失去了 TypeScript 的意義。\"]}),\"\\n\",l(c.h3,{children:\"不理解型別推斷\"}),\"\\n\",l(c.p,{children:\"TypeScript 其實很聰明，很多時候不需要手動標註型別。\"}),\"\\n\",l(c.h3,{children:\"忽略編輯器提示\"}),\"\\n\",e(c.p,{children:[\"TypeScript 的錯誤提示很有用，不要急著用 \",l(c.code,{children:\"@ts-ignore\"}),\" 跳過。\"]}),\"\\n\",l(c.h2,{children:\"實戰建議\"}),\"\\n\",l(c.h3,{children:\"1. 漸進式採用\"}),\"\\n\",l(c.p,{children:\"不用一開始就把所有 JS 檔案改成 TS，可以先從新功能開始。\"}),\"\\n\",l(c.h3,{children:\"2. 配合 ESLint 和 Prettier\"}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install @typescript-eslint/eslint-plugin @typescript-eslint/parser\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),l(c.span,{style:{color:\"#98C379\"},children:\" install\"}),l(c.span,{style:{color:\"#98C379\"},children:\" @typescript-eslint/eslint-plugin\"}),l(c.span,{style:{color:\"#98C379\"},children:\" @typescript-eslint/parser\"})]})})})}),\"\\n\",l(c.h3,{children:\"3. 善用 IDE\"}),\"\\n\",l(c.p,{children:\"VS Code 對 TypeScript 支援很好，錯誤提示、自動完成都很棒。\"}),\"\\n\",l(c.h3,{children:\"4. 讀別人的型別定義\"}),\"\\n\",l(c.p,{children:\"看看 @types/react、@types/node 怎麼寫的，學習最佳實踐。\"}),\"\\n\",l(c.h2,{children:\"我的學習路徑建議\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[l(c.strong,{children:\"先從基礎型別開始\"}),\"：不要急著學進階功能\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"在現有專案中試用\"}),\"：從小地方開始加型別註解\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"多看錯誤訊息\"}),\"：TypeScript 的錯誤訊息雖然嚇人，但很有幫助\"]}),\"\\n\",e(c.li,{children:[l(c.strong,{children:\"實際應用\"}),\"：理論再多不如實際寫程式\"]}),\"\\n\"]}),\"\\n\",l(c.h2,{children:\"總結\"}),\"\\n\",l(c.p,{children:\"從 JavaScript 轉到 TypeScript 確實有學習成本，但投資報酬率很高。特別是當專案規模變大、團隊成員變多的時候，TypeScript 的價值就會顯現出來。\"}),\"\\n\",l(c.p,{children:\"重點不是要成為 TypeScript 專家，而是要能用它來寫出更穩定、更易維護的程式碼。從基礎開始，慢慢累積經驗，很快就能體會到它的好處。\"}),\"\\n\",l(c.p,{children:\"有問題歡迎交流討論！\"})]})}return{default:function(n={}){const{wrapper:e}=n.components||{};return e?l(e,{...n,children:l(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "測試remark-gfm",
    "date": "2025-02-27T00:00:00.000Z",
    "description": "測試remark-gfm編譯了哪些markdown語法",
    "category": "Others",
    "tags": [
      "MDX"
    ],
    "slug": "test-remark-gfm-markdown-features",
    "draft": false,
    "code": "const{Fragment:n,jsx:l,jsxs:e}=arguments[0];function _createMdxContent(r){const c={a:\"a\",blockquote:\"blockquote\",code:\"code\",del:\"del\",em:\"em\",figure:\"figure\",h1:\"h1\",h2:\"h2\",h3:\"h3\",h4:\"h4\",h5:\"h5\",h6:\"h6\",hr:\"hr\",img:\"img\",input:\"input\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return e(n,{children:[l(c.h1,{children:\"標題一\"}),\"\\n\",l(c.h2,{children:\"標題二\"}),\"\\n\",l(c.h3,{children:\"標題三\"}),\"\\n\",l(c.h4,{children:\"標題四\"}),\"\\n\",l(c.h5,{children:\"標題五\"}),\"\\n\",l(c.h6,{children:\"標題六\"}),\"\\n\",e(c.p,{children:[l(c.strong,{children:\"粗體文字\"}),\"\\r\\n\",l(c.strong,{children:\"粗體文字\"}),\"\\r\\n\",l(c.em,{children:\"斜體文字\"}),\"\\r\\n\",l(c.em,{children:\"斜體文字\"})]}),\"\\n\",l(c.p,{children:\"普通文字\"}),\"\\n\",l(c.p,{children:l(c.del,{children:\"刪除線文字\"})}),\"\\n\",l(c.p,{children:l(c.a,{href:\"https://www.garylin.dev/\",children:\"點擊這裡\"})}),\"\\n\",l(c.p,{children:l(c.img,{src:\"/avatar/author.jpg\",alt:\"測試圖片\"})}),\"\\n\",e(c.blockquote,{children:[\"\\n\",l(c.p,{children:\"這是一段引用文字\"}),\"\\n\",e(c.blockquote,{children:[\"\\n\",l(c.p,{children:\"這是一段引用文字\"}),\"\\n\",e(c.blockquote,{children:[\"\\n\",l(c.p,{children:\"這是一段引用文字\"}),\"\\n\"]}),\"\\n\"]}),\"\\n\"]}),\"\\n\",e(c.blockquote,{children:[\"\\n\",l(c.p,{children:\"這是一段引用文字\"}),\"\\n\",e(c.blockquote,{children:[\"\\n\",e(c.blockquote,{children:[\"\\n\",l(c.p,{children:\"這是一段引用文字\\r\\n這是一段引用文字\"}),\"\\n\"]}),\"\\n\"]}),\"\\n\"]}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"項目一\"}),\"\\n\",l(c.li,{children:\"項目二\"}),\"\\n\",l(c.li,{children:\"項目三\"}),\"\\n\"]}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"項目一\"}),\"\\n\",l(c.li,{children:\"項目二\"}),\"\\n\",l(c.li,{children:\"項目三\"}),\"\\n\"]}),\"\\n\",e(c.ul,{children:[\"\\n\",l(c.li,{children:\"項目一\"}),\"\\n\",l(c.li,{children:\"項目二\"}),\"\\n\",l(c.li,{children:\"項目三\"}),\"\\n\"]}),\"\\n\",e(c.ol,{children:[\"\\n\",l(c.li,{children:\"第一項\"}),\"\\n\",l(c.li,{children:\"第二項\"}),\"\\n\",l(c.li,{children:\"第三項\"}),\"\\n\"]}),\"\\n\",e(c.ul,{className:\"contains-task-list\",children:[\"\\n\",e(c.li,{className:\"task-list-item\",children:[l(c.input,{type:\"checkbox\",disabled:!0}),\" \",\"未完成項目\"]}),\"\\n\",e(c.li,{className:\"task-list-item\",children:[l(c.input,{type:\"checkbox\",checked:!0,disabled:!0}),\" \",\"已完成項目\"]}),\"\\n\"]}),\"\\n\",e(c.p,{children:[\"這是一段 \",l(c.code,{children:\"src/app/globals.css\"})]}),\"\\n\",l(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { MetadataRoute } from 'next';\\n\\nexport default function robots(): MetadataRoute.Robots {\\n    return {\\n        rules: {\\n            userAgent: '*', // 針對所有搜索引擎\\n            allow: '/', // 允許訪問所有頁面\\n            disallow: '/private/', // 禁止訪問私有頁面\\n        },\\n        sitemap: 'https://www.garylin.dev/sitemap.xml', // 指向網站地圖的 URL\\n    };\\n}\",\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"js\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(c.span,{style:{color:\"#E06C75\"},children:\"MetadataRoute\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(c.span,{style:{color:\"#98C379\"},children:\" 'next'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(c.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(c.span,{style:{color:\"#61AFEF\"},children:\" robots\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"MetadataRoute\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(c.span,{style:{color:\"#E5C07B\"},children:\"Robots\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        rules\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            userAgent\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'*'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 針對所有搜索引擎\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            allow\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'/'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 允許訪問所有頁面\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"            disallow\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'/private/'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 禁止訪問私有頁面\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[l(c.span,{style:{color:\"#E06C75\"},children:\"        sitemap\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(c.span,{style:{color:\"#98C379\"},children:\"'https://www.garylin.dev/sitemap.xml'\"}),l(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 指向網站地圖的 URL\"})]}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",l(c.span,{\"data-line\":\"\",children:l(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",e(c.table,{children:[l(c.thead,{children:e(c.tr,{children:[l(c.th,{children:\"標題一\"}),l(c.th,{children:\"標題二\"})]})}),e(c.tbody,{children:[e(c.tr,{children:[l(c.td,{children:\"單元格1\"}),l(c.td,{children:\"單元格2\"})]}),e(c.tr,{children:[l(c.td,{children:\"單元格3\"}),l(c.td,{children:\"單元格4\"})]})]})]}),\"\\n\",l(c.hr,{}),\"\\n\",l(c.hr,{}),\"\\n\",l(c.hr,{}),\"\\n\",l(c.p,{children:l(c.a,{href:\"https://www.garylin.dev/\",children:\"https://www.garylin.dev/\"})}),\"\\n\",l(c.p,{children:l(c.a,{href:\"mailto:garylin0969@gmail.com\",children:\"garylin0969@gmail.com\"})}),\"\\n\",l(c.p,{children:l(c.a,{href:\"https://www.garylin.dev/\",children:l(c.img,{src:\"/avatar/author.jpg\",alt:\"圖片描述\"})})}),\"\\n\",l(c.p,{children:\"*這不是斜體*\"}),\"\\n\",l(\"div\",{children:l(\"p\",{children:\"測試 JSX\"})})]})}return{default:function(n={}){const{wrapper:e}=n.components||{};return e?l(e,{...n,children:l(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "React Query 實用指南：在 Next.js 和 React.js 中的數據獲取",
    "date": "2025-03-02T00:00:00.000Z",
    "description": "以前我都用 useState + useEffect 來處理 API 呼叫，每次都要處理 loading、error、cache 很麻煩。直到遇到 React Query，才知道原來資料抓取可以這麼優雅！分享我的實戰心得。",
    "category": "Code",
    "tags": [
      "React Query",
      "Next.js",
      "React.js",
      "Data Fetching",
      "TanStack Query"
    ],
    "image": "/blog/posts/2025/03/tanstack-query.png",
    "slug": "react-query-practical-guide-nextjs-reactjs",
    "code": "const{Fragment:e,jsx:l,jsxs:n}=arguments[0];function _createMdxContent(r){const s={code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return n(e,{children:[l(s.h2,{children:\"為什麼我愛上了 React Query？\"}),\"\\n\",l(s.p,{children:\"還記得以前每次要抓 API 資料，都要寫一堆 useState 和 useEffect：\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 以前的我...\\nconst [data, setData] = useState(null);\\nconst [loading, setLoading] = useState(false);\\nconst [error, setError] = useState(null);\\n\\nuseEffect(() => {\\n    const fetchData = async () => {\\n        setLoading(true);\\n        try {\\n            const response = await fetch('/api/users');\\n            const result = await response.json();\\n            setData(result);\\n        } catch (err) {\\n            setError(err);\\n        } finally {\\n            setLoading(false);\\n        }\\n    };\\n    fetchData();\\n}, []);\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 以前的我...\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"setData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#D19A66\"},children:\"null\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"loading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"setLoading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#D19A66\"},children:\"false\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"setError\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#D19A66\"},children:\"null\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"useEffect\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetchData\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"        setLoading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#D19A66\"},children:\"true\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        try\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"            const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'/api/users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"            const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" result\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"            setData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"result\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"catch\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"err\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"            setError\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"err\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"finally\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"            setLoading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#D19A66\"},children:\"false\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"    fetchData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}, []);\"})})]})})}),\"\\n\",l(s.p,{children:\"每個組件都要寫一遍，cache 要自己管理，重複請求也沒辦法避免。後來同事推薦我用 React Query，我才發現原來資料抓取可以這麼簡單！\"}),\"\\n\",l(s.h2,{children:\"什麼是 React Query？\"}),\"\\n\",l(s.p,{children:\"React Query（現在叫 TanStack Query）是專門處理伺服器狀態的函式庫。它幫你處理：\"}),\"\\n\",n(s.ul,{children:[\"\\n\",n(s.li,{children:[l(s.strong,{children:\"Cache 管理\"}),\"：自動快取資料，避免重複請求\"]}),\"\\n\",n(s.li,{children:[l(s.strong,{children:\"背景更新\"}),\"：當頁面重新聚焦時自動更新資料\"]}),\"\\n\",n(s.li,{children:[l(s.strong,{children:\"錯誤處理\"}),\"：統一的錯誤處理機制\"]}),\"\\n\",n(s.li,{children:[l(s.strong,{children:\"Loading 狀態\"}),\"：自動管理載入狀態\"]}),\"\\n\",n(s.li,{children:[l(s.strong,{children:\"樂觀更新\"}),\"：先更新 UI，失敗再回復\"]}),\"\\n\"]}),\"\\n\",l(s.p,{children:\"最重要的是，程式碼變得超級簡潔！\"}),\"\\n\",l(s.h2,{children:\"安裝和基本設定\"}),\"\\n\",l(s.h3,{children:\"安裝套件\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install @tanstack/react-query\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(s.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),l(s.span,{style:{color:\"#98C379\"},children:\" install\"}),l(s.span,{style:{color:\"#98C379\"},children:\" @tanstack/react-query\"})]})})})}),\"\\n\",l(s.h3,{children:\"在 Next.js 中設定\"}),\"\\n\",l(s.p,{children:\"我習慣建立一個 providers 檔案來管理：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/providers/query-provider.tsx\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"'use client';\\n\\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\\nimport { useState } from 'react';\\n\\nexport default function QueryProvider({ children }: { children: React.ReactNode }) {\\n    // 這樣每個用戶都有自己的 QueryClient 實例\\n    const [queryClient] = useState(\\n        () =>\\n            new QueryClient({\\n                defaultOptions: {\\n                    queries: {\\n                        // 5 分鐘後資料就算過期\\n                        staleTime: 5 * 60 * 1000,\\n                        // 快取保存 10 分鐘\\n                        gcTime: 10 * 60 * 1000,\\n                    },\\n                },\\n            })\\n    );\\n\\n    return (\\n        <QueryClientProvider client={queryClient}>\\n            {children}\\n            {/* 開發時很好用的除錯工具 */}\\n            <ReactQueryDevtools initialIsOpen={false} />\\n        </QueryClientProvider>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#98C379\"},children:\"'use client'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryClientProvider\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@tanstack/react-query'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"ReactQueryDevtools\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@tanstack/react-query-devtools'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" QueryProvider\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" }: { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"React\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"ReactNode\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" }) {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 這樣每個用戶都有自己的 QueryClient 實例\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"        () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"            new\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" QueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                defaultOptions\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                    queries\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"                        // 5 分鐘後資料就算過期\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                        staleTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"5\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"                        // 快取保存 10 分鐘\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                        gcTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"10\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"                    },\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"                },\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"            })\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryClientProvider\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" client\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"            {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"            {\"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/* 開發時很好用的除錯工具 */\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"ReactQueryDevtools\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" initialIsOpen\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"false\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"} \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"/>\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryClientProvider\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.p,{children:\"然後在 layout 中使用：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/layout.tsx\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import QueryProvider from '@/providers/query-provider';\\n\\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\\n    return (\\n        <html lang=\\\"zh-TW\\\">\\n            <body>\\n                <QueryProvider>\\n                    {children}\\n                </QueryProvider>\\n            </body>\\n        </html>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" QueryProvider\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@/providers/query-provider'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" RootLayout\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" }: { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"React\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"ReactNode\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" }) {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"html\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" lang\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#98C379\"},children:'\"zh-TW\"'}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"body\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"                <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"QueryProvider\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"                    {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"children\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"                </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryProvider\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"body\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"html\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.h2,{children:\"useQuery：抓取資料的神器\"}),\"\\n\",l(s.p,{children:\"這是我最常用的 hook：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/hooks/useUsers.ts\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useQuery } from '@tanstack/react-query';\\n\\ninterface User {\\n    id: number;\\n    name: string;\\n    email: string;\\n}\\n\\n// 抓取用戶資料的函數\\nasync function fetchUsers(): Promise<User[]> {\\n    const response = await fetch('/api/users');\\n    if (!response.ok) {\\n        throw new Error('Failed to fetch users');\\n    }\\n    return response.json();\\n}\\n\\n// 自訂 hook\\nexport function useUsers() {\\n    return useQuery({\\n        queryKey: ['users'], // 快取的鍵值\\n        queryFn: fetchUsers,\\n        staleTime: 5 * 60 * 1000, // 5 分鐘內不會重新抓取\\n    });\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@tanstack/react-query'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" User\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    id\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 抓取用戶資料的函數\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"async\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(): \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"Promise\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"[]> {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'/api/users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"!\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"ok\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        throw\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" new\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" Error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'Failed to fetch users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 自訂 hook\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"], \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 快取的鍵值\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        staleTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"5\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 5 分鐘內不會重新抓取\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.p,{children:\"在組件中使用：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/components/UserList.tsx\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useUsers } from '@/hooks/useUsers';\\n\\nexport default function UserList() {\\n    const { data, isLoading, error } = useUsers();\\n\\n    if (isLoading) return <div>載入中...</div>;\\n    if (error) return <div>錯誤：{error.message}</div>;\\n\\n    return (\\n        <ul>\\n            {data?.map((user) => (\\n                <li key={user.id}>\\n                    {user.name} - {user.email}\\n                </li>\\n            ))}\\n        </ul>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@/hooks/useUsers'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" UserList\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"isLoading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"isLoading\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"載入中\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"...\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"錯誤\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"：{error.\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"message\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"ul\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"            {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"?.\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"map\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"li\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" key\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{user.\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"id\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"                    {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"} \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"-\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"                </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"li\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"            ))}\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"ul\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.p,{children:\"就這麼簡單！不用自己管理 loading、error、data 狀態。\"}),\"\\n\",l(s.h2,{children:\"在 Next.js 中的伺服器端預取\"}),\"\\n\",l(s.p,{children:\"Next.js 的好處是可以在伺服器端先抓資料，用戶看到頁面時資料已經準備好了：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/app/users/page.tsx\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { QueryClient, HydrationBoundary, dehydrate } from '@tanstack/react-query';\\nimport UserList from '@/components/UserList';\\n\\nasync function fetchUsers() {\\n    const response = await fetch('https://api.example.com/users');\\n    return response.json();\\n}\\n\\nexport default async function UsersPage() {\\n    const queryClient = new QueryClient();\\n\\n    // 在伺服器端預取資料\\n    await queryClient.prefetchQuery({\\n        queryKey: ['users'],\\n        queryFn: fetchUsers,\\n    });\\n\\n    return (\\n        <HydrationBoundary state={dehydrate(queryClient)}>\\n            <div>\\n                <h1>用戶列表</h1>\\n                <UserList />\\n            </div>\\n        </HydrationBoundary>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"QueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"HydrationBoundary\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"dehydrate\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@tanstack/react-query'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" UserList\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@/components/UserList'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"async\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'https://api.example.com/users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" async\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" UsersPage\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" queryClient\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" new\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" QueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 在伺服器端預取資料\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    await\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"prefetchQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"HydrationBoundary\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" state\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"dehydrate\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\")}\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"div\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"                <\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"h1\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\">\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"用戶列表\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"</\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"h1\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"                <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"UserList\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" />\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"div\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"HydrationBoundary\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.h2,{children:\"useMutation：處理資料更新\"}),\"\\n\",l(s.p,{children:\"用來處理新增、修改、刪除等操作：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/hooks/useCreateUser.ts\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useMutation, useQueryClient } from '@tanstack/react-query';\\n\\ninterface CreateUserData {\\n    name: string;\\n    email: string;\\n}\\n\\nasync function createUser(userData: CreateUserData) {\\n    const response = await fetch('/api/users', {\\n        method: 'POST',\\n        headers: { 'Content-Type': 'application/json' },\\n        body: JSON.stringify(userData),\\n    });\\n\\n    if (!response.ok) {\\n        throw new Error('Failed to create user');\\n    }\\n\\n    return response.json();\\n}\\n\\nexport function useCreateUser() {\\n    const queryClient = useQueryClient();\\n\\n    return useMutation({\\n        mutationFn: createUser,\\n        onSuccess: () => {\\n            // 新增成功後，讓用戶列表重新抓取\\n            queryClient.invalidateQueries({ queryKey: ['users'] });\\n        },\\n        onError: (error) => {\\n            console.error('建立用戶失敗:', error);\\n        },\\n    });\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useMutation\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useQueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@tanstack/react-query'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"interface\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" CreateUserData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"string\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"async\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" createUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"userData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"CreateUserData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" await\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetch\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'/api/users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        method\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#98C379\"},children:\"'POST'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        headers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": { \"}),l(s.span,{style:{color:\"#98C379\"},children:\"'Content-Type'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#98C379\"},children:\"'application/json'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" },\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        body\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"JSON\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"stringify\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"userData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    if\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"!\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"ok\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        throw\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" new\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" Error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'Failed to create user'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" response\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"json\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useCreateUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" queryClient\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQueryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useMutation\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        mutationFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"createUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"        onSuccess\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"            // 新增成功後，讓用戶列表重新抓取\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"            queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"invalidateQueries\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] });\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"        onError\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"            console\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'建立用戶失敗:'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"error\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"        },\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.p,{children:\"在組件中使用：\"}),\"\\n\",n(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[l(s.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/components/CreateUserForm.tsx\"}),l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { useState } from 'react';\\nimport { useCreateUser } from '@/hooks/useCreateUser';\\n\\nexport default function CreateUserForm() {\\n    const [name, setName] = useState('');\\n    const [email, setEmail] = useState('');\\n\\n    const createUserMutation = useCreateUser();\\n\\n    const handleSubmit = (e: React.FormEvent) => {\\n        e.preventDefault();\\n        createUserMutation.mutate({ name, email });\\n    };\\n\\n    return (\\n        <form onSubmit={handleSubmit}>\\n            <input\\n                value={name}\\n                onChange={(e) => setName(e.target.value)}\\n                placeholder=\\\"姓名\\\"\\n                required\\n            />\\n            <input\\n                type=\\\"email\\\"\\n                value={email}\\n                onChange={(e) => setEmail(e.target.value)}\\n                placeholder=\\\"Email\\\"\\n                required\\n            />\\n            <button\\n                type=\\\"submit\\\"\\n                disabled={createUserMutation.isPending}\\n            >\\n                {createUserMutation.isPending ? '建立中...' : '建立用戶'}\\n            </button>\\n        </form>\\n    );\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"import\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"useCreateUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"from\"}),l(s.span,{style:{color:\"#98C379\"},children:\" '@/hooks/useCreateUser'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"export\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" default\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" CreateUserForm\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"() {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"setName\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"''\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"setEmail\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useState\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#98C379\"},children:\"''\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" createUserMutation\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useCreateUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    const\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" handleSubmit\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"e\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"React\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"FormEvent\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"        e\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"preventDefault\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"        createUserMutation\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"mutate\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    };\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        <\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"form\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" onSubmit\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"handleSubmit\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"input\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                value\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                onChange\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{(e) => \"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"setName\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(e.target.value)}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                placeholder\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#98C379\"},children:'\"姓名\"'})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"                required\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#56B6C2\"},children:\"            />\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"input\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                type\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#98C379\"},children:'\"email\"'})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                value\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"email\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                onChange\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{(e) => \"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"setEmail\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(e.target.value)}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                placeholder\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#98C379\"},children:'\"Email\"'})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"                required\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#56B6C2\"},children:\"            />\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"button\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                type\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#98C379\"},children:'\"submit\"'})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"                disabled\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"{createUserMutation.\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"isPending\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#56B6C2\"},children:\"            >\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#ABB2BF\"},children:\"                {\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"createUserMutation\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"isPending\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" ? \"}),l(s.span,{style:{color:\"#98C379\"},children:\"'建立中...'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" : \"}),l(s.span,{style:{color:\"#98C379\"},children:\"'建立用戶'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"            </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"button\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"form\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",l(s.h2,{children:\"staleTime vs gcTime：我一直搞混的概念\"}),\"\\n\",l(s.p,{children:\"這兩個參數我一開始總是搞不清楚：\"}),\"\\n\",l(s.h3,{children:\"staleTime（過期時間）\"}),\"\\n\",l(s.p,{children:\"資料被認為是「新鮮」的時間。在這段時間內，不會重新抓取資料。\"}),\"\\n\",l(s.h3,{children:\"gcTime（垃圾回收時間，以前叫 cacheTime）\"}),\"\\n\",l(s.p,{children:\"快取資料會保存多久。超過這個時間，資料會被從記憶體中清除。\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"useQuery({\\n    queryKey: ['users'],\\n    queryFn: fetchUsers,\\n    staleTime: 5 * 60 * 1000, // 5 分鐘內資料是新鮮的\\n    gcTime: 30 * 60 * 1000, // 30 分鐘後清除快取\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    staleTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"5\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 5 分鐘內資料是新鮮的\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    gcTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"30\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 30 分鐘後清除快取\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",l(s.p,{children:\"我的建議：\"}),\"\\n\",n(s.ul,{children:[\"\\n\",n(s.li,{children:[l(s.strong,{children:\"staleTime\"}),\"：根據資料更新頻率設定（使用者資料可能設 5 分鐘）\"]}),\"\\n\",n(s.li,{children:[l(s.strong,{children:\"gcTime\"}),\"：通常設定比 staleTime 長一點\"]}),\"\\n\"]}),\"\\n\",l(s.h2,{children:\"實戰技巧分享\"}),\"\\n\",l(s.h3,{children:\"1. 條件性查詢\"}),\"\\n\",l(s.p,{children:\"有時候你需要在某些條件滿足時才抓取資料：\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"function useUserProfile(userId?: number) {\\n    return useQuery({\\n        queryKey: ['user', userId],\\n        queryFn: () => fetchUser(userId!),\\n        enabled: !!userId, // 只有當 userId 存在時才執行\\n    });\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useUserProfile\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"userId\"}),l(s.span,{style:{color:\"#C678DD\"},children:\"?\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'user'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"userId\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"        queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetchUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"userId\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"!\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        enabled\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"!!\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"userId\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只有當 userId 存在時才執行\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(s.h3,{children:\"2. 分頁查詢\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"function useUsers(page: number = 1) {\\n    return useQuery({\\n        queryKey: ['users', page],\\n        queryFn: () => fetchUsers(page),\\n        keepPreviousData: true, // 切換頁面時保留前一頁資料\\n    });\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"function\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"page\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"number\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"    return\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"page\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"        queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"page\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"        keepPreviousData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"true\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 切換頁面時保留前一頁資料\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",l(s.h3,{children:\"3. 樂觀更新\"}),\"\\n\",l(s.p,{children:\"先更新 UI，API 失敗再回復：\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const updateUserMutation = useMutation({\\n    mutationFn: updateUser,\\n    onMutate: async (newUser) => {\\n        // 取消進行中的查詢\\n        await queryClient.cancelQueries({ queryKey: ['users'] });\\n\\n        // 先更新快取\\n        const previousUsers = queryClient.getQueryData(['users']);\\n        queryClient.setQueryData(['users'], (old: User[]) =>\\n            old.map((user) => (user.id === newUser.id ? newUser : user))\\n        );\\n\\n        return { previousUsers };\\n    },\\n    onError: (err, newUser, context) => {\\n        // 失敗時回復\\n        queryClient.setQueryData(['users'], context?.previousUsers);\\n    },\\n    onSettled: () => {\\n        // 不管成功失敗都重新抓取\\n        queryClient.invalidateQueries({ queryKey: ['users'] });\\n    },\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" updateUserMutation\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useMutation\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    mutationFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"updateUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"    onMutate\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"async\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"newUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 取消進行中的查詢\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        await\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"cancelQueries\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] });\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 先更新快取\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        const\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" previousUsers\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" =\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"getQueryData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"([\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"]);\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"        queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"setQueryData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"([\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"], (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"old\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"User\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"[]) \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"            old\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"map\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"id\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" newUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"id\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" ?\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" newUser\"}),l(s.span,{style:{color:\"#C678DD\"},children:\" :\"}),l(s.span,{style:{color:\"#E06C75\"},children:\" user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"))\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"        );\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"        return\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"previousUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" };\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"    onError\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"err\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"newUser\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"context\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 失敗時回復\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"        queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"setQueryData\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"([\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"], \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"context\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"?.\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"previousUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"    onSettled\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 不管成功失敗都重新抓取\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E5C07B\"},children:\"        queryClient\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"invalidateQueries\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"] });\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",l(s.h2,{children:\"我踩過的坑\"}),\"\\n\",l(s.h3,{children:\"1. queryKey 不一致\"}),\"\\n\",l(s.p,{children:\"我曾經在不同地方用不同的 queryKey，結果快取沒有共享。記住要保持一致！\"}),\"\\n\",l(s.h3,{children:\"2. 忘記處理錯誤\"}),\"\\n\",l(s.p,{children:\"一開始我都專注在成功的情況，忘了處理 API 錯誤，用戶體驗很差。\"}),\"\\n\",l(s.h3,{children:\"3. 過度使用 invalidateQueries\"}),\"\\n\",l(s.p,{children:\"每次更新都讓所有相關查詢失效，結果網路請求變很多。要精準一點。\"}),\"\\n\",l(s.h3,{children:\"4. 在 Next.js 中的 hydration 問題\"}),\"\\n\",l(s.p,{children:\"伺服器端和客戶端的資料不一致會出現 hydration 錯誤，要用 HydrationBoundary 包裝。\"}),\"\\n\",l(s.h2,{children:\"效能優化建議\"}),\"\\n\",l(s.h3,{children:\"1. 適當設定 staleTime\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 很少變動的資料\\nconst { data } = useQuery({\\n    queryKey: ['config'],\\n    queryFn: fetchConfig,\\n    staleTime: 30 * 60 * 1000, // 30 分鐘\\n});\\n\\n// 經常變動的資料\\nconst { data } = useQuery({\\n    queryKey: ['notifications'],\\n    queryFn: fetchNotifications,\\n    staleTime: 30 * 1000, // 30 秒\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 很少變動的資料\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'config'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchConfig\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    staleTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"30\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 60\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 30 分鐘\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})}),\"\\n\",l(s.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 經常變動的資料\"})}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'notifications'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchNotifications\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    staleTime\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#D19A66\"},children:\"30\"}),l(s.span,{style:{color:\"#56B6C2\"},children:\" *\"}),l(s.span,{style:{color:\"#D19A66\"},children:\" 1000\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\", \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 30 秒\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",l(s.h3,{children:\"2. 使用 select 減少重新渲染\"}),\"\\n\",l(s.figure,{\"data-rehype-pretty-code-figure\":\"\",children:l(s.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"const { data: userNames } = useQuery({\\n    queryKey: ['users'],\\n    queryFn: fetchUsers,\\n    select: (users) => users.map((user) => user.name), // 只關心名字\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:n(s.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#C678DD\"},children:\"const\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"data\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E5C07B\"},children:\"userNames\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),l(s.span,{style:{color:\"#56B6C2\"},children:\"=\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\" useQuery\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryKey\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),l(s.span,{style:{color:\"#98C379\"},children:\"'users'\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#E06C75\"},children:\"    queryFn\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": \"}),l(s.span,{style:{color:\"#E06C75\"},children:\"fetchUsers\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(s.span,{\"data-line\":\"\",children:[l(s.span,{style:{color:\"#61AFEF\"},children:\"    select\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"users\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" users\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#61AFEF\"},children:\"map\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),l(s.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\") \"}),l(s.span,{style:{color:\"#C678DD\"},children:\"=>\"}),l(s.span,{style:{color:\"#E5C07B\"},children:\" user\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\".\"}),l(s.span,{style:{color:\"#E06C75\"},children:\"name\"}),l(s.span,{style:{color:\"#ABB2BF\"},children:\"), \"}),l(s.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只關心名字\"})]}),\"\\n\",l(s.span,{\"data-line\":\"\",children:l(s.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",l(s.h3,{children:\"3. 分割大查詢\"}),\"\\n\",l(s.p,{children:\"不要一次抓太多資料，可以分成多個小查詢。\"}),\"\\n\",l(s.h2,{children:\"總結\"}),\"\\n\",l(s.p,{children:\"React Query 真的改變了我處理資料的方式。雖然一開始會覺得概念有點複雜，但一旦熟悉後就會發現它解決了很多痛點：\"}),\"\\n\",n(s.ul,{children:[\"\\n\",l(s.li,{children:\"不用再手動管理 loading 狀態\"}),\"\\n\",l(s.li,{children:\"自動的快取和背景更新\"}),\"\\n\",l(s.li,{children:\"統一的錯誤處理\"}),\"\\n\",l(s.li,{children:\"更好的用戶體驗\"}),\"\\n\"]}),\"\\n\",l(s.p,{children:\"特別推薦給那些厭倦了手動管理 API 狀態的開發者。一旦用了 React Query，真的很難回到以前的寫法！\"}),\"\\n\",l(s.p,{children:\"有任何問題歡迎討論，我也還在持續學習更多進階用法中！\"})]})}return{default:function(e={}){const{wrapper:n}=e.components||{};return n?l(n,{...e,children:l(_createMdxContent,{...e})}):_createMdxContent(e)}};"
  },
  {
    "title": "算法複雜度入門 - 讓初學者也能輕鬆理解",
    "date": "2025-03-06T00:00:00.000Z",
    "description": "大學上演算法課時，老師講什麼 O(n)、O(log n) 我都聽不懂，感覺超抽象。後來工作後才發現，其實就是在講「這個程式會跑多久」。用生活化的例子分享我的理解心得。",
    "category": "Code",
    "tags": [
      "Algorithm",
      "Big O Notation",
      "Time Complexity",
      "Programming",
      "Computer Science"
    ],
    "image": "/blog/posts/2025/03/algorithm-complexity.png",
    "slug": "algorithm-complexity-beginner-guide",
    "code": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return e(l,{children:[n(c.h2,{children:\"為什麼我一開始聽不懂複雜度？\"}),\"\\n\",n(c.p,{children:\"記得大學上演算法課的時候，教授在台上講什麼 O(n)、O(n²)、O(log n)，我整個人都是懵的。什麼叫做「時間複雜度」？為什麼要用這些奇怪的符號？\"}),\"\\n\",e(c.p,{children:[\"直到開始工作，寫程式遇到效能瓶頸時，我才恍然大悟：原來複雜度就是在回答一個很實際的問題 —— \",n(c.strong,{children:\"「當資料變多時，我的程式會跑多久？」\"})]}),\"\\n\",n(c.h2,{children:\"用生活例子理解複雜度\"}),\"\\n\",n(c.p,{children:\"我發現用生活中的例子來理解最容易懂：\"}),\"\\n\",n(c.h3,{children:\"O(1) - 常數時間：開冰箱拿飲料\"}),\"\\n\",n(c.p,{children:\"不管冰箱裡有 5 瓶飲料還是 50 瓶，你打開冰箱拿一瓶出來的時間都一樣。這就是 O(1)，執行時間不會隨著資料量變化。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 陣列取值就是 O(1)\\nfunction getFirst(arr) {\\n    return arr[0]; // 不管陣列多大，都是瞬間取到\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 陣列取值就是 O(1)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" getFirst\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]; \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 不管陣列多大，都是瞬間取到\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h3,{children:\"O(n) - 線性時間：點名\"}),\"\\n\",n(c.p,{children:\"老師點名，1 個學生點 1 次，10 個學生點 10 次，100 個學生點 100 次。時間跟人數成正比，這就是 O(n)。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 遍歷陣列找特定值\\nfunction findValue(arr, target) {\\n    for (let i = 0; i < arr.length; i++) {\\n        if (arr[i] === target) {\\n            return i;\\n        }\\n    }\\n    return -1;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 遍歷陣列找特定值\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" findValue\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"target\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"===\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" target\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h3,{children:\"O(n²) - 平方時間：每個人都要跟每個人握手\"}),\"\\n\",n(c.p,{children:\"班上 10 個人，每個人都要跟其他人握手一次，總共需要握 45 次手。如果是 20 個人，就要握 190 次。人數變兩倍，握手次數變四倍！\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 泡沫排序就是典型的 O(n²)\\nfunction bubbleSort(arr) {\\n    for (let i = 0; i < arr.length; i++) {\\n        // 外層迴圈\\n        for (let j = 0; j < arr.length - 1; j++) {\\n            // 內層迴圈\\n            if (arr[j] > arr[j + 1]) {\\n                // 交換位置\\n                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\\n            }\\n        }\\n    }\\n    return arr;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 泡沫排序就是典型的 O(n²)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" bubbleSort\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 外層迴圈\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"            // 內層迴圈\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]) {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"                // 交換位置\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"                [\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"], \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"], \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]];\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h3,{children:\"O(log n) - 對數時間：猜數字遊戲\"}),\"\\n\",n(c.p,{children:\"我心裡想一個 1 到 100 的數字，你來猜。每次我只會說「太大」或「太小」。聰明的做法是每次猜中間值：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",n(c.li,{children:\"第一次猜 50\"}),\"\\n\",n(c.li,{children:\"如果太大，下次猜 25\"}),\"\\n\",n(c.li,{children:\"如果太小，下次猜 75\"}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"這樣最多 7 次就能猜中（因為 2⁷ = 128 > 100）。資料變多時，所需次數增加得很慢。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 二分搜尋就是 O(log n)\\nfunction binarySearch(arr, target) {\\n    let left = 0;\\n    let right = arr.length - 1;\\n\\n    while (left <= right) {\\n        let mid = Math.floor((left + right) / 2);\\n\\n        if (arr[mid] === target) {\\n            return mid;\\n        } else if (arr[mid] < target) {\\n            left = mid + 1;\\n        } else {\\n            right = mid - 1;\\n        }\\n    }\\n\\n    return -1;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 二分搜尋就是 O(log n)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" binarySearch\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"target\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" left\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" right\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    while\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"left\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <=\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" right\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" mid\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" Math\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"floor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"left\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" right\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"/\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"mid\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"===\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" target\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" mid\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"else\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"mid\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"<\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" target\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            left\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" mid\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"else\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            right\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" mid\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h2,{children:\"實際工作中的應用\"}),\"\\n\",n(c.h3,{children:\"場景 1：用戶列表搜尋\"}),\"\\n\",n(c.p,{children:\"以前我寫用戶搜尋功能，一開始很單純：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 我一開始的寫法 - O(n)\\nfunction searchUsers(users, keyword) {\\n    return users.filter((user) => user.name.toLowerCase().includes(keyword.toLowerCase()));\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 我一開始的寫法 - O(n)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" searchUsers\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"users\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"keyword\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" users\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"filter\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"toLowerCase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"includes\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"keyword\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"toLowerCase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"()));\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.p,{children:\"用戶少的時候沒問題，但當用戶數量到 10 萬時，每次搜尋都要等好幾秒。後來改用索引和更好的搜尋算法才解決。\"}),\"\\n\",n(c.h3,{children:\"場景 2：重複資料檢查\"}),\"\\n\",n(c.p,{children:\"檢查陣列中有沒有重複值，我的第一版：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 效能很差的做法 - O(n²)\\nfunction hasDuplicates(arr) {\\n    for (let i = 0; i < arr.length; i++) {\\n        for (let j = i + 1; j < arr.length; j++) {\\n            if (arr[i] === arr[j]) {\\n                return true;\\n            }\\n        }\\n    }\\n    return false;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 效能很差的做法 - O(n²)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" hasDuplicates\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"===\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                return\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" true\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" false\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.p,{children:\"後來學會用 Set：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 改良版 - O(n)\\nfunction hasDuplicates(arr) {\\n    return new Set(arr).size !== arr.length;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 改良版 - O(n)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" hasDuplicates\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" new\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" Set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\").\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"size\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" !==\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.p,{children:\"效能提升超級明顯！\"}),\"\\n\",n(c.h2,{children:\"常見複雜度比較\"}),\"\\n\",n(c.p,{children:\"我用一個表格來總結不同複雜度的差異：\"}),\"\\n\",e(c.table,{children:[n(c.thead,{children:e(c.tr,{children:[n(c.th,{children:\"複雜度\"}),n(c.th,{children:\"10 筆資料\"}),n(c.th,{children:\"100 筆資料\"}),n(c.th,{children:\"1000 筆資料\"}),n(c.th,{children:\"實際例子\"})]})}),e(c.tbody,{children:[e(c.tr,{children:[n(c.td,{children:\"O(1)\"}),n(c.td,{children:\"1\"}),n(c.td,{children:\"1\"}),n(c.td,{children:\"1\"}),n(c.td,{children:\"陣列取值\"})]}),e(c.tr,{children:[n(c.td,{children:\"O(log n)\"}),n(c.td,{children:\"3\"}),n(c.td,{children:\"7\"}),n(c.td,{children:\"10\"}),n(c.td,{children:\"二分搜尋\"})]}),e(c.tr,{children:[n(c.td,{children:\"O(n)\"}),n(c.td,{children:\"10\"}),n(c.td,{children:\"100\"}),n(c.td,{children:\"1000\"}),n(c.td,{children:\"線性搜尋\"})]}),e(c.tr,{children:[n(c.td,{children:\"O(n log n)\"}),n(c.td,{children:\"33\"}),n(c.td,{children:\"664\"}),n(c.td,{children:\"9966\"}),n(c.td,{children:\"快速排序\"})]}),e(c.tr,{children:[n(c.td,{children:\"O(n²)\"}),n(c.td,{children:\"100\"}),n(c.td,{children:\"10000\"}),n(c.td,{children:\"1000000\"}),n(c.td,{children:\"泡沫排序\"})]})]})]}),\"\\n\",n(c.p,{children:\"看到差異了嗎？當資料量變大時，O(n²) 的執行次數會爆炸性增長！\"}),\"\\n\",n(c.h2,{children:\"空間複雜度也很重要\"}),\"\\n\",n(c.p,{children:\"除了時間複雜度，還有空間複雜度（記憶體用量）：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 空間複雜度 O(1) - 只用固定的變數\\nfunction sum(arr) {\\n    let total = 0;\\n    for (let num of arr) {\\n        total += num;\\n    }\\n    return total;\\n}\\n\\n// 空間複雜度 O(n) - 建立新陣列\\nfunction doubleArray(arr) {\\n    return arr.map((x) => x * 2); // 建立一個同樣大小的新陣列\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 空間複雜度 O(1) - 只用固定的變數\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" sum\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" total\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" num\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" of\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"        total\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +=\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" num\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" total\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 空間複雜度 O(n) - 建立新陣列\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" doubleArray\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"map\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" x\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" *\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"); \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 建立一個同樣大小的新陣列\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.p,{children:\"以前我常常為了讓程式跑快一點，就建立很多暫存陣列，結果記憶體爆掉了。後來才學會要在時間和空間之間取平衡。\"}),\"\\n\",n(c.h2,{children:\"實戰優化經驗\"}),\"\\n\",n(c.h3,{children:\"1. 避免巢狀迴圈\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 不好的做法 - O(n²)\\nfunction findCommon(arr1, arr2) {\\n    const result = [];\\n    for (let i = 0; i < arr1.length; i++) {\\n        for (let j = 0; j < arr2.length; j++) {\\n            if (arr1[i] === arr2[j]) {\\n                result.push(arr1[i]);\\n            }\\n        }\\n    }\\n    return result;\\n}\\n\\n// 改良版 - O(n + m)\\nfunction findCommon(arr1, arr2) {\\n    const set2 = new Set(arr2);\\n    return arr1.filter(item => set2.has(item));\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 不好的做法 - O(n²)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" findCommon\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" result\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" [];\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"] \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"===\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"j\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"                result\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"push\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"]);\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" result\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 改良版 - O(n + m)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" findCommon\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" set2\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" new\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" Set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"arr2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"filter\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"item\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" =>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" set2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"has\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"));\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h3,{children:\"2. 善用內建方法\"}),\"\\n\",n(c.p,{children:\"很多內建方法都已經優化過了：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 自己寫的排序 - 很可能是 O(n²)\\nfunction mySort(arr) {\\n    // 泡沫排序或插入排序\\n}\\n\\n// 使用內建排序 - O(n log n)\\narr.sort((a, b) => a - b);\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 自己寫的排序 - 很可能是 O(n²)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" mySort\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 泡沫排序或插入排序\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 使用內建排序 - O(n log n)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"sort\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"a\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"b\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" a\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" b\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})}),\"\\n\",n(c.h3,{children:\"3. 提前終止\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 找到第一個符合條件就停止\\nfunction findFirst(arr, condition) {\\n    for (let item of arr) {\\n        if (condition(item)) {\\n            return item; // 找到就立刻回傳，不用繼續找\\n        }\\n    }\\n    return null;\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 找到第一個符合條件就停止\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" findFirst\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"condition\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" item\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" of\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"condition\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\")) {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"            return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 找到就立刻回傳，不用繼續找\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" null\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h2,{children:\"常見的陷阱\"}),\"\\n\",n(c.h3,{children:\"1. 字串拼接\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 這個看起來很單純，但其實是 O(n²)\\nfunction joinStrings(arr) {\\n    let result = '';\\n    for (let str of arr) {\\n        result += str; // 每次拼接都要重新建立字串\\n    }\\n    return result;\\n}\\n\\n// 改用 join() - O(n)\\nfunction joinStrings(arr) {\\n    return arr.join('');\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這個看起來很單純，但其實是 O(n²)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" joinStrings\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" result\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#98C379\"},children:\" ''\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" str\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" of\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"        result\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +=\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" str\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 每次拼接都要重新建立字串\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" result\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 改用 join() - O(n)\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"function\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" joinStrings\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"join\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"''\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h3,{children:\"2. 在迴圈中呼叫昂貴的操作\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 不好的做法\\nfor (let i = 0; i < arr.length; i++) {\\n    // 每次迴圈都重新計算 length\\n    // 如果 arr.length 是動態計算的，就很浪費\\n}\\n\\n// 改良版\\nconst len = arr.length; // 先算好\\nfor (let i = 0; i < len; i++) {\\n    // ...\\n}\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 不好的做法\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 每次迴圈都重新計算 length\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 如果 arr.length 是動態計算的，就很浪費\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 改良版\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" len\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" arr\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"length\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 先算好\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"for\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"let\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" len\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"i\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // ...\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})}),\"\\n\",n(c.h2,{children:\"什麼時候需要關心複雜度？\"}),\"\\n\",n(c.h3,{children:\"資料量小的時候（< 1000 筆）\"}),\"\\n\",n(c.p,{children:\"老實說，O(n) 和 O(n²) 可能感覺不出差別。這時候程式碼的可讀性比效能更重要。\"}),\"\\n\",n(c.h3,{children:\"資料量大的時候（> 10000 筆）\"}),\"\\n\",n(c.p,{children:\"這時候複雜度的差異就很明顯了。一個 O(n²) 的算法可能會讓用戶等到懷疑人生。\"}),\"\\n\",n(c.h3,{children:\"即時系統\"}),\"\\n\",n(c.p,{children:\"如果是遊戲或即時聊天，即使資料不多，也要考慮每個操作的延遲。\"}),\"\\n\",n(c.h2,{children:\"我的學習建議\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[n(c.strong,{children:\"先理解概念，再背公式\"}),\"：知道為什麼比知道是什麼更重要\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"從實際例子出發\"}),\"：遇到效能問題時，分析看看是不是複雜度的問題\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"善用工具\"}),\"：瀏覽器的開發者工具可以幫你找出效能瓶頸\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"不要過早優化\"}),\"：先讓程式跑起來，有問題再優化\"]}),\"\\n\"]}),\"\\n\",n(c.h2,{children:\"總結\"}),\"\\n\",n(c.p,{children:\"算法複雜度其實不是什麼高深的理論，就是「預測程式執行時間」的工具。重點是：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[n(c.strong,{children:\"O(1)\"}),\"：不管資料多少，時間固定\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"O(log n)\"}),\"：資料變多，時間增加得很慢\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"O(n)\"}),\"：時間跟資料量成正比\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"O(n²)\"}),\"：資料變兩倍，時間變四倍\"]}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"在實際工作中，大部分時間我們追求的是 O(1) 或 O(log n) 的查詢，O(n) 的遍歷，以及 O(n log n) 的排序。避開 O(n²) 就能解決大部分效能問題。\"}),\"\\n\",n(c.p,{children:\"記住：好的算法不是為了炫技，而是為了讓用戶有更好的體驗！\"}),\"\\n\",n(c.p,{children:\"有任何問題歡迎討論，一起進步！\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};"
  },
  {
    "title": "Docker 實用指南：前端開發者的容器化入門",
    "date": "2025-03-27T00:00:00.000Z",
    "description": "剛開始聽到 Docker 覺得是後端的東西，跟前端沒關係。直到我的 Node.js 專案在不同電腦上跑不起來，才體會到容器化的重要性。這篇分享我從零開始學 Docker 的經驗。",
    "category": "Code",
    "tags": [
      "Docker",
      "Next.js",
      "DevOps",
      "Container",
      "CI/CD"
    ],
    "image": "/blog/posts/2025/03/docker.png",
    "slug": "docker-practical-guide-frontend-developers",
    "code": "const{Fragment:n,jsx:e,jsxs:l}=arguments[0];function _createMdxContent(a){const r={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return l(n,{children:[e(r.h2,{children:\"為什麼前端工程師也需要學 Docker？\"}),\"\\n\",e(r.p,{children:\"說實話，剛開始聽到 Docker 我覺得這是後端的東西，跟我一個前端有什麼關係？直到我遇到了這些問題：\"}),\"\\n\",l(r.ol,{children:[\"\\n\",e(r.li,{children:e(r.strong,{children:\"在我的電腦可以跑，但在同事的電腦就掛掉\"})}),\"\\n\",e(r.li,{children:e(r.strong,{children:\"部署到伺服器時環境不一樣，各種奇怪錯誤\"})}),\"\\n\",e(r.li,{children:e(r.strong,{children:\"Node.js 版本不同，npm 套件衝突\"})}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"後來被迫學了 Docker，才發現原來這就是傳說中的「在我電腦上正常運作」的終極解決方案。\"}),\"\\n\",e(r.h2,{children:\"Docker 到底是什麼？\"}),\"\\n\",e(r.p,{children:\"最簡單的理解：Docker 就像是一個「標準化的便當盒」。\"}),\"\\n\",e(r.p,{children:\"你把你的應用程式、環境設定、依賴套件全部打包在這個「便當盒」裡，然後不管在哪台電腦上，打開便當盒都是一樣的內容，一樣的味道。\"}),\"\\n\",e(r.p,{children:e(r.strong,{children:\"為什麼這麼厲害？\"})}),\"\\n\",l(r.ul,{children:[\"\\n\",l(r.li,{children:[e(r.strong,{children:\"一致性\"}),\"：開發、測試、生產環境完全一樣\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"隔離性\"}),\"：不會被其他應用程式影響\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"可移植性\"}),\"：到哪都能跑\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"輕量級\"}),\"：比虛擬機器快很多\"]}),\"\\n\"]}),\"\\n\",e(r.h2,{children:\"安裝 Docker\"}),\"\\n\",e(r.h3,{children:\"Windows/macOS\"}),\"\\n\",e(r.p,{children:\"直接下載 Docker Desktop，一鍵安裝：\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:e(r.a,{href:\"https://www.docker.com/products/docker-desktop\",children:\"Docker Desktop for Windows\"})}),\"\\n\",e(r.li,{children:e(r.a,{href:\"https://www.docker.com/products/docker-desktop\",children:\"Docker Desktop for Mac\"})}),\"\\n\"]}),\"\\n\",l(r.p,{children:[\"安裝完後，命令列輸入 \",e(r.code,{children:\"docker --version\"}),\" 確認安裝成功。\"]}),\"\\n\",e(r.h3,{children:\"Linux (Ubuntu)\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 這個步驟比較複雜，但照著做就對了\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\\nsudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\"\\nsudo apt update\\nsudo apt install docker-ce',\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 這個步驟比較複雜，但照著做就對了\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"curl\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -fsSL\"}),e(r.span,{style:{color:\"#98C379\"},children:\" https://download.docker.com/linux/ubuntu/gpg\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),e(r.span,{style:{color:\"#61AFEF\"},children:\"sudo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" apt-key\"}),e(r.span,{style:{color:\"#98C379\"},children:\" add\"}),e(r.span,{style:{color:\"#98C379\"},children:\" -\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"sudo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" add-apt-repository\"}),e(r.span,{style:{color:\"#98C379\"},children:' \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $('}),e(r.span,{style:{color:\"#61AFEF\"},children:\"lsb_release\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -cs\"}),e(r.span,{style:{color:\"#98C379\"},children:') stable\"'})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"sudo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" apt\"}),e(r.span,{style:{color:\"#98C379\"},children:\" update\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"sudo\"}),e(r.span,{style:{color:\"#98C379\"},children:\" apt\"}),e(r.span,{style:{color:\"#98C379\"},children:\" install\"}),e(r.span,{style:{color:\"#98C379\"},children:\" docker-ce\"})]})]})})}),\"\\n\",e(r.h2,{children:\"核心概念 - 用比喻來理解\"}),\"\\n\",e(r.h3,{children:\"1. Image（映像檔）= 食譜\"}),\"\\n\",e(r.p,{children:\"就像食譜告訴你怎麼做菜，Image 告訴 Docker 怎麼建立你的應用程式環境。\"}),\"\\n\",e(r.h3,{children:\"2. Container（容器）= 做好的菜\"}),\"\\n\",e(r.p,{children:\"按照食譜做出來的菜就是 Container，一個正在運行的應用程式實例。\"}),\"\\n\",e(r.h3,{children:\"3. Dockerfile = 詳細的食譜步驟\"}),\"\\n\",e(r.p,{children:\"一步一步寫明怎麼準備環境、安裝依賴、啟動應用程式。\"}),\"\\n\",e(r.h2,{children:\"幫 Next.js 專案做 Dockerfile\"}),\"\\n\",e(r.p,{children:\"我最常用的 Next.js Dockerfile，簡單又實用：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 選個輕量的 Node.js 環境\\nFROM node:18-alpine\\n\\n# 設定工作目錄\\nWORKDIR /app\\n\\n# 先複製 package.json，這樣可以利用快取\\nCOPY package*.json ./\\nRUN npm install\\n\\n# 再複製其他檔案\\nCOPY . .\\n\\n# 建置專案\\nRUN npm run build\\n\\n# 開放 3000 埠\\nEXPOSE 3000\\n\\n# 啟動指令\\nCMD [\"npm\", \"start\"]',\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 選個輕量的 Node.js 環境\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"FROM\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" node:18-alpine\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 設定工作目錄\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"WORKDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" /app\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 先複製 package.json，這樣可以利用快取\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" package*.json ./\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm install\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 再複製其他檔案\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" . .\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建置專案\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm run build\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 開放 3000 埠\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"EXPOSE\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" 3000\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 啟動指令\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"CMD\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),e(r.span,{style:{color:\"#98C379\"},children:'\"npm\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(r.span,{style:{color:\"#98C379\"},children:'\"start\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\"]\"})]})]})})}),\"\\n\",e(r.h3,{children:\"為什麼這樣寫？\"}),\"\\n\",l(r.ol,{children:[\"\\n\",l(r.li,{children:[e(r.strong,{children:\"先複製 package.json\"}),\"：利用 Docker 快取機制，依賴沒變就不用重新安裝\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"使用 alpine 版本\"}),\"：體積小，啟動快\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"multi-stage build\"}),\"：可以讓最終的 image 更小（進階技巧）\"]}),\"\\n\"]}),\"\\n\",e(r.h2,{children:\"建立和執行容器\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 建立 image\\ndocker build -t my-nextjs-app .\\n\\n# 執行容器\\ndocker run -p 3000:3000 my-nextjs-app\\n\\n# 在背景執行\\ndocker run -d -p 3000:3000 my-nextjs-app\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建立 image\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" build\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -t\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"}),e(r.span,{style:{color:\"#98C379\"},children:\" .\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 執行容器\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -p\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 3000:3000\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 在背景執行\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -d\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -p\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 3000:3000\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"})]})]})})}),\"\\n\",e(r.h2,{children:\"Docker Compose - 管理多個服務\"}),\"\\n\",e(r.p,{children:\"單純一個前端應用可能不夠，通常還需要資料庫。這時候 Docker Compose 就派上用場了：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# docker-compose.yml\\nversion: '3.8'\\n\\nservices:\\n    app:\\n        build: .\\n        ports:\\n            - '3000:3000'\\n        environment:\\n            - DATABASE_URL=mongodb://db:27017/myapp\\n        depends_on:\\n            - db\\n\\n    db:\\n        image: mongo:latest\\n        ports:\\n            - '27017:27017'\\n        volumes:\\n            - mongodb_data:/data/db\\n\\nvolumes:\\n    mongodb_data:\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# docker-compose.yml\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"version\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'3.8'\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"services\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        build\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\".\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        ports\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'3000:3000'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        environment\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"DATABASE_URL=mongodb://db:27017/myapp\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        depends_on\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"db\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    db\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        image\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#98C379\"},children:\"mongo:latest\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        ports\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"'27017:27017'\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        volumes\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\"mongodb_data:/data/db\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"volumes\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    mongodb_data\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]})]})})}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 一鍵啟動所有服務\\ndocker-compose up\\n\\n# 在背景執行\\ndocker-compose up -d\\n\\n# 停止所有服務\\ndocker-compose down\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 一鍵啟動所有服務\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker-compose\"}),e(r.span,{style:{color:\"#98C379\"},children:\" up\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 在背景執行\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker-compose\"}),e(r.span,{style:{color:\"#98C379\"},children:\" up\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -d\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 停止所有服務\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker-compose\"}),e(r.span,{style:{color:\"#98C379\"},children:\" down\"})]})]})})}),\"\\n\",e(r.h2,{children:\"實用技巧分享\"}),\"\\n\",e(r.h3,{children:\"1. 使用 .dockerignore\"}),\"\\n\",e(r.p,{children:\"就像 .gitignore 一樣，避免把不需要的檔案放進 image：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"node_modules\\n.next\\n.git\\n.env\\nREADME.md\",\"data-language\":\"text\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"text\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{children:\"node_modules\"})}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{children:\".next\"})}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{children:\".git\"})}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{children:\".env\"})}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{children:\"README.md\"})})]})})}),\"\\n\",e(r.h3,{children:\"2. 多階段建置（減少 image 大小）\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'# 建置階段\\nFROM node:18-alpine AS builder\\nWORKDIR /app\\nCOPY package*.json ./\\nRUN npm install\\nCOPY . .\\nRUN npm run build\\n\\n# 執行階段\\nFROM node:18-alpine AS runner\\nWORKDIR /app\\nCOPY --from=builder /app/.next ./.next\\nCOPY --from=builder /app/public ./public\\nCOPY --from=builder /app/package.json ./\\nRUN npm install --production\\nEXPOSE 3000\\nCMD [\"npm\", \"start\"]',\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 建置階段\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"FROM\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" node:18-alpine \"}),e(r.span,{style:{color:\"#61AFEF\"},children:\"AS\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" builder\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"WORKDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" /app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" package*.json ./\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm install\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" . .\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm run build\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 執行階段\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"FROM\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" node:18-alpine \"}),e(r.span,{style:{color:\"#61AFEF\"},children:\"AS\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" runner\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"WORKDIR\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" /app\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder /app/.next ./.next\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder /app/public ./public\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"COPY\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" --from=builder /app/package.json ./\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" npm install --production\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"EXPOSE\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" 3000\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"CMD\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),e(r.span,{style:{color:\"#98C379\"},children:'\"npm\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(r.span,{style:{color:\"#98C379\"},children:'\"start\"'}),e(r.span,{style:{color:\"#ABB2BF\"},children:\"]\"})]})]})})}),\"\\n\",e(r.h3,{children:\"3. 環境變數管理\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# .env\\nNODE_ENV=production\\nAPI_URL=https://api.myapp.com\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# .env\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"NODE_ENV\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\"=\"}),e(r.span,{style:{color:\"#98C379\"},children:\"production\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"API_URL\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\"=\"}),e(r.span,{style:{color:\"#98C379\"},children:\"https://api.myapp.com\"})]})]})})}),\"\\n\",e(r.p,{children:\"在 docker-compose.yml 中使用：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"services:\\n    app:\\n        build: .\\n        env_file:\\n            - .env\",\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"yaml\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"services\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"    app\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        build\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(r.span,{style:{color:\"#D19A66\"},children:\".\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#E06C75\"},children:\"        env_file\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\":\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#ABB2BF\"},children:\"            - \"}),e(r.span,{style:{color:\"#98C379\"},children:\".env\"})]})]})})}),\"\\n\",e(r.h2,{children:\"我踩過的坑\"}),\"\\n\",e(r.h3,{children:\"1. Image 太大\"}),\"\\n\",e(r.p,{children:\"一開始我的 Next.js image 有 1GB+，後來用了 alpine 版本和多階段建置，降到 200MB。\"}),\"\\n\",e(r.h3,{children:\"2. 檔案權限問題\"}),\"\\n\",e(r.p,{children:\"在 Linux 上可能會遇到權限問題，解決方法：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"RUN addgroup -g 1001 -S nodejs\\nRUN adduser -S nextjs -u 1001\\nUSER nextjs\",\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"dockerfile\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" addgroup -g 1001 -S nodejs\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"RUN\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" adduser -S nextjs -u 1001\"})]}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"USER\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" nextjs\"})]})]})})}),\"\\n\",e(r.h3,{children:\"3. 熱重載不工作\"}),\"\\n\",e(r.p,{children:\"開發環境時，記得掛載目錄：\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"docker run -v $(pwd):/app -p 3000:3000 my-nextjs-app\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -v\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\" $(\"}),e(r.span,{style:{color:\"#56B6C2\"},children:\"pwd\"}),e(r.span,{style:{color:\"#ABB2BF\"},children:\")\"}),e(r.span,{style:{color:\"#98C379\"},children:\":/app\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -p\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 3000:3000\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"})]})})})}),\"\\n\",e(r.h2,{children:\"部署到生產環境\"}),\"\\n\",e(r.h3,{children:\"推送到 Docker Hub\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 登入\\ndocker login\\n\\n# 標記 image\\ndocker tag my-nextjs-app username/my-nextjs-app:latest\\n\\n# 推送\\ndocker push username/my-nextjs-app:latest\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 登入\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" login\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 標記 image\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" tag\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-nextjs-app\"}),e(r.span,{style:{color:\"#98C379\"},children:\" username/my-nextjs-app:latest\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 推送\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" push\"}),e(r.span,{style:{color:\"#98C379\"},children:\" username/my-nextjs-app:latest\"})]})]})})}),\"\\n\",e(r.h3,{children:\"在伺服器上執行\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 拉取最新版本\\ndocker pull username/my-nextjs-app:latest\\n\\n# 執行\\ndocker run -d -p 3000:3000 --name my-app username/my-nextjs-app:latest\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 拉取最新版本\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" pull\"}),e(r.span,{style:{color:\"#98C379\"},children:\" username/my-nextjs-app:latest\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 執行\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" run\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -d\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -p\"}),e(r.span,{style:{color:\"#98C379\"},children:\" 3000:3000\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" --name\"}),e(r.span,{style:{color:\"#98C379\"},children:\" my-app\"}),e(r.span,{style:{color:\"#98C379\"},children:\" username/my-nextjs-app:latest\"})]})]})})}),\"\\n\",e(r.h2,{children:\"常用 Docker 指令\"}),\"\\n\",e(r.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(r.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 查看執行中的容器\\ndocker ps\\n\\n# 查看所有容器\\ndocker ps -a\\n\\n# 查看 images\\ndocker images\\n\\n# 刪除容器\\ndocker rm container_id\\n\\n# 刪除 image\\ndocker rmi image_id\\n\\n# 查看容器日誌\\ndocker logs container_id\\n\\n# 進入容器內部\\ndocker exec -it container_id sh\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(r.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看執行中的容器\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" ps\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看所有容器\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" ps\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -a\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看 images\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" images\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 刪除容器\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" rm\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container_id\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 刪除 image\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" rmi\"}),e(r.span,{style:{color:\"#98C379\"},children:\" image_id\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 查看容器日誌\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" logs\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container_id\"})]}),\"\\n\",e(r.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(r.span,{\"data-line\":\"\",children:e(r.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 進入容器內部\"})}),\"\\n\",l(r.span,{\"data-line\":\"\",children:[e(r.span,{style:{color:\"#61AFEF\"},children:\"docker\"}),e(r.span,{style:{color:\"#98C379\"},children:\" exec\"}),e(r.span,{style:{color:\"#D19A66\"},children:\" -it\"}),e(r.span,{style:{color:\"#98C379\"},children:\" container_id\"}),e(r.span,{style:{color:\"#98C379\"},children:\" sh\"})]})]})})}),\"\\n\",e(r.h2,{children:\"最佳實踐建議\"}),\"\\n\",e(r.h3,{children:\"1. Image 優化\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"使用輕量的基礎 image（alpine）\"}),\"\\n\",e(r.li,{children:\"利用多階段建置\"}),\"\\n\",e(r.li,{children:\"合併 RUN 指令減少層數\"}),\"\\n\"]}),\"\\n\",e(r.h3,{children:\"2. 安全性\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"不要在 image 中包含敏感資訊\"}),\"\\n\",e(r.li,{children:\"使用非 root 用戶執行應用程式\"}),\"\\n\",e(r.li,{children:\"定期更新基礎 image\"}),\"\\n\"]}),\"\\n\",e(r.h3,{children:\"3. 開發效率\"}),\"\\n\",l(r.ul,{children:[\"\\n\",e(r.li,{children:\"使用 docker-compose 管理多服務\"}),\"\\n\",e(r.li,{children:\"善用 .dockerignore\"}),\"\\n\",e(r.li,{children:\"利用快取機制加速建置\"}),\"\\n\"]}),\"\\n\",e(r.h2,{children:\"我的建議\"}),\"\\n\",l(r.ol,{children:[\"\\n\",l(r.li,{children:[e(r.strong,{children:\"從簡單開始\"}),\"：先把現有專案容器化，不要一開始就想搞微服務\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"多實驗\"}),\"：Docker 最好的學習方式就是動手做\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"關注 image 大小\"}),\"：太大的 image 部署會很慢\"]}),\"\\n\",l(r.li,{children:[e(r.strong,{children:\"寫好文檔\"}),\"：記錄常用指令和設定，方便團隊使用\"]}),\"\\n\"]}),\"\\n\",e(r.p,{children:\"Docker 對前端工程師來說真的很實用，特別是在部署和團隊協作上。雖然一開始覺得複雜，但掌握基本用法後就能大大提升開發效率。\"}),\"\\n\",e(r.p,{children:\"有任何問題都歡迎討論！\"})]})}return{default:function(n={}){const{wrapper:l}=n.components||{};return l?e(l,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "Git Commit Message 規範",
    "date": "2024-11-22T00:00:00.000Z",
    "description": "剛開始寫程式的時候，我的 commit 訊息都很隨便，直到被同事念了幾次才知道原來有規範。這篇整理了我學到的 Git Commit Message 寫法，分享給跟我一樣剛入門的朋友。",
    "category": "Code",
    "tags": [
      "Git"
    ],
    "image": "/blog/posts/2024/11/git-commit-message.png",
    "slug": "git-commit-message",
    "code": "const{Fragment:e,jsx:n,jsxs:r}=arguments[0];function _createMdxContent(d){const l={code:\"code\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...d.components};return r(e,{children:[n(l.p,{children:'說實話，剛開始寫程式的時候，我的 commit 訊息都很隨便，什麼 \"fix bug\"、\"update\"、\"test\" 這種毫無意義的訊息滿天飛。直到被資深同事念了幾次，我才知道原來寫 commit 訊息也有學問。'}),\"\\n\",n(l.p,{children:\"經過幾個月的實際使用，我整理了這套規範，現在團隊合作時大家都能清楚知道每次 commit 到底改了什麼。\"}),\"\\n\",n(l.h2,{children:\"基本格式\"}),\"\\n\",n(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(l.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"<type>(<scope>): <subject>\\n\\n<body>\\n\\n<footer>\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:r(l.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[r(l.span,{\"data-line\":\"\",children:[n(l.span,{style:{color:\"#ABB2BF\"},children:\"<type\"}),n(l.span,{style:{color:\"#98C379\"},children:\">(\"}),n(l.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(l.span,{style:{color:\"#98C379\"},children:\"scope\"}),n(l.span,{style:{color:\"#ABB2BF\"},children:\">\"}),n(l.span,{style:{color:\"#98C379\"},children:\")\"}),n(l.span,{style:{color:\"#ABB2BF\"},children:\": <subject>\"})]}),\"\\n\",n(l.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(l.span,{\"data-line\":\"\",children:n(l.span,{style:{color:\"#ABB2BF\"},children:\"<body>\"})}),\"\\n\",n(l.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(l.span,{\"data-line\":\"\",children:n(l.span,{style:{color:\"#ABB2BF\"},children:\"<footer>\"})})]})})}),\"\\n\",n(l.h2,{children:\"為什麼要這樣寫？\"}),\"\\n\",n(l.p,{children:\"以前我都覺得這樣寫很麻煩，直到有一次要找三個月前的某個功能修改，翻了半天 commit 歷史都不知道是哪一個。那時候我就體會到好的 commit 訊息有多重要了。\"}),\"\\n\",n(l.p,{children:\"Commit message 其實就三個部分：\"}),\"\\n\",r(l.ol,{children:[\"\\n\",r(l.li,{children:[n(l.strong,{children:\"標題（header）\"}),\" - 快速說明這次改了什麼\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"正文（body）\"}),\" - 詳細解釋為什麼要改\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"尾注（footer）\"}),\" - 關閉相關的 issue\"]}),\"\\n\"]}),\"\\n\",n(l.h2,{children:\"標題怎麼寫\"}),\"\\n\",n(l.p,{children:\"標題包含三個部分，其中前兩個最重要：\"}),\"\\n\",r(l.ul,{children:[\"\\n\",r(l.li,{children:[n(l.strong,{children:\"類型\"}),\"（type）- 必填，告訴別人這是什麼類型的修改\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"範圍\"}),\"（scope）- 可選，修改的範圍\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"主題\"}),\"（subject）- 必填，簡單說明做了什麼\"]}),\"\\n\"]}),\"\\n\",n(l.h2,{children:\"Type 類型對照表\"}),\"\\n\",n(l.p,{children:\"這個表格是我常用的分類，基本上涵蓋了日常開發的所有情況：\"}),\"\\n\",r(l.table,{children:[n(l.thead,{children:r(l.tr,{children:[n(l.th,{children:\"類型\"}),n(l.th,{children:\"說明\"})]})}),r(l.tbody,{children:[r(l.tr,{children:[n(l.td,{children:\"feat\"}),n(l.td,{children:\"新功能（這個最常用）\"})]}),r(l.tr,{children:[n(l.td,{children:\"fix\"}),n(l.td,{children:\"修復 bug\"})]}),r(l.tr,{children:[n(l.td,{children:\"docs\"}),n(l.td,{children:\"只改文件，沒動程式碼\"})]}),r(l.tr,{children:[n(l.td,{children:\"style\"}),n(l.td,{children:\"改格式、縮排這些不影響功能的\"})]}),r(l.tr,{children:[n(l.td,{children:\"refactor\"}),n(l.td,{children:\"重構代碼，沒加新功能也沒修 bug\"})]}),r(l.tr,{children:[n(l.td,{children:\"test\"}),n(l.td,{children:\"加測試或改測試\"})]}),r(l.tr,{children:[n(l.td,{children:\"chore\"}),n(l.td,{children:\"改建構流程、更新套件這些雜事\"})]}),r(l.tr,{children:[n(l.td,{children:\"perf\"}),n(l.td,{children:\"性能優化\"})]}),r(l.tr,{children:[n(l.td,{children:\"build\"}),n(l.td,{children:\"改建構系統或外部依賴\"})]}),r(l.tr,{children:[n(l.td,{children:\"ci\"}),n(l.td,{children:\"改 CI/CD 設定\"})]}),r(l.tr,{children:[n(l.td,{children:\"revert\"}),n(l.td,{children:\"取消之前的 commit\"})]}),r(l.tr,{children:[n(l.td,{children:\"merge\"}),n(l.td,{children:\"合併分支\"})]})]})]}),\"\\n\",n(l.h2,{children:\"實際範例\"}),\"\\n\",n(l.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(l.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"feat(search): add fuzzy search to the search bar\\n\\n用戶反映搜尋功能不夠聰明，常常找不到想要的結果。\\n這次加入模糊搜尋，即使打錯字也能找到相關內容。\\n\\nCloses #1234\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:r(l.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[r(l.span,{\"data-line\":\"\",children:[n(l.span,{style:{color:\"#61AFEF\"},children:\"feat(search\"}),n(l.span,{style:{color:\"#ABB2BF\"},children:\"): add fuzzy search to the search bar\"})]}),\"\\n\",n(l.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(l.span,{\"data-line\":\"\",children:n(l.span,{style:{color:\"#61AFEF\"},children:\"用戶反映搜尋功能不夠聰明，常常找不到想要的結果。\"})}),\"\\n\",n(l.span,{\"data-line\":\"\",children:n(l.span,{style:{color:\"#61AFEF\"},children:\"這次加入模糊搜尋，即使打錯字也能找到相關內容。\"})}),\"\\n\",n(l.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",r(l.span,{\"data-line\":\"\",children:[n(l.span,{style:{color:\"#61AFEF\"},children:\"Closes\"}),n(l.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" #1234\"})]})]})})}),\"\\n\",n(l.h2,{children:\"我的實戰經驗\"}),\"\\n\",n(l.h3,{children:\"標題寫法\"}),\"\\n\",r(l.ul,{children:[\"\\n\",r(l.li,{children:[n(l.strong,{children:\"type\"}),\": 一定要準確，別偷懶都寫 feat\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"scope\"}),\": 不確定就不寫，總比寫錯好\"]}),\"\\n\",r(l.li,{children:[n(l.strong,{children:\"subject\"}),': 用動詞開頭，像是 \"add\"、\"fix\"、\"update\"，不要超過 50 個字']}),\"\\n\"]}),\"\\n\",n(l.h3,{children:\"正文什麼時候寫\"}),\"\\n\",n(l.p,{children:\"一開始我都不寫正文，但後來發現有些改動真的需要解釋。特別是那些「為什麼要這樣改」的原因，未來的自己會感謝現在多寫的這幾行字。\"}),\"\\n\",n(l.h3,{children:\"尾注的用途\"}),\"\\n\",r(l.p,{children:[\"主要是關聯 issue，像是 \",n(l.code,{children:\"Closes #123\"}),\" 或 \",n(l.code,{children:\"Fixes #456\"}),\"。這樣 GitHub 會自動關閉對應的 issue，很方便。\"]}),\"\\n\",n(l.h2,{children:\"常見的坑\"}),\"\\n\",n(l.h3,{children:\"標題太模糊\"}),\"\\n\",r(l.p,{children:[\"❌ 壞例子：\",n(l.code,{children:\"fix stuff\"}),\"、\",n(l.code,{children:\"update code\"}),\"\\r\\n✅ 好例子：\",n(l.code,{children:\"fix: resolve memory leak in user cache\"})]}),\"\\n\",n(l.h3,{children:\"忘記寫正文\"}),\"\\n\",n(l.p,{children:\"如果這次修改很重要或是邏輯比較複雜，一定要在正文說明。別讓未來的自己（或同事）猜謎。\"}),\"\\n\",n(l.h3,{children:\"格式不一致\"}),\"\\n\",n(l.p,{children:\"我們團隊曾經因為每個人都有自己的寫法，結果 commit 歷史看起來亂七八糟。統一格式真的很重要。\"}),\"\\n\",n(l.h2,{children:\"實用工具推薦\"}),\"\\n\",n(l.p,{children:\"我現在都用 VS Code 的 Git 介面寫 commit，有些團隊會用 Commitizen 這類工具來強制格式。如果你們團隊還沒有統一的工具，建議可以試試看。\"}),\"\\n\",n(l.p,{children:\"寫好的 commit 訊息不只是為了別人，更是為了未來的自己。相信我，三個月後回來看，你會感謝現在多花的這點時間。\"})]})}return{default:function(e={}){const{wrapper:r}=e.components||{};return r?n(r,{...e,children:n(_createMdxContent,{...e})}):_createMdxContent(e)}};"
  },
  {
    "title": "GSAP 參考指南",
    "date": "2024-11-22T00:00:00.000Z",
    "description": "做網頁動畫一直是我覺得最有成就感的事，CSS 動畫有限制，原生 JS 又太複雜。直到遇到 GSAP，才發現原來做動畫可以這麼簡單又強大。分享一下我這幾個月來的使用心得。",
    "category": "Code",
    "tags": [
      "GSAP",
      "Frontend"
    ],
    "image": "/blog/posts/2024/11/gsap.jpg",
    "slug": "gasap-reference-guide",
    "code": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return e(l,{children:[n(c.h2,{children:\"為什麼我選擇 GSAP？\"}),\"\\n\",n(c.p,{children:\"做網頁的時候，最讓我興奮的就是各種動畫效果了。一開始用 CSS animation，但很快就發現限制太多；試過原生 JavaScript，但寫起來真的很痛苦。\"}),\"\\n\",n(c.p,{children:\"後來同事推薦我用 GSAP，我才知道什麼叫做「專業級動畫庫」。它不只效能好，語法也很直觀，重點是可以跟 React、Vue 完美配合。\"}),\"\\n\",n(c.p,{children:\"現在我的專案幾乎都會用到 GSAP，從簡單的 hover 效果到複雜的頁面轉場，都難不倒它。\"}),\"\\n\",n(c.h2,{children:\"安裝很簡單\"}),\"\\n\",n(c.h3,{children:\"用 npm 安裝\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install gsap\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:n(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),n(c.span,{style:{color:\"#98C379\"},children:\" install\"}),n(c.span,{style:{color:\"#98C379\"},children:\" gsap\"})]})})})}),\"\\n\",n(c.h3,{children:\"想快速測試的話用 CDN\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"html\",\"data-theme\":\"one-dark-pro\",children:\"index.html\"}),n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'<script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js\"><\\/script>',\"data-language\":\"html\",\"data-theme\":\"one-dark-pro\",children:n(c.code,{\"data-language\":\"html\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"script\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" src\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js\"'}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"></\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"script\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]})})})]}),\"\\n\",n(c.p,{children:\"我建議開發時用 npm，測試時用 CDN 比較快。\"}),\"\\n\",n(c.h2,{children:\"在 React/Next.js 中使用\"}),\"\\n\",n(c.p,{children:\"剛開始用的時候踩了一些坑，分享一下我的經驗。\"}),\"\\n\",n(c.h3,{children:\"一定要在 useEffect 裡初始化\"}),\"\\n\",n(c.p,{children:\"這點很重要！因為 GSAP 需要操作 DOM 元素，所以一定要等元素渲染完成才能執行。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { gsap } from 'gsap';\\nimport React, { useEffect } from 'react';\\n\\nconst Box = () => {\\n    useEffect(() => {\\n        // 這個動畫會讓盒子從左邊滑到右邊\\n        gsap.to('#box', { x: 300, duration: 2 });\\n    }, []);\\n\\n    return <div id=\\\"box\\\" style={{ width: '100px', height: '100px', backgroundColor: 'red' }} />;\\n};\\n\\nexport default Box;\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'gsap'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" React\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" Box\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 這個動畫會讓盒子從左邊滑到右邊\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"        gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'#box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"300\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" });\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }, []);\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'red'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" />;\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" Box\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.h3,{children:\"常用的動畫參數\"}),\"\\n\",n(c.p,{children:\"這些是我最常用的參數，基本上能解決 80% 的需求：\"}),\"\\n\",e(c.ul,{children:[\"\\n\",e(c.li,{children:[n(c.strong,{children:\"duration\"}),\": 動畫時間（秒），我通常設 1-2 秒\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"x\"}),\", \",n(c.strong,{children:\"y\"}),\": 移動距離，負數就是往反方向\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"opacity\"}),\": 透明度，做淡入淡出超好用\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"scale\"}),\": 縮放，1 是原始大小\"]}),\"\\n\"]}),\"\\n\",n(c.h3,{children:\"做連續動畫效果\"}),\"\\n\",n(c.p,{children:\"這個功能我超愛用，可以讓多個元素依序動畫：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { gsap } from 'gsap';\\nimport React, { useEffect } from 'react';\\n\\nconst Boxes = () => {\\n    useEffect(() => {\\n        // 每個盒子會間隔 0.5 秒依序動畫\\n        gsap.to('.box', {\\n            x: 300,\\n            duration: 1,\\n            stagger: 0.5,\\n        });\\n    }, []);\\n\\n    return (\\n        <>\\n            <div className=\\\"box\\\" style={{ width: '100px', height: '100px', backgroundColor: 'red', margin: '10px' }} />\\n            <div\\n                className=\\\"box\\\"\\n                style={{ width: '100px', height: '100px', backgroundColor: 'green', margin: '10px' }}\\n            />\\n            <div className=\\\"box\\\" style={{ width: '100px', height: '100px', backgroundColor: 'blue', margin: '10px' }} />\\n        </>\\n    );\\n};\\n\\nexport default Boxes;\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'gsap'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" React\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" Boxes\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"        // 每個盒子會間隔 0.5 秒依序動畫\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"        gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'.box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"300\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            stagger\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0.5\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        });\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }, []);\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        <>\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" className\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'red'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"margin\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'10px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                className\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\"                style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'green'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"margin\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'10px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            />\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" className\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'blue'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"margin\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'10px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" />\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        </>\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" Boxes\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.h2,{children:\"Timeline - 管理複雜動畫的救星\"}),\"\\n\",n(c.p,{children:\"剛開始我都是一個個動畫分開寫，後來動畫一多就亂套了。Timeline 真的解決了我的煩惱，可以把一系列動畫串起來管理。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { gsap } from 'gsap';\\nimport React, { useEffect } from 'react';\\n\\nconst TimelineExample = () => {\\n    useEffect(() => {\\n        const tl = gsap.timeline();\\n        tl.to('#box', { x: 300, duration: 1 }) // 先往右移\\n            .to('#box', { rotation: 360, duration: 1 }) // 再旋轉\\n            .to('#box', { scale: 2, duration: 1 }); // 最後放大\\n    }, []);\\n\\n    return <div id=\\\"box\\\" style={{ width: '100px', height: '100px', backgroundColor: 'red' }} />;\\n};\\n\\nexport default TimelineExample;\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'gsap'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" React\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" TimelineExample\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"        const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" tl\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"timeline\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"        tl\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'#box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"300\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }) \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 先往右移\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            .\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'#box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"rotation\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"360\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }) \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 再旋轉\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            .\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'#box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"scale\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }); \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 最後放大\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }, []);\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'red'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" />;\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" TimelineExample\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.h2,{children:\"事件回調超實用\"}),\"\\n\",n(c.p,{children:\"有時候你需要在動畫結束後執行一些邏輯，這時候回調函數就派上用場了。我常用來觸發下一個動畫或更新狀態。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { gsap } from 'gsap';\\nimport React, { useEffect } from 'react';\\n\\nconst BoxWithCallback = () => {\\n    useEffect(() => {\\n        gsap.to('#box', {\\n            x: 300,\\n            duration: 2,\\n            onComplete: () => {\\n                console.log('動畫完成！');\\n                // 這裡可以觸發其他邏輯\\n            },\\n        });\\n    }, []);\\n\\n    return <div id=\\\"box\\\" style={{ width: '100px', height: '100px', backgroundColor: 'red' }} />;\\n};\\n\\nexport default BoxWithCallback;\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'gsap'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" React\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" BoxWithCallback\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    useEffect\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(() \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"        gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'#box'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"300\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            onComplete\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"                console\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'動畫完成！'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"                // 這裡可以觸發其他邏輯\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        });\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    }, []);\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#98C379\"},children:'\"box\"'}),n(c.span,{style:{color:\"#D19A66\",fontStyle:\"italic\"},children:\" style\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"{\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"width\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"height\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'100px'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"backgroundColor\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'red'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }\"}),n(c.span,{style:{color:\"#C678DD\"},children:\"}\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" />;\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" BoxWithCallback\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.h2,{children:\"我踩過的坑\"}),\"\\n\",n(c.h3,{children:\"DOM 元素還沒準備好\"}),\"\\n\",n(c.p,{children:\"最常見的錯誤！記得要在 useEffect 裡執行，確保元素已經渲染。\"}),\"\\n\",n(c.h3,{children:\"ID 選擇器找不到元素\"}),\"\\n\",n(c.p,{children:\"檢查一下 ID 是否正確，或者元素是否真的存在於頁面上。\"}),\"\\n\",n(c.h3,{children:\"動畫太快看不清楚\"}),\"\\n\",n(c.p,{children:\"duration 設太小會看不出效果，我建議至少 0.5 秒以上。\"}),\"\\n\",n(c.h2,{children:\"實戰技巧分享\"}),\"\\n\",n(c.h3,{children:\"基本動畫組合\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 我最常用的組合：移動 + 淡入 + 縮放\\ngsap.to('.element', {\\n    duration: 1,\\n    x: 100,\\n    opacity: 0.5,\\n    scale: 1.2,\\n});\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 我最常用的組合：移動 + 淡入 + 縮放\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'.element'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"100\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    opacity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0.5\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    scale\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1.2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",n(c.h3,{children:\"依序出現效果\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 讓元素像瀑布一樣依序出現\\ngsap.to(elements, {\\n    duration: 1,\\n    y: 100,\\n    opacity: 0,\\n    stagger: {\\n        each: 0.2,\\n        from: 'start',\\n    },\\n});\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 讓元素像瀑布一樣依序出現\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"elements\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    y\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"100\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    opacity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    stagger\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"        each\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0.2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"        from\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'start'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",n(c.h3,{children:\"彈跳效果（我的最愛）\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 這個彈跳效果超棒，用戶都很喜歡\\ngsap.to(element, {\\n    duration: 2,\\n    x: 200,\\n    rotation: 360,\\n    scale: 1.5,\\n    ease: 'elastic.out(1, 0.3)', // 這個 ease 是關鍵\\n    yoyo: true,\\n    repeat: -1,\\n    repeatDelay: 1,\\n    onRepeat: () => console.log('又彈跳了一次！'),\\n});\",\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"javascript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這個彈跳效果超棒，用戶都很喜歡\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"gsap\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"to\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"element\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    duration\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"2\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    x\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"200\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    rotation\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"360\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    scale\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1.5\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    ease\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'elastic.out(1, 0.3)'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這個 ease 是關鍵\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    yoyo\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"true\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    repeat\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"-\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    repeatDelay\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    onRepeat\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" console\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"log\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),n(c.span,{style:{color:\"#98C379\"},children:\"'又彈跳了一次！'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})}),\"\\n\",n(c.h2,{children:\"我的建議\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[n(c.strong,{children:\"從簡單開始\"}),\"：先掌握基本的移動、縮放、透明度\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"多用 Timeline\"}),\"：複雜動畫一定要用，不然會很混亂\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"注意效能\"}),\"：手機上測試一下，確保不會卡頓\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"適度就好\"}),\"：動畫是加分的，不要讓它變成干擾\"]}),\"\\n\"]}),\"\\n\",n(c.p,{children:\"用了 GSAP 這麼久，我覺得它真的是前端開發者必須掌握的工具之一。不管是提升用戶體驗還是展示技術實力，都非常有用。\"}),\"\\n\",n(c.p,{children:\"有問題的話歡迎交流，我也還在持續學習中！\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};"
  },
  {
    "title": "2024年12強中華隊奪世界冠軍",
    "date": "2024-11-25T00:00:00.000Z",
    "description": "12強賽／見證歷史！中華隊奪冠中止日本27連勝 三大賽首度稱霸",
    "category": "Others",
    "tags": [
      "Baseball",
      "Sports",
      "Taiwan",
      "Championship",
      "National Team"
    ],
    "image": "/blog/posts/2024/11/2024-chinese-taipei.jpg",
    "slug": "taiwan-world-championship-2024",
    "code": "const{Fragment:n,jsx:e,jsxs:t}=arguments[0];function _createMdxContent(r){const c={h3:\"h3\",img:\"img\",p:\"p\",...r.components};return t(n,{children:[e(c.h3,{children:\"就在2024年11月24日\"}),\"\\n\",e(c.h3,{children:\"12強賽／見證歷史！中華隊奪冠中止日本27連勝 三大賽首度稱霸\"}),\"\\n\",e(c.h3,{children:\"爽！！！！！！！！！！！\"}),\"\\n\",e(c.p,{children:e(c.img,{src:\"/blog/posts/2024/11/2024-chinese-taipei.jpg\",alt:\"2024年12強中華隊奪世界冠軍\"})})]})}return{default:function(n={}){const{wrapper:t}=n.components||{};return t?e(t,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  },
  {
    "title": "Zustand 參考指南",
    "date": "2024-12-04T00:00:00.000Z",
    "description": "用過 Redux 後覺得太複雜？試試 Zustand 吧！我從複雜的狀態管理地獄中解脫出來的救星。簡單、輕量，最重要的是不用寫一堆 boilerplate 代碼。",
    "category": "Code",
    "tags": [
      "Zustand",
      "State Management",
      "Frontend"
    ],
    "image": "/blog/posts/2024/12/zustand.jpg",
    "slug": "zustand-reference-guide",
    "code": "const{Fragment:l,jsx:n,jsxs:e}=arguments[0];function _createMdxContent(r){const c={code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return e(l,{children:[n(c.h2,{children:\"為什麼我拋棄了 Redux？\"}),\"\\n\",n(c.p,{children:\"老實說，剛開始做 React 專案的時候，我就是那種看到狀態管理就用 Redux 的人。但每次要加一個簡單的 state，就要寫 action、reducer、selector... 一堆檔案，真的很煩。\"}),\"\\n\",n(c.p,{children:\"直到同事推薦我用 Zustand，我才知道狀態管理可以這麼簡單。不用 Provider、不用 connect，幾行代碼就搞定，而且 TypeScript 支援超棒。\"}),\"\\n\",n(c.p,{children:\"現在我的小專案幾乎都用 Zustand，大專案才考慮 Redux。真的，有時候簡單就是美。\"}),\"\\n\",n(c.h2,{children:\"安裝超簡單\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install zustand\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:n(c.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),n(c.span,{style:{color:\"#98C379\"},children:\" install\"}),n(c.span,{style:{color:\"#98C379\"},children:\" zustand\"})]})})})}),\"\\n\",n(c.p,{children:\"就這樣，沒有其他依賴，包大小也很小。\"}),\"\\n\",n(c.h2,{children:\"基本用法 - 5 分鐘上手\"}),\"\\n\",n(c.h3,{children:\"先創建一個 store\"}),\"\\n\",n(c.p,{children:\"這是我最常用的 counter 範例，簡單到讓我懷疑這樣真的可以嗎？\"}),\"\\n\",e(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[n(c.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"store.ts\"}),n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { create } from 'zustand';\\n\\nconst useStore = create((set) => ({\\n    count: 0,\\n    increase: () => set((state) => ({ count: state.count + 1 })),\\n    decrease: () => set((state) => ({ count: state.count - 1 })),\\n}));\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'zustand'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" useStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" })),\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    decrease\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" })),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}));\"})})]})})]}),\"\\n\",n(c.h3,{children:\"在組件中使用\"}),\"\\n\",n(c.p,{children:\"不需要 Provider，直接用就對了：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import React from 'react';\\nimport { useStore } from './store';\\n\\nconst Counter = () => {\\n    const { count, increase, decrease } = useStore();\\n\\n    return (\\n        <div>\\n            <h1>數字: {count}</h1>\\n            <button onClick={increase}>+1</button>\\n            <button onClick={decrease}>-1</button>\\n        </div>\\n    );\\n};\\n\\nexport default Counter;\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" React\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'react'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" './store'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" Counter\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    const\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"decrease\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"    return\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"div\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"            <\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"h1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"數字\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": {\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"}</\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"h1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" onClick\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">+\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#56B6C2\"},children:\"            <\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" onClick\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"{\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"decrease\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">-\"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"</\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"button\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#56B6C2\"},children:\"        </\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"div\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\">\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    );\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"};\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" Counter\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.p,{children:\"就這樣！是不是超簡單？第一次看到的時候我也不敢相信。\"}),\"\\n\",n(c.h2,{children:\"進階功能 - 讓我愛上 Zustand 的原因\"}),\"\\n\",n(c.h3,{children:\"持久化存儲\"}),\"\\n\",n(c.p,{children:\"這個功能太棒了！用戶重新整理頁面，狀態還會保留。以前要自己寫 localStorage，現在一行搞定。\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { create } from 'zustand';\\nimport { persist } from 'zustand/middleware';\\n\\nconst useStore = create(\\n    persist(\\n        (set) => ({\\n            count: 0,\\n            increase: () => set((state) => ({ count: state.count + 1 })),\\n            decrease: () => set((state) => ({ count: state.count - 1 })),\\n        }),\\n        {\\n            name: 'counter-storage', // localStorage 的 key\\n        }\\n    )\\n);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'zustand'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"persist\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'zustand/middleware'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" useStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    persist\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" })),\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            decrease\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" -\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" })),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }),\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'counter-storage'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// localStorage 的 key\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    )\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})})]})})}),\"\\n\",n(c.p,{children:\"重新整理頁面試試看，數字還會在！第一次用的時候覺得超神奇。\"}),\"\\n\",n(c.h3,{children:\"選擇性訂閱\"}),\"\\n\",n(c.p,{children:\"這是效能優化的關鍵。你可以只訂閱需要的狀態，避免不必要的重渲染：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// 只訂閱 count，increase 改變不會觸發重渲染\\nconst count = useStore((state) => state.count);\\n\\n// 只訂閱 increase 函數\\nconst increase = useStore((state) => state.increase);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只訂閱 count，increase 改變不會觸發重渲染\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 只訂閱 increase 函數\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" increase\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})}),\"\\n\",n(c.p,{children:\"我之前不知道這個功能，結果組件一直重渲染，效能很差。學會這招後效能明顯提升。\"}),\"\\n\",n(c.h2,{children:\"我踩過的坑\"}),\"\\n\",n(c.h3,{children:\"忘記使用 set 函數\"}),\"\\n\",n(c.p,{children:\"剛開始常犯這個錯誤，直接修改 state 是不會觸發更新的：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// ❌ 錯誤寫法\\nconst badStore = create((set) => ({\\n    count: 0,\\n    increase: () => {\\n        this.count++; // 這樣不會更新！\\n    },\\n}));\\n\\n// ✅ 正確寫法\\nconst goodStore = create((set) => ({\\n    count: 0,\\n    increase: () => set((state) => ({ count: state.count + 1 })),\\n}));\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ❌ 錯誤寫法\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" badStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"        this\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"++\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"; \"}),n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// 這樣不會更新！\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}));\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ✅ 正確寫法\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" goodStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" })),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}));\"})})]})})}),\"\\n\",n(c.h3,{children:\"選擇器使用不當\"}),\"\\n\",n(c.p,{children:\"一開始我都這樣寫，結果組件一直重渲染：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"// ❌ 會造成不必要的重渲染\\nconst { count, increase } = useStore();\\n\\n// ✅ 選擇性訂閱，只在需要的值變化時重渲染\\nconst count = useStore((state) => state.count);\\nconst increase = useStore((state) => state.increase);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ❌ 會造成不必要的重渲染\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#56B6C2\"},children:\"=\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"();\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"// ✅ 選擇性訂閱，只在需要的值變化時重渲染\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" count\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"count\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" increase\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" useStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"increase\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]})]})})}),\"\\n\",n(c.h2,{children:\"實際專案中的應用\"}),\"\\n\",n(c.h3,{children:\"用戶登入狀態管理\"}),\"\\n\",n(c.p,{children:\"這是我在實際專案中最常用的模式：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { create } from 'zustand';\\nimport { persist } from 'zustand/middleware';\\n\\ninterface User {\\n    id: string;\\n    name: string;\\n    email: string;\\n}\\n\\ninterface AuthStore {\\n    user: User | null;\\n    isLoggedIn: boolean;\\n    login: (user: User) => void;\\n    logout: () => void;\\n}\\n\\nconst useAuthStore = create<AuthStore>()(\\n    persist(\\n        (set) => ({\\n            user: null,\\n            isLoggedIn: false,\\n            login: (user) => set({ user, isLoggedIn: true }),\\n            logout: () => set({ user: null, isLoggedIn: false }),\\n        }),\\n        {\\n            name: 'auth-storage',\\n        }\\n    )\\n);\\n\\nexport default useAuthStore;\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'zustand'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"import\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"persist\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"from\"}),n(c.span,{style:{color:\"#98C379\"},children:\" 'zustand/middleware'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" User\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    id\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    email\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" AuthStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" | \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"null\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    isLoggedIn\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"boolean\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    login\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"User\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" void\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    logout\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" void\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" useAuthStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"AuthStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">()(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    persist\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"null\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            isLoggedIn\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"false\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            login\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"isLoggedIn\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"true\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }),\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            logout\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"user\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"null\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"isLoggedIn\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"false\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }),\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'auth-storage'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    )\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"export\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" default\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" useAuthStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]})]})})}),\"\\n\",n(c.h3,{children:\"購物車狀態\"}),\"\\n\",n(c.p,{children:\"電商網站必備的功能：\"}),\"\\n\",n(c.figure,{\"data-rehype-pretty-code-figure\":\"\",children:n(c.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"interface CartItem {\\n    id: string;\\n    name: string;\\n    price: number;\\n    quantity: number;\\n}\\n\\nconst useCartStore = create<CartStore>()(\\n    persist(\\n        (set, get) => ({\\n            items: [],\\n            addItem: (product) => {\\n                const items = get().items;\\n                const existingItem = items.find((item) => item.id === product.id);\\n\\n                if (existingItem) {\\n                    set({\\n                        items: items.map((item) =>\\n                            item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\\n                        ),\\n                    });\\n                } else {\\n                    set({ items: [...items, { ...product, quantity: 1 }] });\\n                }\\n            },\\n            removeItem: (id) =>\\n                set((state) => ({\\n                    items: state.items.filter((item) => item.id !== id),\\n                })),\\n            getTotalPrice: () => {\\n                const items = get().items;\\n                return items.reduce((total, item) => total + item.price * item.quantity, 0);\\n            },\\n        }),\\n        {\\n            name: 'cart-storage',\\n        }\\n    )\\n);\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:e(c.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"interface\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" CartItem\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    id\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"string\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    price\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"    quantity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"number\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"}\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" useCartStore\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" create\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"<\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"CartStore\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\">()(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"    persist\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"(\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"        (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"get\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": [],\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            addItem\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"product\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" items\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" get\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" existingItem\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"find\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" product\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                if\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"existingItem\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"                    set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"                        items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"map\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E5C07B\"},children:\"                            item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" product\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),n(c.span,{style:{color:\"#C678DD\"},children:\" ?\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" { ...\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"quantity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"quantity\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#D19A66\"},children:\" 1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\":\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" item\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"                        ),\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"                    });\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#ABB2BF\"},children:\"                } \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"else\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"                    set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"({ \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": [...\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", { ...\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"product\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\"},children:\"quantity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"1\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" }] });\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"                }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            removeItem\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": (\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"id\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"                set\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" ({\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"                    items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"state\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"filter\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"id\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" !==\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" id\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"),\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"                })),\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#61AFEF\"},children:\"            getTotalPrice\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": () \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                const\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" items\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" =\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\" get\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"().\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#C678DD\"},children:\"                return\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" items\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#61AFEF\"},children:\"reduce\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"total\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\") \"}),n(c.span,{style:{color:\"#C678DD\"},children:\"=>\"}),n(c.span,{style:{color:\"#E06C75\"},children:\" total\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" +\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"price\"}),n(c.span,{style:{color:\"#56B6C2\"},children:\" *\"}),n(c.span,{style:{color:\"#E5C07B\"},children:\" item\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\".\"}),n(c.span,{style:{color:\"#E06C75\"},children:\"quantity\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\", \"}),n(c.span,{style:{color:\"#D19A66\"},children:\"0\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"            },\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }),\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        {\"})}),\"\\n\",e(c.span,{\"data-line\":\"\",children:[n(c.span,{style:{color:\"#E06C75\"},children:\"            name\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\": \"}),n(c.span,{style:{color:\"#98C379\"},children:\"'cart-storage'\"}),n(c.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"        }\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\"    )\"})}),\"\\n\",n(c.span,{\"data-line\":\"\",children:n(c.span,{style:{color:\"#ABB2BF\"},children:\");\"})})]})})}),\"\\n\",n(c.h2,{children:\"對比 Redux - 為什麼我選擇 Zustand\"}),\"\\n\",e(c.table,{children:[n(c.thead,{children:e(c.tr,{children:[n(c.th,{children:\"特性\"}),n(c.th,{children:\"Zustand\"}),n(c.th,{children:\"Redux\"})]})}),e(c.tbody,{children:[e(c.tr,{children:[n(c.td,{children:\"學習曲線\"}),n(c.td,{children:\"很簡單，5分鐘上手\"}),n(c.td,{children:\"需要學習很多概念\"})]}),e(c.tr,{children:[n(c.td,{children:\"Boilerplate\"}),n(c.td,{children:\"幾乎沒有\"}),n(c.td,{children:\"一堆檔案\"})]}),e(c.tr,{children:[n(c.td,{children:\"TypeScript\"}),n(c.td,{children:\"原生支援\"}),n(c.td,{children:\"需要額外設定\"})]}),e(c.tr,{children:[n(c.td,{children:\"包大小\"}),n(c.td,{children:\"超小\"}),n(c.td,{children:\"比較大\"})]}),e(c.tr,{children:[n(c.td,{children:\"DevTools\"}),n(c.td,{children:\"支援\"}),n(c.td,{children:\"原生支援\"})]})]})]}),\"\\n\",n(c.p,{children:\"不是說 Redux 不好，大型專案還是有它的價值。但對於中小型專案，Zustand 真的是更好的選擇。\"}),\"\\n\",n(c.h2,{children:\"我的建議\"}),\"\\n\",n(c.h3,{children:\"什麼時候用 Zustand？\"}),\"\\n\",e(c.ul,{children:[\"\\n\",n(c.li,{children:\"中小型專案\"}),\"\\n\",n(c.li,{children:\"不需要複雜的狀態邏輯\"}),\"\\n\",n(c.li,{children:\"團隊對 Redux 不熟悉\"}),\"\\n\",n(c.li,{children:\"想要快速開發\"}),\"\\n\"]}),\"\\n\",n(c.h3,{children:\"什麼時候還是用 Redux？\"}),\"\\n\",e(c.ul,{children:[\"\\n\",n(c.li,{children:\"大型專案\"}),\"\\n\",n(c.li,{children:\"需要時間旅行除錯\"}),\"\\n\",n(c.li,{children:\"複雜的狀態邏輯\"}),\"\\n\",n(c.li,{children:\"團隊已經很熟悉 Redux\"}),\"\\n\"]}),\"\\n\",n(c.h3,{children:\"最佳實踐\"}),\"\\n\",e(c.ol,{children:[\"\\n\",e(c.li,{children:[n(c.strong,{children:\"合理拆分 store\"}),\"：不要把所有狀態都放在一個 store 裡\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"善用 persist\"}),\"：用戶體驗會好很多\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"選擇性訂閱\"}),\"：效能優化的關鍵\"]}),\"\\n\",e(c.li,{children:[n(c.strong,{children:\"配合 TypeScript\"}),\"：類型安全很重要\"]}),\"\\n\"]}),\"\\n\",n(c.h2,{children:\"總結\"}),\"\\n\",n(c.p,{children:\"用了 Zustand 一年多，我真的覺得它改變了我對狀態管理的看法。簡單、直觀、效能好，還有什麼好挑剔的？\"}),\"\\n\",n(c.p,{children:\"如果你還在 Redux 的複雜性中掙扎，真的建議試試 Zustand。可能幾分鐘就會愛上它，就像我一樣。\"}),\"\\n\",n(c.p,{children:\"有任何問題都可以討論，我也還在不斷學習中！\"})]})}return{default:function(l={}){const{wrapper:e}=l.components||{};return e?n(e,{...l,children:n(_createMdxContent,{...l})}):_createMdxContent(l)}};"
  },
  {
    "title": "發布 NPM 套件指南",
    "date": "2024-12-05T00:00:00.000Z",
    "description": "第一次發布 NPM 套件的時候超緊張，深怕搞壞什麼東西。結果其實沒那麼可怕！這篇分享我從零開始發布套件的完整流程，包括那些我踩過的坑。",
    "category": "Code",
    "tags": [
      "NPM",
      "Node.js",
      "JavaScript",
      "Package Management",
      "Development"
    ],
    "image": "/blog/posts/2024/12/npm.webp",
    "slug": "publish-npm-package-guide",
    "code": "const{Fragment:n,jsx:e,jsxs:l}=arguments[0];function _createMdxContent(r){const a={a:\"a\",code:\"code\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return l(n,{children:[e(a.h2,{children:\"為什麼要發布自己的 NPM 套件？\"}),\"\\n\",e(a.p,{children:\"說實話，以前我都覺得發布 NPM 套件是大神才做的事。直到我寫了一個自己常用的工具函數，每次新專案都要複製貼上，才想說不如做成套件。\"}),\"\\n\",e(a.p,{children:\"結果發現其實沒那麼難！而且有幾個好處：\"}),\"\\n\",l(a.ul,{children:[\"\\n\",l(a.li,{children:[e(a.strong,{children:\"重複使用\"}),\"：一次開發，到處使用\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"版本管理\"}),\"：不用每次都複製程式碼\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"分享給社群\"}),\"：說不定能幫到其他人\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"履歷加分\"}),\"：開源貢獻總是好事\"]}),\"\\n\"]}),\"\\n\",e(a.h2,{children:\"初始化專案\"}),\"\\n\",e(a.p,{children:\"首先建立一個新資料夾，然後初始化：\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"mkdir my-awesome-package\\ncd my-awesome-package\\nnpm init\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"mkdir\"}),e(a.span,{style:{color:\"#98C379\"},children:\" my-awesome-package\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#56B6C2\"},children:\"cd\"}),e(a.span,{style:{color:\"#98C379\"},children:\" my-awesome-package\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" init\"})]})]})})}),\"\\n\",e(a.p,{children:\"如果想要快速建立，可以用：\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm init -y\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" init\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" -y\"})]})})})}),\"\\n\",e(a.h2,{children:\"package.json 的關鍵設定\"}),\"\\n\",e(a.p,{children:\"這是我發布套件時的 package.json 範例：\"}),\"\\n\",l(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:\"package.json\"}),e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"name\": \"chinese-number-format\",\\n    \"version\": \"1.0.2\",\\n    \"description\": \"中文數字轉換工具\",\\n    \"main\": \"dist/index.js\",\\n    \"types\": \"dist/index.d.ts\",\\n    \"scripts\": {\\n        \"build\": \"tsc\",\\n        \"test\": \"jest\"\\n    },\\n    \"repository\": {\\n        \"type\": \"git\",\\n        \"url\": \"https://github.com/garylin0969/chinese-number-format.git\"\\n    },\\n    \"keywords\": [\"中文\", \"數字\", \"轉換\", \"台灣\"],\\n    \"author\": {\\n        \"name\": \"GaryLin\",\\n        \"email\": \"gary@example.com\"\\n    },\\n    \"license\": \"MIT\"\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"name\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"chinese-number-format\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"version\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"1.0.2\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"description\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"中文數字轉換工具\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"main\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"dist/index.js\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"types\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"dist/index.d.ts\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"scripts\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"build\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"tsc\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"test\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"jest\"'})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"repository\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"type\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"git\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"url\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"https://github.com/garylin0969/chinese-number-format.git\"'})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"keywords\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),e(a.span,{style:{color:\"#98C379\"},children:'\"中文\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"數字\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"轉換\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"台灣\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"author\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"name\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"GaryLin\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"email\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"gary@example.com\"'})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"license\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"MIT\"'})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",e(a.h3,{children:\"重要欄位說明\"}),\"\\n\",l(a.ul,{children:[\"\\n\",l(a.li,{children:[e(a.strong,{children:\"name\"}),\": 套件名稱，要是唯一的（去 npmjs.com 確認沒被用過）\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"version\"}),\": 版本號，遵循 semantic versioning\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"description\"}),\": 簡短說明，會出現在搜尋結果\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"main\"}),\": 進入點檔案\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"keywords\"}),\": 關鍵字，幫助別人找到你的套件\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"repository\"}),\": GitHub 連結，讓人知道原始碼在哪\"]}),\"\\n\"]}),\"\\n\",e(a.h2,{children:\"使用 TypeScript 開發\"}),\"\\n\",e(a.p,{children:\"我建議用 TypeScript 開發，提供型別定義會讓用戶體驗更好：\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install typescript --save-dev\\nnpx tsc --init\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" install\"}),e(a.span,{style:{color:\"#98C379\"},children:\" typescript\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" --save-dev\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npx\"}),e(a.span,{style:{color:\"#98C379\"},children:\" tsc\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" --init\"})]})]})})}),\"\\n\",e(a.p,{children:\"我的 tsconfig.json 設定：\"}),\"\\n\",l(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:\"tsconfig.json\"}),e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'{\\n    \"compilerOptions\": {\\n        \"target\": \"es2016\",\\n        \"module\": \"commonjs\",\\n        \"outDir\": \"./dist\",\\n        \"declaration\": true,\\n        \"strict\": true,\\n        \"esModuleInterop\": true\\n    },\\n    \"include\": [\"src/**/*.ts\"],\\n    \"exclude\": [\"node_modules\", \"dist\"]\\n}',\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"json\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"{\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"compilerOptions\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"target\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"es2016\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"module\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"commonjs\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"outDir\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"./dist\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"declaration\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#D19A66\"},children:\"true\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"strict\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#D19A66\"},children:\"true\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\",\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'        \"esModuleInterop\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#D19A66\"},children:\"true\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"    },\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"include\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),e(a.span,{style:{color:\"#98C379\"},children:'\"src/**/*.ts\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"],\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#E06C75\"},children:'    \"exclude\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": [\"}),e(a.span,{style:{color:\"#98C379\"},children:'\"node_modules\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:'\"dist\"'}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"]\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",e(a.h2,{children:\"實際開發套件\"}),\"\\n\",e(a.p,{children:\"假設我要做一個簡單的工具函數：\"}),\"\\n\",l(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/index.ts\"}),e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"/**\\n * 將數字轉換為中文\\n * @param num 要轉換的數字\\n * @returns 中文數字字串\\n */\\nexport function numberToChinese(num: number): string {\\n    const digits = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];\\n    const units = ['', '十', '百', '千', '萬'];\\n\\n    if (num === 0) return '零';\\n\\n    // 簡化版實作，實際會更複雜\\n    return num\\n        .toString()\\n        .split('')\\n        .map((d) => digits[parseInt(d)])\\n        .join('');\\n}\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"/**\"})}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" * 將數字轉換為中文\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" * \"}),e(a.span,{style:{color:\"#C678DD\",fontStyle:\"italic\"},children:\"@param\"}),e(a.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\" num\"}),e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" 要轉換的數字\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" * \"}),e(a.span,{style:{color:\"#C678DD\",fontStyle:\"italic\"},children:\"@returns\"}),e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" 中文數字字串\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\" */\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"export\"}),e(a.span,{style:{color:\"#C678DD\"},children:\" function\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\" numberToChinese\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"num\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\": \"}),e(a.span,{style:{color:\"#E5C07B\"},children:\"number\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"): \"}),e(a.span,{style:{color:\"#E5C07B\"},children:\"string\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"    const\"}),e(a.span,{style:{color:\"#E5C07B\"},children:\" digits\"}),e(a.span,{style:{color:\"#56B6C2\"},children:\" =\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),e(a.span,{style:{color:\"#98C379\"},children:\"'零'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'一'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'二'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'三'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'四'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'五'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'六'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'七'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'八'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'九'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"    const\"}),e(a.span,{style:{color:\"#E5C07B\"},children:\" units\"}),e(a.span,{style:{color:\"#56B6C2\"},children:\" =\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" [\"}),e(a.span,{style:{color:\"#98C379\"},children:\"''\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'十'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'百'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'千'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", \"}),e(a.span,{style:{color:\"#98C379\"},children:\"'萬'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"];\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"    if\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" (\"}),e(a.span,{style:{color:\"#E06C75\"},children:\"num\"}),e(a.span,{style:{color:\"#56B6C2\"},children:\" ===\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" 0\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\") \"}),e(a.span,{style:{color:\"#C678DD\"},children:\"return\"}),e(a.span,{style:{color:\"#98C379\"},children:\" '零'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"    // 簡化版實作，實際會更複雜\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"    return\"}),e(a.span,{style:{color:\"#E06C75\"},children:\" num\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#ABB2BF\"},children:\"        .\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"toString\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"()\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#ABB2BF\"},children:\"        .\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"split\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"''\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\")\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#ABB2BF\"},children:\"        .\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"map\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"((\"}),e(a.span,{style:{color:\"#E06C75\",fontStyle:\"italic\"},children:\"d\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\") \"}),e(a.span,{style:{color:\"#C678DD\"},children:\"=>\"}),e(a.span,{style:{color:\"#E06C75\"},children:\" digits\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"[\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"parseInt\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#E06C75\"},children:\"d\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\")])\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#ABB2BF\"},children:\"        .\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"join\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"''\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"}\"})})]})})]}),\"\\n\",e(a.h2,{children:\"測試很重要\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install jest @types/jest ts-jest --save-dev\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" install\"}),e(a.span,{style:{color:\"#98C379\"},children:\" jest\"}),e(a.span,{style:{color:\"#98C379\"},children:\" @types/jest\"}),e(a.span,{style:{color:\"#98C379\"},children:\" ts-jest\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" --save-dev\"})]})})})}),\"\\n\",l(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[e(a.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:\"src/index.test.ts\"}),e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"import { numberToChinese } from './index';\\n\\ndescribe('numberToChinese', () => {\\n    test('基本轉換', () => {\\n        expect(numberToChinese(123)).toBe('一二三');\\n        expect(numberToChinese(0)).toBe('零');\\n    });\\n});\",\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"typescript\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#C678DD\"},children:\"import\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" { \"}),e(a.span,{style:{color:\"#E06C75\"},children:\"numberToChinese\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" } \"}),e(a.span,{style:{color:\"#C678DD\"},children:\"from\"}),e(a.span,{style:{color:\"#98C379\"},children:\" './index'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\";\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"describe\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"'numberToChinese'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", () \"}),e(a.span,{style:{color:\"#C678DD\"},children:\"=>\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"    test\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"'基本轉換'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\", () \"}),e(a.span,{style:{color:\"#C678DD\"},children:\"=>\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\" {\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"        expect\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"numberToChinese\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#D19A66\"},children:\"123\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\")).\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"toBe\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"'一二三'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"        expect\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"numberToChinese\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#D19A66\"},children:\"0\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\")).\"}),e(a.span,{style:{color:\"#61AFEF\"},children:\"toBe\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\"(\"}),e(a.span,{style:{color:\"#98C379\"},children:\"'零'\"}),e(a.span,{style:{color:\"#ABB2BF\"},children:\");\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"    });\"})}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#ABB2BF\"},children:\"});\"})})]})})]}),\"\\n\",e(a.h2,{children:\"建置套件\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm run build\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" run\"}),e(a.span,{style:{color:\"#98C379\"},children:\" build\"})]})})})}),\"\\n\",l(a.p,{children:[\"這會產生 \",e(a.code,{children:\"dist\"}),\" 資料夾，裡面有編譯後的 JS 檔案和型別定義檔。\"]}),\"\\n\",e(a.h2,{children:\"發布前的檢查\"}),\"\\n\",e(a.h3,{children:\"1. 測試本地安裝\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm pack\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" pack\"})]})})})}),\"\\n\",l(a.p,{children:[\"這會產生一個 \",e(a.code,{children:\".tgz\"}),\" 檔案，你可以在其他專案裡測試：\"]}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm install ../my-package/my-package-1.0.0.tgz\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" install\"}),e(a.span,{style:{color:\"#98C379\"},children:\" ../my-package/my-package-1.0.0.tgz\"})]})})})}),\"\\n\",e(a.h3,{children:\"2. 確認檔案內容\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm publish --dry-run\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" publish\"}),e(a.span,{style:{color:\"#D19A66\"},children:\" --dry-run\"})]})})})}),\"\\n\",e(a.p,{children:\"這會顯示將要發布的檔案清單，確認沒有包含不該包含的檔案。\"}),\"\\n\",e(a.h2,{children:\"註冊 NPM 帳號並發布\"}),\"\\n\",e(a.h3,{children:\"1. 註冊帳號\"}),\"\\n\",l(a.p,{children:[\"去 \",e(a.a,{href:\"https://www.npmjs.com\",children:\"npmjs.com\"}),\" 註冊帳號。\"]}),\"\\n\",e(a.h3,{children:\"2. 本地登入\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm login\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" login\"})]})})})}),\"\\n\",e(a.h3,{children:\"3. 發布套件\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm publish\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" publish\"})]})})})}),\"\\n\",e(a.p,{children:\"第一次發布可能會很緊張，但其實就這麼簡單！\"}),\"\\n\",e(a.h2,{children:\"我踩過的坑\"}),\"\\n\",e(a.h3,{children:\"1. 套件名稱衝突\"}),\"\\n\",e(a.p,{children:\"我一開始取的名稱已經被用了，所以要記得先去 npmjs.com 搜尋確認。\"}),\"\\n\",e(a.h3,{children:\"2. 忘記建置就發布\"}),\"\\n\",l(a.p,{children:[\"發布前一定要記得 \",e(a.code,{children:\"npm run build\"}),\"，不然用戶安裝到的是原始碼。\"]}),\"\\n\",e(a.h3,{children:\"3. .gitignore 和 .npmignore 搞混\"}),\"\\n\",e(a.p,{children:\"記住：\"}),\"\\n\",l(a.ul,{children:[\"\\n\",l(a.li,{children:[e(a.code,{children:\".gitignore\"}),\" 控制什麼不要上傳到 Git\"]}),\"\\n\",l(a.li,{children:[e(a.code,{children:\".npmignore\"}),\" 控制什麼不要發布到 NPM\"]}),\"\\n\"]}),\"\\n\",e(a.h3,{children:\"4. 版本號忘記更新\"}),\"\\n\",e(a.p,{children:\"每次發布前記得更新版本號，或使用：\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"npm version patch  # 1.0.0 → 1.0.1\\nnpm version minor  # 1.0.0 → 1.1.0\\nnpm version major  # 1.0.0 → 2.0.0\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" version\"}),e(a.span,{style:{color:\"#98C379\"},children:\" patch\"}),e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"  # 1.0.0 → 1.0.1\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" version\"}),e(a.span,{style:{color:\"#98C379\"},children:\" minor\"}),e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"  # 1.0.0 → 1.1.0\"})]}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" version\"}),e(a.span,{style:{color:\"#98C379\"},children:\" major\"}),e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"  # 1.0.0 → 2.0.0\"})]})]})})}),\"\\n\",e(a.h2,{children:\"維護和更新\"}),\"\\n\",e(a.h3,{children:\"發布新版本\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:\"# 更新版本號\\nnpm version patch\\n\\n# 發布\\nnpm publish\",\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:l(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:[e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 更新版本號\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" version\"}),e(a.span,{style:{color:\"#98C379\"},children:\" patch\"})]}),\"\\n\",e(a.span,{\"data-line\":\"\",children:\" \"}),\"\\n\",e(a.span,{\"data-line\":\"\",children:e(a.span,{style:{color:\"#7F848E\",fontStyle:\"italic\"},children:\"# 發布\"})}),\"\\n\",l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" publish\"})]})]})})}),\"\\n\",e(a.h3,{children:\"廢棄舊版本\"}),\"\\n\",e(a.p,{children:\"如果某個版本有問題：\"}),\"\\n\",e(a.figure,{\"data-rehype-pretty-code-figure\":\"\",children:e(a.pre,{style:{backgroundColor:\"#282c34\",color:\"#abb2bf\"},tabIndex:\"0\",rawcontent:'npm deprecate my-package@1.0.0 \"這個版本有 bug，請使用 1.0.1\"',\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",children:e(a.code,{\"data-language\":\"bash\",\"data-theme\":\"one-dark-pro\",style:{display:\"grid\"},children:l(a.span,{\"data-line\":\"\",children:[e(a.span,{style:{color:\"#61AFEF\"},children:\"npm\"}),e(a.span,{style:{color:\"#98C379\"},children:\" deprecate\"}),e(a.span,{style:{color:\"#98C379\"},children:\" my-package@1.0.0\"}),e(a.span,{style:{color:\"#98C379\"},children:' \"這個版本有 bug，請使用 1.0.1\"'})]})})})}),\"\\n\",e(a.h2,{children:\"最佳實踐\"}),\"\\n\",l(a.ol,{children:[\"\\n\",l(a.li,{children:[e(a.strong,{children:\"寫好 README\"}),\"：這是用戶看到的第一印象\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"提供型別定義\"}),\"：TypeScript 用戶會感謝你\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"寫測試\"}),\"：確保品質，也讓別人敢用\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"遵循語義化版本\"}),\"：破壞性變更要升 major 版本\"]}),\"\\n\",l(a.li,{children:[e(a.strong,{children:\"及時回應 issue\"}),\"：維護開源專案的責任\"]}),\"\\n\"]}),\"\\n\",e(a.h2,{children:\"推廣你的套件\"}),\"\\n\",l(a.ul,{children:[\"\\n\",e(a.li,{children:\"在 GitHub README 加上安裝說明\"}),\"\\n\",e(a.li,{children:\"寫部落格文章介紹\"}),\"\\n\",e(a.li,{children:\"在相關社群分享\"}),\"\\n\",e(a.li,{children:\"收集用戶反饋持續改進\"}),\"\\n\"]}),\"\\n\",e(a.p,{children:\"發布第一個 NPM 套件真的很有成就感！雖然一開始會緊張，但其實過程很簡單。最重要的是解決實際問題，哪怕只是一個小工具，只要有用就值得分享。\"}),\"\\n\",e(a.p,{children:\"有任何問題歡迎討論！\"})]})}return{default:function(n={}){const{wrapper:l}=n.components||{};return l?e(l,{...n,children:e(_createMdxContent,{...n})}):_createMdxContent(n)}};"
  }
]